!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var i,o,a=n(2),s=n(3),c=n(9),u=n(10),h=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),f=new s.ErrorFactory("app","Firebase",h),l=((o={})["@firebase/app"]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),p=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new c.ComponentContainer(e.name),this._addComponent(new c.Component("app",(function(){return o}),"PUBLIC"));try{for(var u=a.__values(this.firebase_.INTERNAL.components.values()),h=u.next();!h.done;h=u.next()){var f=h.value;this._addComponent(f)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw f.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var v=
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(){var e=
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={});if("object"!==r(o)||null===o){o={name:o}}var a=o;void 0===a.name&&(a.name="[DEFAULT]");var c=a.name;if("string"!=typeof c||!c)throw f.create("bad-app-name",{appName:String(c)});if(s.contains(e,c))throw f.create("duplicate-app",{appName:c});var u=new t(n,a,i);return e[c]=u,u},app:o,registerVersion:function(t,e,n){var r,i=null!==(r=l[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var s=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&s.push("and"),a&&s.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(s.join(" "))}h(new c.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw f.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.14.3",INTERNAL:{registerComponent:h,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function o(t){if(t=t||"[DEFAULT]",!s.contains(e,t))throw f.create("no-app",{appName:t});return e[t]}function h(r){var c,u,h=r.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===r.type?i[h]:null;if(n.set(h,r),"PUBLIC"===r.type){var l=function(t){if(void 0===t&&(t=o()),"function"!=typeof t[h])throw f.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==r.serviceProps&&s.deepExtend(l,r.serviceProps),i[h]=l,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,r.multipleInstances?t:[])}}try{for(var d=a.__values(Object.keys(e)),v=d.next();!v.done;v=d.next()){var m=v.value;e[m]._addComponent(r)}}catch(t){c={error:t}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(c)throw c.error}}return"PUBLIC"===r.type?i[h]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),o.App=t,i}(d);return e.INTERNAL=a.__assign(a.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(s.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,t)};var b=v;!function(t,e){t.INTERNAL.registerComponent(new c.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.3",e),t.registerVersion("fire-js","")}(b),e.default=b,e.firebase=b},function(t,e,n){"use strict";(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};n.localCName=n.generateIdentifier(),n.splitLines=function(t){return t.trim().split("\n").map((function(t){return t.trim()}))},n.splitSections=function(t){return t.split("\nm=").map((function(t,e){return(e>0?"m="+t:t).trim()+"\r\n"}))},n.getDescription=function(t){var e=n.splitSections(t);return e&&e[0]},n.getMediaSections=function(t){var e=n.splitSections(t);return e.shift(),e},n.matchPrefix=function(t,e){return n.splitLines(t).filter((function(t){return 0===t.indexOf(e)}))},n.parseCandidate=function(t){for(var e,n={foundation:(e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" "))[0],component:parseInt(e[1],10),protocol:e[2].toLowerCase(),priority:parseInt(e[3],10),ip:e[4],address:e[4],port:parseInt(e[5],10),type:e[7]},r=8;r<e.length;r+=2)switch(e[r]){case"raddr":n.relatedAddress=e[r+1];break;case"rport":n.relatedPort=parseInt(e[r+1],10);break;case"tcptype":n.tcpType=e[r+1];break;case"ufrag":n.ufrag=e[r+1],n.usernameFragment=e[r+1];break;default:n[e[r]]=e[r+1]}return n},n.writeCandidate=function(t){var e=[];e.push(t.foundation),e.push(t.component),e.push(t.protocol.toUpperCase()),e.push(t.priority),e.push(t.address||t.ip),e.push(t.port);var n=t.type;return e.push("typ"),e.push(n),"host"!==n&&t.relatedAddress&&t.relatedPort&&(e.push("raddr"),e.push(t.relatedAddress),e.push("rport"),e.push(t.relatedPort)),t.tcpType&&"tcp"===t.protocol.toLowerCase()&&(e.push("tcptype"),e.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(e.push("ufrag"),e.push(t.usernameFragment||t.ufrag)),"candidate:"+e.join(" ")},n.parseIceOptions=function(t){return t.substr(14).split(" ")},n.parseRtpMap=function(t){var e=t.substr(9).split(" "),n={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),n.name=e[0],n.clockRate=parseInt(e[1],10),n.channels=3===e.length?parseInt(e[2],10):1,n.numChannels=n.channels,n},n.writeRtpMap=function(t){var e=t.payloadType;void 0!==t.preferredPayloadType&&(e=t.preferredPayloadType);var n=t.channels||t.numChannels||1;return"a=rtpmap:"+e+" "+t.name+"/"+t.clockRate+(1!==n?"/"+n:"")+"\r\n"},n.parseExtmap=function(t){var e=t.substr(9).split(" ");return{id:parseInt(e[0],10),direction:e[0].indexOf("/")>0?e[0].split("/")[1]:"sendrecv",uri:e[1]}},n.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&"sendrecv"!==t.direction?"/"+t.direction:"")+" "+t.uri+"\r\n"},n.parseFmtp=function(t){for(var e,n={},r=t.substr(t.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(e=r[i].trim().split("="))[0].trim()]=e[1];return n},n.writeFmtp=function(t){var e="",n=t.payloadType;if(void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){var r=[];Object.keys(t.parameters).forEach((function(e){t.parameters[e]?r.push(e+"="+t.parameters[e]):r.push(e)})),e+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return e},n.parseRtcpFb=function(t){var e=t.substr(t.indexOf(" ")+1).split(" ");return{type:e.shift(),parameter:e.join(" ")}},n.writeRtcpFb=function(t){var e="",n=t.payloadType;return void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach((function(t){e+="a=rtcp-fb:"+n+" "+t.type+(t.parameter&&t.parameter.length?" "+t.parameter:"")+"\r\n"})),e},n.parseSsrcMedia=function(t){var e=t.indexOf(" "),n={ssrc:parseInt(t.substr(7,e-7),10)},r=t.indexOf(":",e);return r>-1?(n.attribute=t.substr(e+1,r-e-1),n.value=t.substr(r+1)):n.attribute=t.substr(e+1),n},n.parseSsrcGroup=function(t){var e=t.substr(13).split(" ");return{semantics:e.shift(),ssrcs:e.map((function(t){return parseInt(t,10)}))}},n.getMid=function(t){var e=n.matchPrefix(t,"a=mid:")[0];if(e)return e.substr(6)},n.parseFingerprint=function(t){var e=t.substr(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1]}},n.getDtlsParameters=function(t,e){return{role:"auto",fingerprints:n.matchPrefix(t+e,"a=fingerprint:").map(n.parseFingerprint)}},n.writeDtlsParameters=function(t,e){var n="a=setup:"+e+"\r\n";return t.fingerprints.forEach((function(t){n+="a=fingerprint:"+t.algorithm+" "+t.value+"\r\n"})),n},n.parseCryptoLine=function(t){var e=t.substr(9).split(" ");return{tag:parseInt(e[0],10),cryptoSuite:e[1],keyParams:e[2],sessionParams:e.slice(3)}},n.writeCryptoLine=function(t){return"a=crypto:"+t.tag+" "+t.cryptoSuite+" "+("object"===e(t.keyParams)?n.writeCryptoKeyParams(t.keyParams):t.keyParams)+(t.sessionParams?" "+t.sessionParams.join(" "):"")+"\r\n"},n.parseCryptoKeyParams=function(t){if(0!==t.indexOf("inline:"))return null;var e=t.substr(7).split("|");return{keyMethod:"inline",keySalt:e[0],lifeTime:e[1],mkiValue:e[2]?e[2].split(":")[0]:void 0,mkiLength:e[2]?e[2].split(":")[1]:void 0}},n.writeCryptoKeyParams=function(t){return t.keyMethod+":"+t.keySalt+(t.lifeTime?"|"+t.lifeTime:"")+(t.mkiValue&&t.mkiLength?"|"+t.mkiValue+":"+t.mkiLength:"")},n.getCryptoParameters=function(t,e){return n.matchPrefix(t+e,"a=crypto:").map(n.parseCryptoLine)},n.getIceParameters=function(t,e){var r=n.matchPrefix(t+e,"a=ice-ufrag:")[0],i=n.matchPrefix(t+e,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substr(12),password:i.substr(10)}:null},n.writeIceParameters=function(t){return"a=ice-ufrag:"+t.usernameFragment+"\r\na=ice-pwd:"+t.password+"\r\n"},n.parseRtpParameters=function(t){for(var e={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=n.splitLines(t)[0].split(" "),i=3;i<r.length;i++){var o=r[i],a=n.matchPrefix(t,"a=rtpmap:"+o+" ")[0];if(a){var s=n.parseRtpMap(a),c=n.matchPrefix(t,"a=fmtp:"+o+" ");switch(s.parameters=c.length?n.parseFmtp(c[0]):{},s.rtcpFeedback=n.matchPrefix(t,"a=rtcp-fb:"+o+" ").map(n.parseRtcpFb),e.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":e.fecMechanisms.push(s.name.toUpperCase())}}}return n.matchPrefix(t,"a=extmap:").forEach((function(t){e.headerExtensions.push(n.parseExtmap(t))})),e},n.writeRtpDescription=function(t,e){var r="";r+="m="+t+" ",r+=e.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=e.codecs.map((function(t){return void 0!==t.preferredPayloadType?t.preferredPayloadType:t.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",e.codecs.forEach((function(t){r+=n.writeRtpMap(t),r+=n.writeFmtp(t),r+=n.writeRtcpFb(t)}));var i=0;return e.codecs.forEach((function(t){t.maxptime>i&&(i=t.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),r+="a=rtcp-mux\r\n",e.headerExtensions&&e.headerExtensions.forEach((function(t){r+=n.writeExtmap(t)})),r},n.parseRtpEncodingParameters=function(t){var e,r=[],i=n.parseRtpParameters(t),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=n.matchPrefix(t,"a=ssrc:").map((function(t){return n.parseSsrcMedia(t)})).filter((function(t){return"cname"===t.attribute})),c=s.length>0&&s[0].ssrc,u=n.matchPrefix(t,"a=ssrc-group:FID").map((function(t){return t.substr(17).split(" ").map((function(t){return parseInt(t,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(e=u[0][1]),i.codecs.forEach((function(t){if("RTX"===t.name.toUpperCase()&&t.parameters.apt){var n={ssrc:c,codecPayloadType:parseInt(t.parameters.apt,10)};c&&e&&(n.rtx={ssrc:e}),r.push(n),o&&((n=JSON.parse(JSON.stringify(n))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},r.push(n))}})),0===r.length&&c&&r.push({ssrc:c});var h=n.matchPrefix(t,"b=");return h.length&&(h=0===h[0].indexOf("b=TIAS:")?parseInt(h[0].substr(7),10):0===h[0].indexOf("b=AS:")?1e3*parseInt(h[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(t){t.maxBitrate=h}))),r},n.parseRtcpParameters=function(t){var e={},r=n.matchPrefix(t,"a=ssrc:").map((function(t){return n.parseSsrcMedia(t)})).filter((function(t){return"cname"===t.attribute}))[0];r&&(e.cname=r.value,e.ssrc=r.ssrc);var i=n.matchPrefix(t,"a=rtcp-rsize");e.reducedSize=i.length>0,e.compound=0===i.length;var o=n.matchPrefix(t,"a=rtcp-mux");return e.mux=o.length>0,e},n.parseMsid=function(t){var e,r=n.matchPrefix(t,"a=msid:");if(1===r.length)return{stream:(e=r[0].substr(7).split(" "))[0],track:e[1]};var i=n.matchPrefix(t,"a=ssrc:").map((function(t){return n.parseSsrcMedia(t)})).filter((function(t){return"msid"===t.attribute}));return i.length>0?{stream:(e=i[0].value.split(" "))[0],track:e[1]}:void 0},n.parseSctpDescription=function(t){var e,r=n.parseMLine(t),i=n.matchPrefix(t,"a=max-message-size:");i.length>0&&(e=parseInt(i[0].substr(19),10)),isNaN(e)&&(e=65536);var o=n.matchPrefix(t,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:r.fmt,maxMessageSize:e};if(n.matchPrefix(t,"a=sctpmap:").length>0){var a=n.matchPrefix(t,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:e}}},n.writeSctpDescription=function(t,e){var n=[];return n="DTLS/SCTP"!==t.protocol?["m="+t.kind+" 9 "+t.protocol+" "+e.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+e.port+"\r\n"]:["m="+t.kind+" 9 "+t.protocol+" "+e.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+e.port+" "+e.protocol+" 65535\r\n"],void 0!==e.maxMessageSize&&n.push("a=max-message-size:"+e.maxMessageSize+"\r\n"),n.join("")},n.generateSessionId=function(){return Math.random().toString().substr(2,21)},n.writeSessionBoilerplate=function(t,e,r){var i=void 0!==e?e:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(t||n.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(t,e,r,i){var o=n.writeRtpDescription(t.kind,e);if(o+=n.writeIceParameters(t.iceGatherer.getLocalParameters()),o+=n.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+t.mid+"\r\n",t.direction?o+="a="+t.direction+"\r\n":t.rtpSender&&t.rtpReceiver?o+="a=sendrecv\r\n":t.rtpSender?o+="a=sendonly\r\n":t.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",t.rtpSender){var a="msid:"+i.id+" "+t.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+a,t.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",t.rtpSender&&t.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),o},n.getDirection=function(t,e){for(var r=n.splitLines(t),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return e?n.getDirection(e):"sendrecv"},n.getKind=function(t){return n.splitLines(t)[0].split(" ")[0].substr(2)},n.isRejected=function(t){return"0"===t.split(" ",2)[1]},n.parseMLine=function(t){var e=n.splitLines(t)[0].substr(2).split(" ");return{kind:e[0],port:parseInt(e[1],10),protocol:e[2],fmt:e.slice(3).join(" ")}},n.parseOLine=function(t){var e=n.matchPrefix(t,"o=")[0].substr(2).split(" ");return{username:e[0],sessionId:e[1],sessionVersion:parseInt(e[2],10),netType:e[3],addressType:e[4],address:e[5]}},n.isValidSDP=function(t){if("string"!=typeof t||0===t.length)return!1;for(var e=n.splitLines(t),r=0;r<e.length;r++)if(e[r].length<2||"="!==e[r].charAt(1))return!1;return!0},"object"===e(t)&&(t.exports=n)}).call(this,n(5)(t))},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return a})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return c})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return h})),n.d(e,"__awaiter",(function(){return f})),n.d(e,"__generator",(function(){return l})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return v})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return g})),n.d(e,"__asyncGenerator",(function(){return b})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return S})),n.d(e,"__makeTemplateObject",(function(){return T})),n.d(e,"__importStar",(function(){return _})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return k}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function c(t,e,n,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(a<3?o(s):a>3?o(e,n,s):o(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function h(t,e){if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function p(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(c,u):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function c(t){s("next",t)}function u(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function S(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function T(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e,n){"use strict";(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},c=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=o>>2,f=(3&o)<<4|s>>4,l=(15&s)<<2|u>>6,p=63&u;c||(p=64,a||(l=64)),r.push(n[h],n[f],n[l],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==c)throw Error();var u=o<<2|a>>4;if(r.push(u),64!==s){var h=a<<4&240|s>>2;if(r.push(h),64!==c){var f=s<<6&192|c;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){try{return u.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=f(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return i.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?m(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",c=new d(i,s),u=0,h=Object.keys(r);u<h.length;u++){var f=h[u];"_"!==f.slice(-1)&&(f in c&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),c[f]=r[f])}return c},t}();function m(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(t){return JSON.parse(t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=g(h(o[0])||""),n=g(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var w=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],c=this.chain_[1],u=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^c&(u^h),a=1518500249):(o=c^u^h,a=1859775393):r<60?(o=c&u|h&(c|u),a=2400959708):(o=c^u^h,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=h,h=u,u=4294967295&(c<<30|c>>>2),c=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!==r(t)||null===t)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(i.next=T),void 0===i.error&&(i.error=T),void 0===i.complete&&(i.complete=T);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?i.error(o.finalError):i.complete()}catch(t){}})),this.observers.push(i),a},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function T(){}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=o,e.Deferred=l,e.ErrorFactory=v,e.FirebaseError=d,e.Sha1=w,e.assert=a,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=h,e.base64Encode=function(t){var e=c(t);return u.encodeByteArray(e,!0)},e.contains=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new S(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){return f(void 0,t)},e.deepExtend=f,e.errorPrefix=_,e.getUA=p,e.isAdmin=function(t){var e=b(t).claims;return"object"===r(e)&&!0===e.admin},e.isBrowser=function(){return"object"===("undefined"==typeof self?"undefined":r(self))&&self.self===self},e.isBrowserExtension=function(){var t="object"===("undefined"==typeof chrome?"undefined":r(chrome))?chrome.runtime:"object"===("undefined"==typeof browser?"undefined":r(browser))?browser.runtime:void 0;return"object"===r(t)&&void 0!==t.id},e.isElectron=function(){return p().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=p();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isReactNative=function(){return"object"===("undefined"==typeof navigator?"undefined":r(navigator))&&"ReactNative"===navigator.product},e.isUWP=function(){return p().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"===r(e)&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,o=0;return"object"===r(e)&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),o=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!o&&n>=i&&n<=o},e.issuedAtTime=function(t){var e=b(t).claims;return"object"===r(e)&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=g,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,a(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(_(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!==r(n)||null===n))throw new Error(_(t,e,i)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(_(t,e,r)+"must be a valid firebase namespace.")}}).call(this,n(4))},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o=(i=n(0))&&"object"===r(i)&&"default"in i?i.default:i;
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
o.registerVersion("firebase","7.14.4","app"),t.exports=o},function(t,e,n){t.exports=n(12)},function(t,e,n){"use strict";var r=n(1);function i(t,e,n,i,o){var a=r.writeRtpDescription(t.kind,e);if(a+=r.writeIceParameters(t.iceGatherer.getLocalParameters()),a+=r.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),a+="a=mid:"+t.mid+"\r\n",t.rtpSender&&t.rtpReceiver?a+="a=sendrecv\r\n":t.rtpSender?a+="a=sendonly\r\n":t.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",t.rtpSender){var s=t.rtpSender._initialTrackId||t.rtpSender.track.id;t.rtpSender._initialTrackId=s;var c="msid:"+(i?i.id:"-")+" "+s+"\r\n";a+="a="+c,a+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+c,t.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+c,a+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",t.rtpSender&&t.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),a}function o(t,e){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(t,e){t=parseInt(t,10);for(var n=0;n<e.length;n++)if(e[n].payloadType===t||e[n].preferredPayloadType===t)return e[n]},i=function(t,e,n,i){var o=r(t.parameters.apt,n),a=r(e.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return t.codecs.forEach((function(r){for(var o=0;o<e.codecs.length;o++){var a=e.codecs[o];if(r.name.toLowerCase()===a.name.toLowerCase()&&r.clockRate===a.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&a.parameters.apt&&!i(r,a,t.codecs,e.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(r.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(t){for(var e=0;e<r.rtcpFeedback.length;e++)if(r.rtcpFeedback[e].type===t.type&&r.rtcpFeedback[e].parameter===t.parameter)return!0;return!1}));break}}})),t.headerExtensions.forEach((function(t){for(var r=0;r<e.headerExtensions.length;r++){var i=e.headerExtensions[r];if(t.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function a(t,e,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[e][t].indexOf(n)}function s(t,e){var n=t.getRemoteCandidates().find((function(t){return e.foundation===t.foundation&&e.ip===t.ip&&e.port===t.port&&e.priority===t.priority&&e.protocol===t.protocol&&e.type===t.type}));return n||t.addRemoteCandidate(e),!n}function c(t,e){var n=new Error(e);return n.name=t,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[t],n}t.exports=function(t,e){function n(e,n){n.addTrack(e),n.dispatchEvent(new t.MediaStreamTrackEvent("addtrack",{track:e}))}function u(e,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,t.setTimeout((function(){e._dispatchEvent("track",o)}))}var h=function(n){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(t){i[t]=o[t].bind(o)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(t,e){var n=!1;return(t=JSON.parse(JSON.stringify(t))).filter((function(t){if(t&&(t.urls||t.url)){var r=t.urls||t.url;t.url&&!t.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof r;return i&&(r=[r]),r=r.filter((function(t){return 0===t.indexOf("turn:")&&-1!==t.indexOf("transport=udp")&&-1===t.indexOf("turn:[")&&!n?(n=!0,!0):0===t.indexOf("stun:")&&e>=14393&&-1===t.indexOf("?transport=udp")})),delete t.url,t.urls=i?r[0]:r,!!r.length}}))}(n.iceServers||[],e),this._iceGatherers=[],n.iceCandidatePoolSize)for(var a=n.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new t.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(h.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(h.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),h.prototype.onicecandidate=null,h.prototype.onaddstream=null,h.prototype.ontrack=null,h.prototype.onremovestream=null,h.prototype.onsignalingstatechange=null,h.prototype.oniceconnectionstatechange=null,h.prototype.onconnectionstatechange=null,h.prototype.onicegatheringstatechange=null,h.prototype.onnegotiationneeded=null,h.prototype.ondatachannel=null,h.prototype._dispatchEvent=function(t,e){this._isClosed||(this.dispatchEvent(e),"function"==typeof this["on"+t]&&this["on"+t](e))},h.prototype._emitGatheringStateChange=function(){var t=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",t)},h.prototype.getConfiguration=function(){return this._config},h.prototype.getLocalStreams=function(){return this.localStreams},h.prototype.getRemoteStreams=function(){return this.remoteStreams},h.prototype._createTransceiver=function(t,e){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:t,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return e||this.transceivers.push(r),r},h.prototype.addTrack=function(e,n){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(t){return t.track===e})))throw c("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==e.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(e.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=e,r.stream=n,r.rtpSender=new t.RTCRtpSender(e,r.dtlsTransport),r.rtpSender},h.prototype.addStream=function(t){var n=this;if(e>=15025)t.getTracks().forEach((function(e){n.addTrack(e,t)}));else{var r=t.clone();t.getTracks().forEach((function(t,e){var n=r.getTracks()[e];t.addEventListener("enabled",(function(t){n.enabled=t.enabled}))})),r.getTracks().forEach((function(t){n.addTrack(t,r)}))}},h.prototype.removeTrack=function(e){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(e instanceof t.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(t){return t.rtpSender===e}));if(!n)throw c("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(t){return t.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},h.prototype.removeStream=function(t){var e=this;t.getTracks().forEach((function(t){var n=e.getSenders().find((function(e){return e.track===t}));n&&e.removeTrack(n)}))},h.prototype.getSenders=function(){return this.transceivers.filter((function(t){return!!t.rtpSender})).map((function(t){return t.rtpSender}))},h.prototype.getReceivers=function(){return this.transceivers.filter((function(t){return!!t.rtpReceiver})).map((function(t){return t.rtpReceiver}))},h.prototype._createIceGatherer=function(e,n){var r=this;if(n&&e>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new t.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[e].bufferedCandidateEvents=[],this.transceivers[e].bufferCandidates=function(t){var n=!t.candidate||0===Object.keys(t.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[e].bufferedCandidateEvents&&r.transceivers[e].bufferedCandidateEvents.push(t)},i.addEventListener("localcandidate",this.transceivers[e].bufferCandidates),i},h.prototype._gather=function(e,n){var i=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(t){if(!(i.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:e,sdpMLineIndex:n};var s=t.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1,s.ufrag=o.getLocalParameters().usernameFragment;var u=r.writeCandidate(s);a.candidate=Object.assign(a.candidate,r.parseCandidate(u)),a.candidate.candidate=u,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var h=r.getMediaSections(i._localDescription.sdp);h[a.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+h.join("");var f=i.transceivers.every((function(t){return t.iceGatherer&&"completed"===t.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),c||i._dispatchEvent("icecandidate",a),f&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},t.setTimeout((function(){a.forEach((function(t){o.onlocalcandidate(t)}))}),0)}},h.prototype._createIceAndDtlsTransports=function(){var e=this,n=new t.RTCIceTransport(null);n.onicestatechange=function(){e._updateIceConnectionState(),e._updateConnectionState()};var r=new t.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){e._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),e._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},h.prototype._disposeIceAndDtlsTransports=function(t){var e=this.transceivers[t].iceGatherer;e&&(delete e.onlocalcandidate,delete this.transceivers[t].iceGatherer);var n=this.transceivers[t].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[t].iceTransport);var r=this.transceivers[t].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[t].dtlsTransport)},h.prototype._transceive=function(t,n,i){var a=o(t.localCapabilities,t.remoteCapabilities);n&&t.rtpSender&&(a.encodings=t.sendEncodingParameters,a.rtcp={cname:r.localCName,compound:t.rtcpParameters.compound},t.recvEncodingParameters.length&&(a.rtcp.ssrc=t.recvEncodingParameters[0].ssrc),t.rtpSender.send(a)),i&&t.rtpReceiver&&a.codecs.length>0&&("video"===t.kind&&t.recvEncodingParameters&&e<15019&&t.recvEncodingParameters.forEach((function(t){delete t.rtx})),t.recvEncodingParameters.length?a.encodings=t.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:t.rtcpParameters.compound},t.rtcpParameters.cname&&(a.rtcp.cname=t.rtcpParameters.cname),t.sendEncodingParameters.length&&(a.rtcp.ssrc=t.sendEncodingParameters[0].ssrc),t.rtpReceiver.receive(a))},h.prototype.setLocalDescription=function(t){var e,n,i=this;if(-1===["offer","answer"].indexOf(t.type))return Promise.reject(c("TypeError",'Unsupported type "'+t.type+'"'));if(!a("setLocalDescription",t.type,i.signalingState)||i._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+t.type+" in state "+i.signalingState));if("offer"===t.type)e=r.splitSections(t.sdp),n=e.shift(),e.forEach((function(t,e){var n=r.parseRtpParameters(t);i.transceivers[e].localCapabilities=n})),i.transceivers.forEach((function(t,e){i._gather(t.mid,e)}));else if("answer"===t.type){e=r.splitSections(i._remoteDescription.sdp),n=e.shift();var s=r.matchPrefix(n,"a=ice-lite").length>0;e.forEach((function(t,e){var a=i.transceivers[e],c=a.iceGatherer,u=a.iceTransport,h=a.dtlsTransport,f=a.localCapabilities,l=a.remoteCapabilities;if(!(r.isRejected(t)&&0===r.matchPrefix(t,"a=bundle-only").length)&&!a.rejected){var p=r.getIceParameters(t,n),d=r.getDtlsParameters(t,n);s&&(d.role="server"),i.usingBundle&&0!==e||(i._gather(a.mid,e),"new"===u.state&&u.start(c,p,s?"controlling":"controlled"),"new"===h.state&&h.start(d));var v=o(f,l);i._transceive(a,v.codecs.length>0,!1)}}))}return i._localDescription={type:t.type,sdp:t.sdp},"offer"===t.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},h.prototype.setRemoteDescription=function(i){var h=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(c("TypeError",'Unsupported type "'+i.type+'"'));if(!a("setRemoteDescription",i.type,h.signalingState)||h._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+i.type+" in state "+h.signalingState));var f={};h.remoteStreams.forEach((function(t){f[t.id]=t}));var l=[],p=r.splitSections(i.sdp),d=p.shift(),v=r.matchPrefix(d,"a=ice-lite").length>0,m=r.matchPrefix(d,"a=group:BUNDLE ").length>0;h.usingBundle=m;var y=r.matchPrefix(d,"a=ice-options:")[0];return h.canTrickleIceCandidates=!!y&&y.substr(14).split(" ").indexOf("trickle")>=0,p.forEach((function(a,c){var u=r.splitLines(a),p=r.getKind(a),y=r.isRejected(a)&&0===r.matchPrefix(a,"a=bundle-only").length,g=u[0].substr(2).split(" ")[2],b=r.getDirection(a,d),w=r.parseMsid(a),S=r.getMid(a)||r.generateIdentifier();if(y||"application"===p&&("DTLS/SCTP"===g||"UDP/DTLS/SCTP"===g))h.transceivers[c]={mid:S,kind:p,protocol:g,rejected:!0};else{var T,_,C,E,k,I,P,R,A;!y&&h.transceivers[c]&&h.transceivers[c].rejected&&(h.transceivers[c]=h._createTransceiver(p,!0));var O,N,D=r.parseRtpParameters(a);y||(O=r.getIceParameters(a,d),(N=r.getDtlsParameters(a,d)).role="client"),P=r.parseRtpEncodingParameters(a);var x=r.parseRtcpParameters(a),L=r.matchPrefix(a,"a=end-of-candidates",d).length>0,M=r.matchPrefix(a,"a=candidate:").map((function(t){return r.parseCandidate(t)})).filter((function(t){return 1===t.component}));if(("offer"===i.type||"answer"===i.type)&&!y&&m&&c>0&&h.transceivers[c]&&(h._disposeIceAndDtlsTransports(c),h.transceivers[c].iceGatherer=h.transceivers[0].iceGatherer,h.transceivers[c].iceTransport=h.transceivers[0].iceTransport,h.transceivers[c].dtlsTransport=h.transceivers[0].dtlsTransport,h.transceivers[c].rtpSender&&h.transceivers[c].rtpSender.setTransport(h.transceivers[0].dtlsTransport),h.transceivers[c].rtpReceiver&&h.transceivers[c].rtpReceiver.setTransport(h.transceivers[0].dtlsTransport)),"offer"!==i.type||y){if("answer"===i.type&&!y){_=(T=h.transceivers[c]).iceGatherer,C=T.iceTransport,E=T.dtlsTransport,k=T.rtpReceiver,I=T.sendEncodingParameters,R=T.localCapabilities,h.transceivers[c].recvEncodingParameters=P,h.transceivers[c].remoteCapabilities=D,h.transceivers[c].rtcpParameters=x,M.length&&"new"===C.state&&(!v&&!L||m&&0!==c?M.forEach((function(t){s(T.iceTransport,t)})):C.setRemoteCandidates(M)),m&&0!==c||("new"===C.state&&C.start(_,O,"controlling"),"new"===E.state&&E.start(N)),!o(T.localCapabilities,T.remoteCapabilities).codecs.filter((function(t){return"rtx"===t.name.toLowerCase()})).length&&T.sendEncodingParameters[0].rtx&&delete T.sendEncodingParameters[0].rtx,h._transceive(T,"sendrecv"===b||"recvonly"===b,"sendrecv"===b||"sendonly"===b),!k||"sendrecv"!==b&&"sendonly"!==b?delete T.rtpReceiver:(A=k.track,w?(f[w.stream]||(f[w.stream]=new t.MediaStream),n(A,f[w.stream]),l.push([A,k,f[w.stream]])):(f.default||(f.default=new t.MediaStream),n(A,f.default),l.push([A,k,f.default])))}}else{(T=h.transceivers[c]||h._createTransceiver(p)).mid=S,T.iceGatherer||(T.iceGatherer=h._createIceGatherer(c,m)),M.length&&"new"===T.iceTransport.state&&(!L||m&&0!==c?M.forEach((function(t){s(T.iceTransport,t)})):T.iceTransport.setRemoteCandidates(M)),R=t.RTCRtpReceiver.getCapabilities(p),e<15019&&(R.codecs=R.codecs.filter((function(t){return"rtx"!==t.name}))),I=T.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var j,U=!1;if("sendrecv"===b||"sendonly"===b){if(U=!T.rtpReceiver,k=T.rtpReceiver||new t.RTCRtpReceiver(T.dtlsTransport,p),U)A=k.track,w&&"-"===w.stream||(w?(f[w.stream]||(f[w.stream]=new t.MediaStream,Object.defineProperty(f[w.stream],"id",{get:function(){return w.stream}})),Object.defineProperty(A,"id",{get:function(){return w.track}}),j=f[w.stream]):(f.default||(f.default=new t.MediaStream),j=f.default)),j&&(n(A,j),T.associatedRemoteMediaStreams.push(j)),l.push([A,k,j])}else T.rtpReceiver&&T.rtpReceiver.track&&(T.associatedRemoteMediaStreams.forEach((function(e){var n=e.getTracks().find((function(t){return t.id===T.rtpReceiver.track.id}));n&&function(e,n){n.removeTrack(e),n.dispatchEvent(new t.MediaStreamTrackEvent("removetrack",{track:e}))}(n,e)})),T.associatedRemoteMediaStreams=[]);T.localCapabilities=R,T.remoteCapabilities=D,T.rtpReceiver=k,T.rtcpParameters=x,T.sendEncodingParameters=I,T.recvEncodingParameters=P,h._transceive(h.transceivers[c],!1,U)}}})),void 0===h._dtlsRole&&(h._dtlsRole="offer"===i.type?"active":"passive"),h._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?h._updateSignalingState("have-remote-offer"):h._updateSignalingState("stable"),Object.keys(f).forEach((function(e){var n=f[e];if(n.getTracks().length){if(-1===h.remoteStreams.indexOf(n)){h.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,t.setTimeout((function(){h._dispatchEvent("addstream",r)}))}l.forEach((function(t){var e=t[0],r=t[1];n.id===t[2].id&&u(h,e,r,[n])}))}})),l.forEach((function(t){t[2]||u(h,t[0],t[1],[])})),t.setTimeout((function(){h&&h.transceivers&&h.transceivers.forEach((function(t){t.iceTransport&&"new"===t.iceTransport.state&&t.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),t.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},h.prototype.close=function(){this.transceivers.forEach((function(t){t.iceTransport&&t.iceTransport.stop(),t.dtlsTransport&&t.dtlsTransport.stop(),t.rtpSender&&t.rtpSender.stop(),t.rtpReceiver&&t.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},h.prototype._updateSignalingState=function(t){this.signalingState=t;var e=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",e)},h.prototype._maybeFireNegotiationNeeded=function(){var e=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,t.setTimeout((function(){if(e.needNegotiation){e.needNegotiation=!1;var t=new Event("negotiationneeded");e._dispatchEvent("negotiationneeded",t)}}),0))},h.prototype._updateIceConnectionState=function(){var t,e={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(t){t.iceTransport&&!t.rejected&&e[t.iceTransport.state]++})),t="new",e.failed>0?t="failed":e.checking>0?t="checking":e.disconnected>0?t="disconnected":e.new>0?t="new":e.connected>0?t="connected":e.completed>0&&(t="completed"),t!==this.iceConnectionState){this.iceConnectionState=t;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},h.prototype._updateConnectionState=function(){var t,e={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(t){t.iceTransport&&t.dtlsTransport&&!t.rejected&&(e[t.iceTransport.state]++,e[t.dtlsTransport.state]++)})),e.connected+=e.completed,t="new",e.failed>0?t="failed":e.connecting>0?t="connecting":e.disconnected>0?t="disconnected":e.new>0?t="new":e.connected>0&&(t="connected"),t!==this.connectionState){this.connectionState=t;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},h.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var o=n.transceivers.filter((function(t){return"audio"===t.kind})).length,a=n.transceivers.filter((function(t){return"video"===t.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(o=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(n.transceivers.forEach((function(t){"audio"===t.kind?--o<0&&(t.wantReceive=!1):"video"===t.kind&&--a<0&&(t.wantReceive=!1)}));o>0||a>0;)o>0&&(n._createTransceiver("audio"),o--),a>0&&(n._createTransceiver("video"),a--);var u=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(i,o){var a=i.track,s=i.kind,c=i.mid||r.generateIdentifier();i.mid=c,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(o,n.usingBundle));var u=t.RTCRtpSender.getCapabilities(s);e<15019&&(u.codecs=u.codecs.filter((function(t){return"rtx"!==t.name}))),u.codecs.forEach((function(t){"H264"===t.name&&void 0===t.parameters["level-asymmetry-allowed"]&&(t.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach((function(e){t.name.toLowerCase()===e.name.toLowerCase()&&t.clockRate===e.clockRate&&(t.preferredPayloadType=e.payloadType)}))})),u.headerExtensions.forEach((function(t){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach((function(e){t.uri===e.uri&&(t.id=e.id)}))}));var h=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];a&&e>=15019&&"video"===s&&!h[0].rtx&&(h[0].rtx={ssrc:h[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new t.RTCRtpReceiver(i.dtlsTransport,s)),i.localCapabilities=u,i.sendEncodingParameters=h})),"max-compat"!==n._config.bundlePolicy&&(u+="a=group:BUNDLE "+n.transceivers.map((function(t){return t.mid})).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(t,e){u+=i(t,t.localCapabilities,"offer",t.stream,n._dtlsRole),u+="a=rtcp-rsize\r\n",!t.iceGatherer||"new"===n.iceGatheringState||0!==e&&n.usingBundle||(t.iceGatherer.getLocalCandidates().forEach((function(t){t.component=1,u+="a="+r.writeCandidate(t)+"\r\n"})),"completed"===t.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))}));var h=new t.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(h)},h.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var a=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(a+="a=group:BUNDLE "+n.transceivers.map((function(t){return t.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var s=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(t,r){if(!(r+1>s)){if(t.rejected)return"application"===t.kind?"DTLS/SCTP"===t.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+t.protocol+" webrtc-datachannel\r\n":"audio"===t.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===t.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+t.mid+"\r\n");var c;if(t.stream)"audio"===t.kind?c=t.stream.getAudioTracks()[0]:"video"===t.kind&&(c=t.stream.getVideoTracks()[0]),c&&e>=15019&&"video"===t.kind&&!t.sendEncodingParameters[0].rtx&&(t.sendEncodingParameters[0].rtx={ssrc:t.sendEncodingParameters[0].ssrc+1});var u=o(t.localCapabilities,t.remoteCapabilities);!u.codecs.filter((function(t){return"rtx"===t.name.toLowerCase()})).length&&t.sendEncodingParameters[0].rtx&&delete t.sendEncodingParameters[0].rtx,a+=i(t,u,"answer",t.stream,n._dtlsRole),t.rtcpParameters&&t.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}}));var u=new t.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(u)},h.prototype.addIceCandidate=function(t){var e,n=this;return t&&void 0===t.sdpMLineIndex&&!t.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(i,o){if(!n._remoteDescription)return o(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(t&&""!==t.candidate){var a=t.sdpMLineIndex;if(t.sdpMid)for(var u=0;u<n.transceivers.length;u++)if(n.transceivers[u].mid===t.sdpMid){a=u;break}var h=n.transceivers[a];if(!h)return o(c("OperationError","Can not add ICE candidate"));if(h.rejected)return i();var f=Object.keys(t.candidate).length>0?r.parseCandidate(t.candidate):{};if("tcp"===f.protocol&&(0===f.port||9===f.port))return i();if(f.component&&1!==f.component)return i();if((0===a||a>0&&h.iceTransport!==n.transceivers[0].iceTransport)&&!s(h.iceTransport,f))return o(c("OperationError","Can not add ICE candidate"));var l=t.candidate.trim();0===l.indexOf("a=")&&(l=l.substr(2)),(e=r.getMediaSections(n._remoteDescription.sdp))[a]+="a="+(f.type?l:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+e.join("")}else for(var p=0;p<n.transceivers.length&&(n.transceivers[p].rejected||(n.transceivers[p].iceTransport.addRemoteCandidate({}),(e=r.getMediaSections(n._remoteDescription.sdp))[p]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+e.join(""),!n.usingBundle));p++);i()}))},h.prototype.getStats=function(e){if(e&&e instanceof t.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(t){t.rtpSender&&t.rtpSender.track===e?n=t.rtpSender:t.rtpReceiver&&t.rtpReceiver.track===e&&(n=t.rtpReceiver)})),!n)throw c("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(e){t[e]&&r.push(t[e].getStats())}))})),Promise.all(r).then((function(t){var e=new Map;return t.forEach((function(t){t.forEach((function(t){e.set(t.id,t)}))})),e}))};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(e){var n=t[e];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(t){var e=new Map;return Object.keys(t).forEach((function(n){var r;t[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=t[n]).type]||r.type,e.set(n,t[n])})),e}))}}}));var f=["createOffer","createAnswer"];return f.forEach((function(t){var e=h.prototype[t];h.prototype[t]=function(){var t=arguments;return"function"==typeof t[0]||"function"==typeof t[1]?e.apply(this,[arguments[2]]).then((function(e){"function"==typeof t[0]&&t[0].apply(null,[e])}),(function(e){"function"==typeof t[1]&&t[1].apply(null,[e])})):e.apply(this,arguments)}})),(f=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(t){var e=h.prototype[t];h.prototype[t]=function(){var t=arguments;return"function"==typeof t[1]||"function"==typeof t[2]?e.apply(this,arguments).then((function(){"function"==typeof t[1]&&t[1].apply(null)}),(function(e){"function"==typeof t[2]&&t[2].apply(null,[e])})):e.apply(this,arguments)}})),["getStats"].forEach((function(t){var e=h.prototype[t];h.prototype[t]=function(){var t=arguments;return"function"==typeof t[1]?e.apply(this,arguments).then((function(){"function"==typeof t[1]&&t[1].apply(null)})):e.apply(this,arguments)}})),h}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=n(3),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(o);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),s=a[0],c=a[1],u=this.normalizeInstanceIdentifier(s);try{var h=this.getOrInitializeService(u);c.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=s,e.Provider=a},function(t,e,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return f})),n.d(e,"setLogLevel",(function(){return l})),n.d(e,"setUserLogHandler",(function(){return p}));var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),h=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=u[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=h,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function l(t){var e="string"==typeof t?s[t]:t;a.forEach((function(t){t.logLevel=e}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(t,e,n){"use strict";(function(t){var e=n(0),r=n.n(e);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var o=function(e){e=["object"==("undefined"==typeof window?"undefined":i(window))&&window,"object"==("undefined"==typeof self?"undefined":i(self))&&self,"object"==(void 0===t?"undefined":i(t))&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function a(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:a(t)}}!function(t,e){if(e){var r=o;t=t.split(".");for(var i=0;i<t.length-1;i++){var a=t[i];a in r||(r[a]={}),r=r[a]}(e=e(i=r[t=t[t.length-1]]))!=i&&null!=e&&n(r,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=o.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(i(t)){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)c.b(this.a[t]);this.a=null}};var c=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?c.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Oa(e,n)}))},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Oa(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var c=c||{},u=this||self,h=/^[\w+/_-]+[=]{0,2}$/,f=null;function l(){}function p(t){var e=i(t);if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==p(t)}function m(t){var e=i(t);return"object"==e&&null!=t||"function"==e}function y(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++b)}var g="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function S(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function T(t,e,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:S).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function k(t,e,n){this.code=R+t,this.message=e||A[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new k(e.substring(R.length),t.message,t.serverResponse):null}E(k,Error),k.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},k.prototype.toJSON=function(){return this.v()};var P,R="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function x(t){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");x.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}P=N("__EID__")?"__EID__":void 0,E(x,Error),x.prototype.name="CustomError",E(L,x),L.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new j((function(){return new H}),(function(t){t.reset()}));function B(){var t=be,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function H(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},H.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},H.prototype.reset=function(){this.next=this.b=this.a=null};var G=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function J(t,e){return 0<=G(t,e)}function X(t,e){var n;return(n=0<=(e=G(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function $(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Q,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ht=u.navigator;if(ht){var ft=ht.userAgent;if(ft){Q=ft;break t}}Q=""}function lt(t){return ct(Q,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var o=r;break t}}catch(t){}o=null}if(o&&void 0!==o[e]&&(!t||!(t instanceof o[e])&&(t instanceof o.Location||t instanceof o.Element))){if(m(t))try{var a=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){a="<object could not be stringified>"}else a=void 0===t?"undefined":null===t?"null":i(t);M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,a)}}function bt(t,e){this.a=t===Tt&&e||"",this.b=St}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===St?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.ra=!0,bt.prototype.qa=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var St={},Tt={},_t=new bt(Tt,"");function Ct(t,e){this.a=t===At&&e||"",this.b=Rt}function Et(t){return t instanceof Ct&&t.constructor===Ct&&t.b===Rt?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+p(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=wt(t);if(!Pt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(It,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?wt(t):encodeURIComponent(String(t))})),new Ct(At,t)}Ct.prototype.ra=!0,Ct.prototype.qa=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,Pt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Rt={},At={};function Ot(t,e){this.a=t===Mt&&e||"",this.b=Lt}function Nt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Lt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+p(t)),"type_error:SafeUrl")}Ot.prototype.ra=!0,Ot.prototype.qa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function xt(t){return t instanceof Ot?t:(t="object"==i(t)&&t.ra?t.qa():String(t),Dt.test(t)||(t="about:invalid#zClosurez"),new Ot(Mt,t))}var Lt={},Mt={};function jt(){this.a="",this.b=Ft}function Ut(t){return t instanceof jt&&t.constructor===jt&&t.b===Ft?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+p(t)),"type_error:SafeHtml")}jt.prototype.ra=!0,jt.prototype.qa=function(){return this.a.toString()},jt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function Vt(t){var e=new jt;return e.a=t,e}Vt("<!DOCTYPE html>");var Bt=Vt("");function Ht(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Gt(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function zt(t){return zt[" "](t),t}Vt("<br>"),zt[" "]=l;var qt,Kt,Wt=lt("Opera"),Jt=lt("Trident")||lt("MSIE"),Xt=lt("Edge"),Yt=Xt||Jt,$t=lt("Gecko")&&!(ct(Q.toLowerCase(),"webkit")&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),Zt=ct(Q.toLowerCase(),"webkit")&&!lt("Edge");function Qt(){var t=u.document;return t?t.documentMode:void 0}t:{var te="",ee=(Kt=Q,$t?/rv:([^\);]+)(\)|;)/.exec(Kt):Xt?/Edge\/([\d\.]+)/.exec(Kt):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Kt):Zt?/WebKit\/(\S+)/.exec(Kt):Wt?/(?:Version)[ \/]?(\S+)/.exec(Kt):void 0);if(ee&&(te=ee?ee[1]:""),Jt){var ne=Qt();if(null!=ne&&ne>parseFloat(te)){qt=String(ne);break t}}qt=te}var re,ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=tt(String(qt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ut(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ut(0==a[2].length,0==s[2].length)||ut(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}re=u.document&&Jt?Qt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Kt){}var ae=!Jt||9<=Number(re);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){pt(e,(function(e,n){e&&"object"==i(e)&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function le(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!d(o)||m(o)&&0<o.nodeType?r(o):z(de(o)?Z(o):o,r)}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){if(t&&"number"==typeof t.length){if(m(t))return"function"==typeof t.item||"string"==typeof t.item;if(v(t))return"function"==typeof t.item}return!1}function ve(t){u.setTimeout((function(){throw t}),0)}function me(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!lt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",function(t){var e=new Ct(At,wt(_t));gt(t,"HTMLIFrameElement"),t.src=Et(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Ut(Bt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=T((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!lt("Trident")&&!lt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}function ye(t,e){he||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);he=function(){t.then(we)}}else he=function(){var t=we;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!lt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ue||(ue=me()),ue(t)):u.setImmediate(t)}}(),ge||(he(),ge=!0),be.add(t,e)}var ge=!1,be=new F;function we(){for(var t;t=B();){try{t.a.call(t.b)}catch(t){ve(t)}U(V,t)}ge=!1}function Se(t,e){if(this.a=Te,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){xe(n,_e,t)}),(function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}xe(n,Ce,t)}))}catch(t){xe(this,Ce,t)}}var Te=0,_e=2,Ce=3;function Ee(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ee.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ke=new j((function(){return new Ee}),(function(t){t.reset()}));function Ie(t,e,n){var r=ke.get();return r.g=t,r.b=e,r.f=n,r}function Pe(t){if(t instanceof Se)return t;var e=new Se(l);return xe(e,_e,t),e}function Re(t){return new Se((function(e,n){n(t)}))}function Ae(t,e,n){Le(t,e,n,null)||ye(_(e,t))}function Oe(t){return new Se((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],_(i,o,!0),_(i,o,!1));else e(r)}))}function Ne(t,e){t.b||t.a!=_e&&t.a!=Ce||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function De(t,e,n,r){var i=Ie(null,null,null);return i.a=new Se((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Ne(t,i),i.a}function xe(t,e,n){t.a==Te&&(t===n&&(e=Ce,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=Ce||n instanceof Be||function(t,e){t.g=!0,ye((function(){t.g&&Ve.call(null,e)}))}(t,n)))}function Le(t,e,n,r){if(t instanceof Se)return Ne(t,Ie(e||l,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(m(t))try{var i=t.then;if(v(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Me(t){t.h||(t.h=!0,ye(t.ec,t))}function je(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ue(t,e,n,r){if(n==Ce&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,r);else try{e.c?e.g.call(e.f):Fe(e,n,r)}catch(t){Ve.call(null,t)}U(ke,e)}function Fe(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Se.prototype.then=function(t,e,n){return De(this,v(t)?t:null,v(e)?e:null,n)},Se.prototype.$goog_Thenable=!0,(e=Se.prototype).ma=function(t,e){return(t=Ie(t,t,e)).c=!0,Ne(this,t),this},e.o=function(t,e){return De(this,null,t,e)},e.cancel=function(t){if(this.a==Te){var e=new Be(t);ye((function(){!function t(e,n){if(e.a==Te)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==Te&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):je(r),Ue(r,o,Ce,n)))}e.c=null}else xe(e,Ce,n)}(this,e)}),this)}},e.Yc=function(t){this.a=Te,xe(this,_e,t)},e.Zc=function(t){this.a=Te,xe(this,Ce,t)},e.ec=function(){for(var t;t=je(this);)Ue(this,t,this.a,this.i);this.h=!1};var Ve=ve;function Be(t){x.call(this,t)}function He(){0!=Ge&&(ze[y(this)]=this),this.wa=this.wa,this.na=this.na}E(Be,x),Be.prototype.name="cancel";var Ge=0,ze={};function qe(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Ge)){var e=y(t);if(0!=Ge&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}He.prototype.wa=!1,He.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Ke=Object.freeze||function(t){return t},We=!Jt||9<=Number(re),Je=Jt&&!oe("9"),Xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",l,e),u.removeEventListener("test",l,e)}catch(t){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function $e(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if($t){t:{try{zt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},E($e,Ye);var Ze=Ke({2:"touch",3:"pen",4:"mouse"});$e.prototype.preventDefault=function(){$e.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Je)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},$e.prototype.f=function(){return this.a};var Qe="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++tn,this.ua=this.Na=!1}function nn(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function an(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=an(t,e,r,i);return-1<a?(e=t[a],n||(e.Na=!1)):((e=new en(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),cn={};function un(t,e,n,r,i){if(r&&r.once)fn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=wn(n),t&&t[Qe]?Tn(t,e,n,m(r)?!!r.capture:!!r,i):hn(t,e,n,!1,r,i)}function hn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i,s=gn(t);if(s||(t[sn]=s=new rn(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=yn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else n=wn(n),t&&t[Qe]?_n(t,e,n,m(r)?!!r.capture:!!r,i):hn(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=wn(n),t&&t[Qe]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=an(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=an(e,n,r,i)),(n=-1<t?e[t]:null)&&pn(n))}function pn(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Qe])on(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(on(n,t),0==n.b&&(n.src=null,e[sn]=null)):nn(t)}}}function dn(t){return t in cn?cn[t]:cn[t]="on"+t}function vn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&pn(t),n.call(r,e)}function yn(t,e){if(t.ua)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new $e(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=vn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=vn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new $e(e,this))}function gn(t){return(t=t[sn])instanceof rn?t:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(t){return v(t)?t:(t[bn]||(t[bn]=function(e){return t.handleEvent(e)}),t[bn])}function Sn(){He.call(this),this.u=new rn(this),this.Yb=this,this.eb=null}function Tn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function _n(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function Cn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ua&&a.capture==n){var s=a.listener,c=a.Ta||a.src;a.Na&&on(t.u,a),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(v(t))n&&(t=T(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=T(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function kn(t){var e=null;return new Se((function(n,r){-1==(e=En((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function In(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Pn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Rn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Rn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];On(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)On(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(Sn,He),Sn.prototype[Qe]=!0,Sn.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},Sn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},Sn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var i=t;yt(t=new Ye(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Cn(a,r,!0,t)&&i}if(i=Cn(a=t.b=n,r,!0,t)&&i,i=Cn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Cn(a=t.b=e[o],r,!1,t)&&i;return i},Sn.prototype.Ba=function(){if(Sn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.eb=null},(e=Rn.prototype).V=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.X=function(){return An(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return On(this.b,t)?this.b[t]:e},e.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Dn?(this.h=void 0!==e?e:t.h,xn(this,t.f),this.i=t.i,this.b=t.b,Ln(this,t.l),this.c=t.c,Mn(this,er(t.a)),this.g=t.g):t&&(n=String(t).match(Nn))?(this.h=!!e,xn(this,n[1]||"",!0),this.i=Bn(n[2]||""),this.b=Bn(n[3]||"",!0),Ln(this,n[4]),this.c=Bn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.g=Bn(n[7]||"")):(this.h=!!e,this.a=new Xn(null,this.h))}function xn(t,e,n){t.f=n?Bn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ln(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Mn(t,e,n){e instanceof Xn?(t.a=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Zn(this,e),tr(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Hn(e,Wn)),t.a=new Xn(e,t.h))}function jn(t,e,n){t.a.set(e,n)}function Un(t,e){return t.a.get(e)}function Fn(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function Vn(t,e){var n=new Dn(null,void 0);return xn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Gn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Gn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Hn(e,zn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Hn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hn(n,"/"==n.charAt(0)?Kn:qn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Hn(n,Jn)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.f;n?xn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Ln(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Mn(e,er(t.a)):n=!!t.g,n&&(e.g=t.g),e};var zn=/[#\/\?@]/g,qn=/[#\?:]/g,Kn=/[#\?]/g,Wn=/[#\?@]/g,Jn=/#/g;function Xn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new Rn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $n(t){var e=Pn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Xn(null,void 0);t=In(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Zn(t,e){Yn(t),e=nr(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Qn(t,e){return Yn(t),e=nr(t,e),On(t.a.b,e)}function tr(t,e,n){Zn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),Z(n)),t.b+=n.length)}function er(t){var e=new Xn;return e.c=t.c,t.a&&(e.a=new Rn(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==i(n)){if(Array.isArray(n)){var o=n;n=o.length,r.push("[");for(var a="",s=0;s<n;s++)r.push(a),t(e,o[s],r),a=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(o in r.push("{"),a="",n)Object.prototype.hasOwnProperty.call(n,o)&&("function"!=typeof(s=n[o])&&(r.push(a),sr(o,r),r.push(":"),t(e,s,r),a=","));return void r.push("}")}n=n.valueOf()}switch(i(n)){case"string":sr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+i(n))}}}(new ir,t,e),e.join("")}function ir(){}(e=Xn.prototype).add=function(t,e){Yn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){Yn(this),this.a.forEach((function(n,r){z(n,(function(n){t.call(e,n,r,this)}),this)}),this)},e.X=function(){Yn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.V=function(t){Yn(this);var e=[];if("string"==typeof t)Qn(this,t)&&(e=$(e,this.a.get(nr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},e.set=function(t,e){return Yn(this),this.c=null,Qn(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var or={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(ar,(function(t){var e=or[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),or[t]=e),e})),'"')}function cr(){var t=Ir();return Jt&&!!re&&11==re||/Edge\/\d+/.test(t)}function ur(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||u.window;var n="about:blank";t&&(n=Nt(xt(t))),e.location.href=n}function fr(t){return!!((t=(t||Ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||u.window;try{t.close()}catch(t){}}function pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var o=(window.screen.availHeight-n)/2,a=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<o?o:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Cr(Ir())==Tr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:xt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,o=[],t)switch(s){case"width":case"height":case"top":case"left":o.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:o.push(s+"="+(t[s]?1:0))}var s=o.join(",");if((lt("iPhone")&&!lt("iPod")&&!lt("iPad")||lt("iPad")||lt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(gt(s=pe(document,"A"),"HTMLAnchorElement"),e instanceof Ot||e instanceof Ot||(e="object"==i(e)&&e.ra?e.qa():String(e),Dt.test(e)||(e="about:invalid#zClosurez"),e=new Ot(Mt,e)),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Nt(e),s&&(Yt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Vt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Gt(t)+'">'),r=s.document)&&(r.write(Ut(t)),r.close())):(s=r.open(Nt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new Se((function(e){"complete"==u.document.readyState?e():(t=function(){e()},fn(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function yr(t){return t=t||Ir(),!("file:"!==Nr()&&"ionic:"!==Nr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=u.window;try{return!(!t||t==t.top)}catch(t){return!1}}function br(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function wr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function Sr(){var t=wr();return"ReactNative"===t||"Node"===t}var Tr="Firefox",_r="Chrome";function Cr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Tr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":_r:"Safari"}var Er={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function kr(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Cr(i=Ir()):"Worker"===r&&(r=Cr(i=Ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ir(){return u.navigator&&u.navigator.userAgent||""}function Pr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==i(e)&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=u.localStorage,e=jr();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!u.indexedDB}catch(t){return br()&&!!u.indexedDB}return!1}function Ar(){return(Or()||"chrome-extension:"===Nr()||yr())&&!Sr()&&Rr()&&!br()}function Or(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return u.location&&u.location.protocol||null}function Dr(t){return!fr(t=t||Ir())&&Cr(t)!=Tr}function xr(t){return void 0===t?null:rr(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function jr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ur(t){return"Safari"!=Cr(t=t||Ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Vr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ir(),e=wr(),this.b=fr(t)||"ReactNative"===e}function Br(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Hr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Gr(){return!(!Pr("fireauth.oauthhelper",u)&&!Pr("fireauth.iframe",u))}Vr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!Or()&&"chrome-extension:"!==Nr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,qr={};function Kr(t){qr[t]||(qr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Wr.abcd}catch(Kt){zr=!1}function Jr(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Jr(t,n,e[n])}function Yr(t){var e={};return Xr(e,t),e}function $r(t){var e=t;if("object"==i(t)&&null!=t)for(var n in e="length"in t?[]:{},t)Jr(e,n,$r(t[n]));return e}function Zr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",t[ni]),Jr(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",e)}function Qr(t){try{var e=new ii(t)}catch(t){e=null}return e}Zr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Zr.call(this,t),Jr(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ui],r=t[fi],i=t[li];if(t=Qr(t[hi]),!i||i!=si&&i!=ci&&!n||i==ci&&!r||i==ai&&!t)throw Error("Invalid checkActionCode response!");i==ci?(e[di]=n||null,e[mi]=n||null,e[pi]=r):(e[di]=r||null,e[mi]=r||null,e[pi]=n||null),e[vi]=t||null,Jr(this,gi,i),Jr(this,yi,$r(e))}E(ii,Zr),ii.prototype.v=function(){var t=ii.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ai="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",ui="email",hi="mfaInfo",fi="newEmail",li="requestType",pi="email",di="fromEmail",vi="multiFactorInfo",mi="previousEmail",yi="data",gi="operation";function bi(t){var e=Un(t=Fn(t),wi)||null,n=Un(t,Si)||null,r=Un(t,Ci)||null;if(r=r&&ki[r]||null,!e||!n||!r)throw new k("argument-error",wi+", "+Si+"and "+Ci+" are required in a valid action code URL.");Xr(this,{apiKey:e,operation:r,code:n,continueUrl:Un(t,Ti)||null,languageCode:Un(t,_i)||null,tenantId:Un(t,Ei)||null})}var wi="apiKey",Si="oobCode",Ti="continueUrl",_i="languageCode",Ci="mode",Ei="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:si,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ii(t){try{return new bi(t)}catch(t){return null}}function Pi(t){var e=t[Di];if(void 0===e)throw new k("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new k("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"===i(n)){e=n[Mi];var r=n[xi];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new k("argument-error",xi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new k("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new k("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new k("missing-android-pkg-name")}}else if(void 0!==n)throw new k("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Ni])&&"object"===i(e)){if("string"==typeof(e=e[ji])&&e.length)this.f=e;else if(void 0!==e)throw new k("argument-error",ji+" property must be a non empty string when specified.")}else if(void 0!==e)throw new k("argument-error",Ni+" property must be a non null object when specified.");if(void 0!==(e=t[Oi])&&"boolean"!=typeof e)throw new k("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ai])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new k("argument-error",Ai+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",Ai="dynamicLinkDomain",Oi="handleCodeInApp",Ni="iOS",Di="url",xi="installApp",Li="minimumVersion",Mi="packageName",ji="bundleId";function Ui(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Fi=null;function Vi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Fi){Fi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Bi(t){var e=Gi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,C(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Hi(t){try{return new Bi(t)}catch(t){return null}}function Gi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Vi(t))}catch(t){}return null}Bi.prototype.S=function(){return this.f},Bi.prototype.i=function(){return this.b},Bi.prototype.toString=function(){return this.g};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),qi=["client_id","response_type","scope","redirect_uri","state"],Ki={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:qi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:qi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:qi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:zi},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Wi(t){for(var e in Ki)if(Ki[e].ea==t)return Ki[e];return null}function Ji(t){var e={};e["facebook.com"]=Qi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Zi(t);if(void 0!==t[Xi])return new $i(t)}catch(t){}return null}var Xi="idToken",Yi="providerId";function $i(t){var e=t[Yi];if(!e&&t[Xi]){var n=Hi(t[Xi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Jr(this,"providerId",e),Jr(this,"isNewUser",n)}function Zi(t){$i.call(this,t),Jr(this,"profile",$r((t=Mr(t.rawUserInfo||"{}"))||{}))}function Qi(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",t.screenName||null)}function ro(t){var e=Fn(t),n=Un(e,"link"),r=Un(Fn(n),"link");return e=Un(e,"deep_link_id"),Un(Fn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new k("internal-error","Internal assert: no raw session string available");if(t&&e)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:ao}E(Zi,$i),E(Qi,Zi),E(to,Zi),E(eo,Zi),E(no,Zi);var oo="enroll",ao="signin";function so(){}function co(t,e){return t.then((function(t){if(t[Ya]){var n=Hi(t[Ya]);if(!n||e!=n.h)throw new k("user-mismatch");return t}throw new k("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==R+"user-not-found"?new k("user-mismatch"):t}))}function uo(t,e){if(!e)throw new k("internal-error","failed to construct a credential");this.a=e,Jr(this,"providerId",t),Jr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(t){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Jr(this,"idToken",e.idToken),e.accessToken&&Jr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Jr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Jr(this,"accessToken",e.oauthToken),Jr(this,"secret",e.oauthTokenSecret)}Jr(this,"providerId",t),Jr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:$n(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function mo(t,e){this.Oc=e||[],Xr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Wi(t)||{}).Ha||null,this.kb=null}function yo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function go(t){mo.call(this,t,qi),this.a=[]}function bo(){go.call(this,"facebook.com")}function wo(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function So(){go.call(this,"github.com")}function To(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new So).credential({accessToken:e})}function _o(){go.call(this,"google.com"),this.Aa("profile")}function Co(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new _o).credential({idToken:n,accessToken:e})}function Eo(){mo.call(this,"twitter.com",zi)}function ko(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function Io(t,e,n){this.a=t,this.f=e,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Ro.EMAIL_LINK_SIGN_IN_METHOD?Ro.EMAIL_LINK_SIGN_IN_METHOD:Ro.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(t){return t&&t.email&&t.password?new Io(t.email,t.password,t.signInMethod):null}function Ro(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Ao(t,e){if(!(e=Oo(e)))throw new k("argument-error","Invalid email link!");return new Io(t,e.code,Ro.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(t){return(t=Ii(t=ro(t)))&&t.operation===si?t:null}function No(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new k("internal-error");this.a=t,Jr(this,"providerId","phone"),this.ea="phone",Jr(this,"signInMethod","phone")}function Do(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new No(e)}return null}function xo(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Lo(t){try{this.a=t||r.a.auth()}catch(t){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new k("missing-verification-id");if(!e)throw new k("missing-verification-code");return new No({bb:t,ab:e})}function jo(t){if(t.temporaryProof&&t.phoneNumber)return new No({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Co(o,n);case"facebook.com":return wo(n);case"github.com":return To(n);case"twitter.com":return ko(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new uo(e,a):new lo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Uo(t){if(!t.isOAuthProvider)throw new k("invalid-oauth-provider")}function Fo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function Vo(t){return(t=t||{}).type?new Fo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}io.prototype.Fa=function(){return this.a?Pe(this.a):Pe(this.b)},io.prototype.v=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ia=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.v=function(){},uo.prototype.ia=function(t){return ms(t,ho(this))},uo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,ys(t,n)},uo.prototype.c=function(t,e){return co(gs(t,ho(this)),e)},uo.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ia=function(t){return ms(t,po(this))},lo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,ys(t,n)},lo.prototype.c=function(t,e){return co(gs(t,po(this)),e)},lo.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ia=function(t){return this.Fb=vt(t),this},E(yo,mo),E(go,mo),go.prototype.Aa=function(t){return J(this.a,t)||this.a.push(t),this},go.prototype.Nb=function(){return Z(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},E(bo,go),Jr(bo,"PROVIDER_ID","facebook.com"),Jr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(So,go),Jr(So,"PROVIDER_ID","github.com"),Jr(So,"GITHUB_SIGN_IN_METHOD","github.com"),E(_o,go),Jr(_o,"PROVIDER_ID","google.com"),Jr(_o,"GOOGLE_SIGN_IN_METHOD","google.com"),E(Eo,mo),Jr(Eo,"PROVIDER_ID","twitter.com"),Jr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Io.prototype.ia=function(t){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,ks,{email:this.a,oobCode:this.f}):Qs(t,Js,{email:this.a,password:this.f})},Io.prototype.b=function(t,e){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,Is,{idToken:e,email:this.a,oobCode:this.f}):Qs(t,Vs,{idToken:e,email:this.a,password:this.f})},Io.prototype.c=function(t,e){return co(this.ia(t),e)},Io.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(Ro,{PROVIDER_ID:"password"}),Xr(Ro,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(Ro,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),No.prototype.ia=function(t){return t.cb(xo(this))},No.prototype.b=function(t,e){var n=xo(this);return n.idToken=e,Qs(t,Ys,n)},No.prototype.c=function(t,e){var n=xo(this);return n.operation="REAUTH",co(t=Qs(t,$s,n),e)},No.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Lo.prototype.cb=function(t,e){var n=this.a.b;return Pe(e.verify()).then((function(r){if("string"!=typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=m(t)?t.session:null,o=m(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Fa().then((function(t){return function(t,e){return Qs(t,Hs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ao?i.Fa().then((function(e){return function(t,e){return Qs(t,Gs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Qs(t,Us,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Xr(Lo,{PROVIDER_ID:"phone"}),Xr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Fo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Fo.prototype.S=function(){return this.h},Fo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Ho,Go=null;function zo(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.b,"chrome-extension"==(r=r.f)?n=Ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",k.call(this,e,n)}function qo(t,e,n){k.call(this,t,n),(t=e||{}).Gb&&Jr(this,"email",t.Gb),t.da&&Jr(this,"phoneNumber",t.da),t.credential&&Jr(this,"credential",t.credential),t.Wb&&Jr(this,"tenantId",t.Wb)}function Ko(t){if(t.code){var e=t.code||"";0==e.indexOf(R)&&(e=e.substring(R.length));var n={credential:jo(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new k(e,t.message||void 0);return new qo(e,n,t.message)}return null}function Wo(){}function Jo(t){return t.c||(t.c=t.b())}function Xo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function $o(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=T(this.oc,this),this.a.onerror=T(this.Pb,this),this.a.onprogress=T(this.pc,this),this.a.ontimeout=T(this.tc,this)}function Qo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ta(t,e,n){this.reset(t,e,n,void 0,void 0)}E(zo,k),E(qo,k),qo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&yt(t,e),t},qo.prototype.toJSON=function(){return this.v()},Wo.prototype.c=null,E(Xo,Wo),Xo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},Ho=new Xo,E($o,Wo),$o.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},$o.prototype.b=function(){return{}},(e=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Qo(this,4)},e.Pb=function(){this.status=500,this.response=this.responseText="",Qo(this,4)},e.tc=function(){this.Pb()},e.pc=function(){this.status=200,Qo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ta.prototype.a=null;function ea(t){this.f=t,this.b=this.c=this.a=null}function na(t,e){this.name=t,this.value=e}ta.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||C(),delete this.a},na.prototype.toString=function(){return this.name};var ra=new na("SEVERE",1e3),ia=new na("WARNING",900),oa=new na("CONFIG",700),aa=new na("FINE",500);ea.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(M("Root logger has no level set."),null)}(this).value)for(v(e)&&(e=e()),t=new ta(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var sa={},ca=null;function ua(t){var e;if(ca||(ca=new ea(""),sa[""]=ca,ca.c=oa),!(e=sa[t])){e=new ea(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ua(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,sa[t]=e}return e}function ha(t,e){t&&t.log(aa,e,void 0)}function fa(t){this.f=t}function la(t){Sn.call(this),this.s=t,this.readyState=pa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ua("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}E(fa,Wo),fa.prototype.a=function(){return new la(this.f)},fa.prototype.b=function(t){return function(){return t}}({}),E(la,Sn);var pa=0;function da(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function va(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ma(t)}function ma(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ya(t){Sn.call(this),this.headers=new Rn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ga,this.w=this.R=!1}(e=la.prototype).open=function(t,e){if(this.readyState!=pa)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ma(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,va(this,!1)),this.readyState=pa},e.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ma(this)),this.a&&(this.readyState=3,ma(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,da(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},e.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?va(this,!0):ma(this),3==this.readyState&&da(this)}},e.rc=function(t){this.a&&(this.response=this.responseText=t,va(this,!0))},e.qc=function(t){this.a&&(this.response=t,va(this,!0))},e.Sa=function(t){var e=this.h;e&&e.log(ia,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&va(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ia,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(ia,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},E(ya,Sn);var ga="";ya.prototype.b=ua("goog.net.XhrIo");var ba=/^https?$/i,wa=["POST","PUT"];function Sa(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Ho.a(),t.B=t.D?Jo(t.D):Jo(Ho),t.a.onreadystatechange=T(t.Sb,t);try{ha(t.b,Aa(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return ha(t.b,Aa(t,"Error opening Xhr: "+e.message)),void _a(t,e)}e=r||"";var o=new Rn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)z(t,e,void 0);else for(var n=Pn(t),r=In(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ta,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=u.FormData&&e instanceof u.FormData,!J(wa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Ia(t),0<t.g&&(t.w=function(t){return Jt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ha(t.b,Aa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=T(t.Ka,t)):t.s=En(t.Ka,t.g,t)),ha(t.b,Aa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ha(t.b,Aa(t,"Send error: "+e.message)),_a(t,e)}}function Ta(t){return"content-type"==t.toLowerCase()}function _a(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ca(t),ka(t)}function Ca(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ea(t){if(t.c&&void 0!==c)if(t.B[1]&&4==Pa(t)&&2==Ra(t))ha(t.b,Aa(t,"Local request error detected and ignored"));else if(t.i&&4==Pa(t))En(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Pa(t)){ha(t.b,Aa(t,"Request complete")),t.c=!1;try{var e,n=Ra(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Nn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!ba.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var s=2<Pa(t)?t.a.statusText:""}catch(e){ha(t.b,"Can not get status: "+e.message),s=""}t.h=s+" ["+Ra(t)+"]",Ca(t)}}finally{ka(t)}}}function ka(t,e){if(t.a){Ia(t);var n=t.a,r=t.B[0]?l:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ra,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ia(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Pa(t){return t.a?t.a.readyState:0}function Ra(t){try{return 2<Pa(t)?t.a.status:-1}catch(t){return-1}}function Aa(t,e){return e+" ["+t.P+" "+t.l+" "+Ra(t)+"]"}function Oa(t){var e=Ha;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Na(t,e,n){t.a=!0,t.c=n,t.f=!e,Ma(t)}function Da(t){if(t.a){if(!t.u)throw new ja(t);t.u=!1}}function xa(t,e,n,r){t.g.push([e,n,r]),t.a&&Ma(t)}function La(t){return W(t.g,(function(t){return v(t[1])}))}function Ma(t){if(t.h&&t.a&&La(t)){var e=t.h,n=Va[e];n&&(u.clearTimeout(n.a),delete Va[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(D(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,La(t)||(n=!0)}}t.c=e,r&&(s=T(t.m,t,!0),r=T(t.m,t,!1),e instanceof Oa?(xa(e,s,r),e.B=!0):e.then(s,r)),n&&(e=new Fa(e),Va[e.a]=e,t.h=e.a)}function ja(){x.call(this)}function Ua(){x.call(this)}function Fa(t){this.a=u.setTimeout(T(this.c,this),0),this.b=t}(e=ya.prototype).Ka=function(){void 0!==c&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ha(this.b,Aa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ha(this.b,Aa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ka(this))},e.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ka(this,!0)),ya.Za.Ba.call(this)},e.Sb=function(){this.wa||(this.O||this.i||this.f?Ea(this):this.Hc())},e.Hc=function(){Ea(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ga:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ra,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ha(this.b,"Can not get response: "+t.message),null}},Oa.prototype.cancel=function(t){if(this.a)this.c instanceof Oa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Ua(this),Da(this),Na(this,!1,t))}},Oa.prototype.m=function(t,e){this.i=!1,Na(this,t,e)},Oa.prototype.then=function(t,e,n){var r,i,o=new Se((function(t,e){r=t,i=e}));return xa(this,r,(function(t){t instanceof Ua?o.cancel():i(t)})),o.then(t,e,n)},Oa.prototype.$goog_Thenable=!0,E(ja,x),ja.prototype.message="Deferred has already fired",ja.prototype.name="AlreadyCalledError",E(Ua,x),Ua.prototype.message="Deferred was canceled",Ua.prototype.name="CanceledError",Fa.prototype.c=function(){throw delete Va[this.a],this.b};var Va={};function Ba(t){var e={},n=e.document||document,r=Et(t).toString(),i=pe(document,"SCRIPT"),o={Tb:i,Ka:void 0},a=new Oa(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Ga(i,!0);var t=new Ka(qa,"Timeout reached for loading script "+r);Da(a),Na(a,!1,t)}),c),o.Ka=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ga(i,e.ud||!1,s),Da(a),Na(a,!0,null))},i.onerror=function(){Ga(i,!0,s);var t=new Ka(za,"Error while loading script "+r);Da(a),Na(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){gt(t,"HTMLScriptElement"),t.src=Et(e),null===f&&(f=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&h.test(e)?e:""),(e=f)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ha(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Ga(t,!0,this.Ka)}}function Ga(t,e,n){null!=n&&u.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var za=0,qa=1;function Ka(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),x.call(this,n),this.code=t}function Wa(t){this.f=t}function Ja(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||$a,this.g=vt(t.secureTokenHeaders||Za),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Qa,this.a=vt(t.firebaseHeaders||ts),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=u.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!br())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new fa(self):Sr()?this.f=new Wa(n):this.f=new $o,this.b=null}E(Ka,x),E(Wa,Wo),Wa.prototype.a=function(){return new this.f},Wa.prototype.b=function(){return{}};var Xa,Ya="idToken",$a=new Vr(3e4,6e4),Za={"Content-Type":"application/x-www-form-urlencoded"},Qa=new Vr(3e4,6e4),ts={"Content-Type":"application/json"};function es(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ns(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function rs(t,e,n,r,i,o,a){(function(){var t=Ir();return!((t=Cr(t)!=_r?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Jt||!re||9<re)})()||br()?t=T(t.w,t):(Xa||(Xa=new Se((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[os]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){xa(t,null,e,void 0)}(Ba(kt(is,{onload:os})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=T(t.s,t)),t(e,n,r,i,o,a)}Ja.prototype.S=function(){return this.b},Ja.prototype.w=function(t,e,n,r,i,o){if(br()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ya(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Tn(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ha(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),_n(a,"ready",(function(){s&&clearTimeout(s),qe(this)})),_n(a,"timeout",(function(){s&&clearTimeout(s),qe(this),e&&e(null)})),Sa(a,t,n,r,i)};var is=new bt(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),os="__fcb"+Math.floor(1e6*Math.random()).toString();function as(t,e,n,r,i,o,a){var s=Fn(e+n);jn(s,"key",t.c),a&&jn(s,"cb",C().toString());var c="GET"==r;if(c)for(var u in i)i.hasOwnProperty(u)&&jn(s,u,i[u]);return new Se((function(e,n){rs(t,s.toString(),(function(t){t?t.error?n(ec(t,o||{})):e(t):n(new k("network-request-failed"))}),r,c?void 0:rr(Lr(i)),t.a,t.i.get())}))}function ss(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new k("invalid-email")}function cs(t){"email"in t&&ss(t)}function us(t){if(!t[Ya]){if(t.mfaPendingCredential)throw new k("multi-factor-auth-required",null,vt(t));throw new k("internal-error")}}function hs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new k("internal-error")}else{if(!t.sessionInfo)throw new k("missing-verification-id");if(!t.code)throw new k("missing-verification-code")}}Ja.prototype.s=function(t,e,n,r,i){var o=this;Xa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ja.prototype.vb=function(){return Qs(this,Bs,{})},Ja.prototype.xb=function(t,e){return Qs(this,Fs,{idToken:t,email:e})},Ja.prototype.yb=function(t,e){return Qs(this,Vs,{idToken:t,password:e})};var fs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ls(t){if(!t.phoneVerificationInfo)throw new k("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new k("missing-verification-code")}function ps(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new k("internal-error")}function ds(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Qn(t=new Xn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function vs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ko(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ko(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ko(t)):t.errorMessage&&(e=tc(t.errorMessage)),e)throw e;us(t)}function ms(t,e){return e.returnIdpCredential=!0,Qs(t,zs,e)}function ys(t,e){return e.returnIdpCredential=!0,Qs(t,Ks,e)}function gs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Qs(t,qs,e)}function bs(t){if(!t.oobCode)throw new k("invalid-action-code")}(e=Ja.prototype).zb=function(t,e){var n={idToken:t},r=[];return pt(fs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Qs(this,Fs,n)},e.rb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),Qs(this,xs,t)},e.sb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),Qs(this,Os,t)},e.qb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Qs(this,Ns,t)},e.Ab=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Qs(this,Ds,t)},e.cb=function(t){return Qs(this,Xs,t)},e.jb=function(t,e){return Qs(this,js,{oobCode:t,newPassword:e})},e.Pa=function(t){return Qs(this,Ss,{oobCode:t})},e.fb=function(t){return Qs(this,ws,{oobCode:t})};var ws={endpoint:"setAccountInfo",A:bs,Y:"email",C:!0},Ss={endpoint:"resetPassword",A:bs,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new k("internal-error")},C:!0},Ts={endpoint:"signupNewUser",A:function(t){if(ss(t),!t.password)throw new k("weak-password")},G:us,U:!0,C:!0},_s={endpoint:"createAuthUri",C:!0},Cs={endpoint:"deleteAccount",M:["idToken"]},Es={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=p(t.deleteProvider))throw new k("internal-error")}},ks={endpoint:"emailLinkSignin",M:["email","oobCode"],A:ss,G:us,U:!0,C:!0},Is={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:ss,G:us,U:!0},Ps={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ls,G:us,C:!0,La:!0},Rs={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ls,G:us,C:!0,La:!0},As={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new k("internal-error");ss(t)},Y:"email",C:!0},Ns={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new k("internal-error")},Y:"email",C:!0},Ds={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new k("internal-error")},Y:"email",C:!0},xs={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new k("internal-error");ss(t)},Y:"email",C:!0},Ls={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ms={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new k("internal-error")}},js={endpoint:"resetPassword",A:bs,Y:"email",C:!0},Us={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Fs={endpoint:"setAccountInfo",M:["idToken"],A:cs,U:!0},Vs={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(cs(t),!t.password)throw new k("weak-password")},G:us,U:!0},Bs={endpoint:"signupNewUser",G:us,U:!0,C:!0},Hs={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new k("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new k("internal-error")},C:!0,La:!0},Gs={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new k("internal-error")},C:!0,La:!0},zs={endpoint:"verifyAssertion",A:ps,Wa:ds,G:vs,U:!0,C:!0},qs={endpoint:"verifyAssertion",A:ps,Wa:ds,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new k("user-not-found");if(t.errorMessage)throw tc(t.errorMessage);us(t)},U:!0,C:!0},Ks={endpoint:"verifyAssertion",A:function(t){if(ps(t),!t.idToken)throw new k("internal-error")},Wa:ds,G:vs,U:!0},Ws={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new k("invalid-custom-token")},G:us,U:!0,C:!0},Js={endpoint:"verifyPassword",A:function(t){if(ss(t),!t.password)throw new k("wrong-password")},G:us,U:!0,C:!0},Xs={endpoint:"verifyPhoneNumber",A:hs,G:us,C:!0},Ys={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new k("internal-error");hs(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ko(t);us(t)}},$s={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:hs,G:us,C:!0},Zs={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ya]^!!t.refreshToken)throw new k("internal-error")},C:!0,La:!0};function Qs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Re(new k("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Pe(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),as(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new k("internal-error");return r[e.Y]}))}function tc(t){return ec({error:{errors:[{message:t}],code:400,message:t}})}function ec(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],e);return!e&&t&&(e=xr(t)),new k("internal-error",e)}function nc(t){this.b=t,this.a=null,this.nb=function(t){return(ac||(ac=new Se((function(t,e){function n(){Fr(),Pr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Fr(),e(Error("Network Error"))},timeout:ic.get()})}if(Pr("gapi.iframes.Iframe"))t();else if(Pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Pr("gapi.load")?n():e(Error("Network Error"))},Pe(Ba(r=kt(rc,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw ac=null,t})))).then((function(){return new Se((function(e,n){Pr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),oc.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var rc=new bt(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),ic=new Vr(3e4,6e4),oc=new Vr(5e3,15e3),ac=null;function sc(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Vn(this.i,"/__/auth/iframe"),jn(this.a,"apiKey",this.g),jn(this.a,"appName",this.h),this.b=null,this.c=[]}function cc(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function uc(t){try{return r.a.app(t).auth().Ea()}catch(t){return[]}}function hc(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function fc(t){var e=ur();return function(t){return Qs(t,Ls,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Fn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:dr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new zo(ur())}))}function lc(t){return t.l||(t.l=mr().then((function(){if(!t.s){var e=t.c,n=t.h,r=uc(t.b),i=new sc(t.u,t.f,t.b);i.f=e,i.b=n,i.c=Z(r||[]),t.s=i.toString()}t.i=new nc(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Vo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Pe(n)}return n.status="ERROR",Pe(n)}))}(t)}))),t.l}function pc(t){return t.m||(t.w=t.c?kr(t.c,uc(t.b)):null,t.m=new Ja(t.f,N(t.h),t.w)),t.m}function dc(t,e,n,r,i,o,a,s,c,u,h){return(t=new cc(t,e,n,r,i)).l=o,t.g=a,t.i=s,t.b=vt(c||null),t.f=u,t.ub(h).toString()}function vc(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function mc(t){this.b=t,this.a={},this.f=T(this.c,this)}sc.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):Zn(this.a.a,"v"),this.b?jn(this.a,"eid",this.b):Zn(this.a.a,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):Zn(this.a.a,"fw"),this.a.toString()},cc.prototype.ub=function(t){return this.h=t,this},cc.prototype.toString=function(){var t=Vn(this.s,"/__/auth/handler");if(jn(t,"apiKey",this.m),jn(t,"appName",this.c),jn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ja()}catch(t){n=null}for(var i in e.kb=n,jn(t,"providerId",this.a.providerId),n=Lr((e=this.a).Fb))n[i]=n[i].toString();i=e.Oc,n=vt(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),dt(n)||jn(t,"customParameters",xr(n))}if("function"==typeof this.a.Nb&&((e=this.a.Nb()).length&&jn(t,"scopes",e.join(","))),this.l?jn(t,"redirectUrl",this.l):Zn(t.a,"redirectUrl"),this.g?jn(t,"eventId",this.g):Zn(t.a,"eventId"),this.i?jn(t,"v",this.i):Zn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(t,s)&&jn(t,s,this.b[s]);return this.h?jn(t,"tid",this.h):Zn(t.a,"tid"),this.f?jn(t,"eid",this.f):Zn(t.a,"eid"),(s=uc(this.c)).length&&jn(t,"fw",s.join(",")),t.toString()},(e=hc.prototype).Lb=function(t,e,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return lc(t).then((function(){return function(t,e){return t.nb.then((function(){return new Se((function(n){t.a.send(e.type,e,n,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Se((function(e){return function n(){kn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return kn(n).then((function(){e(r)}))}))},e.Ub=function(){var t=Ir();return!Dr(t)&&!Ur(t)},e.Qb=function(){return!1},e.Jb=function(t,e,n,r,i,o,a,s){if(!t)return Re(new k("popup-blocked"));if(a&&!Dr())return this.ka().o((function(e){lr(t),i(e)})),r(),Pe();this.a||(this.a=fc(pc(this)));var c=this;return this.a.then((function(){var e=c.ka().o((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){(Uo(n),a)||hr(dc(c.u,c.f,c.b,e,n,null,o,c.c,void 0,c.h,s),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t}))},e.Kb=function(t,e,n,r){this.a||(this.a=fc(pc(this)));var i=this;return this.a.then((function(){Uo(e),hr(dc(i.u,i.f,i.b,t,e,ur(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},e.ka=function(){var t=this;return lc(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new k("network-request-failed")}))},e.Xb=function(){return!0},e.Ca=function(t){this.g.push(t)},e.Qa=function(t){Y(this.g,(function(e){return e==t}))},(e=vc.prototype).get=function(t){return Pe(this.a.getItem(t)).then((function(t){return t&&Mr(t)}))},e.set=function(t,e){return Pe(this.a.setItem(t,xr(e)))},e.T=function(t){return Pe(this.a.removeItem(t))},e.ba=function(){},e.ha=function(){};var yc,gc=[];function bc(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function wc(t){this.a=t}function Sc(t){this.c=t,this.b=!1,this.a=[]}function Tc(t,e,n,r){var i,o,a,s,c=n||{},u=null;if(t.b)return Re(Error("connection_unavailable"));var h=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Se((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),h),u={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(u),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:c},[f.port2])):r(Error("connection_unavailable"))})).then((function(e){return _c(t,u),e})).o((function(e){throw _c(t,u),e}))}function _c(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function Cc(){if(!Ic())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.l=function(){var t=br()?self:null;if(z(gc,(function(n){n.b==t&&(e=n)})),!e){var e=new mc(t);gc.push(e)}return e}(),bc(this.l,"keyChanged",(function(e,n){return Nc(t).then((function(e){return 0<e.length&&z(t.a,(function(t){t(e)})),{keyProcessed:J(e,n.key)}}))})),bc(this.l,"ping",(function(){return Pe(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Pe().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Pe(null)}().then((function(e){(t.h=e)&&(t.g=new Sc(new wc(e)),Tc(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&J(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Ec(t){return new Se((function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Se((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Ec(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function kc(t){return t.m||(t.m=Ec(t)),t.m}function Ic(){try{return!!u.indexedDB}catch(t){return!1}}function Pc(t){return t.objectStore("firebaseLocalStorage")}function Rc(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ac(t){return new Se((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Oc(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Tc(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Pe()}function Nc(t){return kc(t).then((function(t){var e=Pc(Rc(t,!1));return e.getAll?Ac(e.getAll()):new Se((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,o=[];for(r in e)r in n?i(e[r])!=i(n[r])?o.push(r):"object"==i(e[r])&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&o.push(r):e[r]!==n[r]&&o.push(r):o.push(r);for(r in n)r in e||o.push(r);return o}(t.c,n),t.c=n}return r}))}function Dc(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function xc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Pe().then((function(){if(Ic()){var t=jr(),r="__sak"+t;return yc||(yc=new Cc),(n=yc).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){z(e.a,(function(e){e(t)}))})),t}))}function Lc(){this.a={},this.type="inMemory"}function Mc(){if(!function(){var t="Node"==wr();if(!(t=jc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=jc()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function jc(){try{var t=u.localStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Uc(){this.type="nullStorage"}function Fc(){if(!function(){var t="Node"==wr();if(!(t=Vc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Vc()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Vc(){try{var t=u.sessionStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Bc(){var t={};t.Browser=zc,t.Node=qc,t.ReactNative=Kc,t.Worker=Wc,this.a=t[wr()]}mc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,(function(e){i.push(Pe().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];z(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),z(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},wc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Sc.prototype.close=function(){for(;0<this.a.length;)_c(this,this.a[0]);this.b=!0},(e=Cc.prototype).set=function(t,e){var n,r=!1,i=this;return kc(this).then((function(e){return Ac((e=Pc(Rc(n=e,!0))).get(t))})).then((function(o){var a=Pc(Rc(n,!0));return o?(o.value=e,Ac(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Ac(a.add(o)))})).then((function(){return i.c[t]=e,Oc(i,t)})).ma((function(){r&&i.b--}))},e.get=function(t){return kc(this).then((function(e){return Ac(Pc(Rc(e,!1)).get(t))})).then((function(t){return t&&t.value}))},e.T=function(t){var e=!1,n=this;return kc(this).then((function(r){return e=!0,n.b++,Ac(Pc(Rc(r,!0)).delete(t))})).then((function(){return delete n.c[t],Oc(n,t)})).ma((function(){e&&n.b--}))},e.ba=function(t){0==this.a.length&&function(t){Dc(t),function e(){t.f=setTimeout((function(){t.i=Nc(t).then((function(e){0<e.length&&z(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},e.ha=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&Dc(this)},(e=xc.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},e.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},e.T=function(t){return this.b.then((function(e){return e.T(t)}))},e.ba=function(t){this.a.push(t)},e.ha=function(t){Y(this.a,(function(e){return e==t}))},(e=Lc.prototype).get=function(t){return Pe(this.a[t])},e.set=function(t,e){return this.a[t]=e,Pe()},e.T=function(t){return delete this.a[t],Pe()},e.ba=function(){},e.ha=function(){},(e=Mc.prototype).get=function(t){var e=this;return Pe().then((function(){return Mr(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Pe().then((function(){var r=xr(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return Pe().then((function(){e.a.removeItem(t)}))},e.ba=function(t){u.window&&un(u.window,"storage",t)},e.ha=function(t){u.window&&ln(u.window,"storage",t)},(e=Uc.prototype).get=function(){return Pe(null)},e.set=function(){return Pe()},e.T=function(){return Pe()},e.ba=function(){},e.ha=function(){},(e=Fc.prototype).get=function(t){var e=this;return Pe().then((function(){return Mr(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Pe().then((function(){var r=xr(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return Pe().then((function(){e.a.removeItem(t)}))},e.ba=function(){},e.ha=function(){};var Hc,Gc,zc={F:Mc,$a:Fc},qc={F:Mc,$a:Fc},Kc={F:vc,$a:Uc},Wc={F:Mc,$a:Uc},Jc={od:"local",NONE:"none",qd:"session"};function Xc(){var t=!(Ur(Ir())||!gr()),e=Dr(),n=Rr();this.m=t,this.h=e,this.l=n,this.a={},Hc||(Hc=new Bc),t=Hc;try{this.g=!cr()&&Gr()||!u.indexedDB?new t.a.F:new xc(br()?new Lc:new t.a.F)}catch(t){this.g=new Lc,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new Lc}this.u=new Lc,this.f=T(this.Vb,this),this.b={}}function Yc(){return Gc||(Gc=new Xc),Gc}function $c(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Zc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Qc(t,e,n){return n=Zc(e,n),"local"==e.F&&(t.b[n]=null),$c(t,e.F).T(n)}function tu(t){t.c&&(clearInterval(t.c),t.c=null)}function eu(t){this.a=t,this.b=Yc()}(e=Xc.prototype).get=function(t,e){return $c(this,t.F).get(Zc(t,e))},e.set=function(t,e,n){var r=Zc(t,n),i=this,o=$c(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},e.addListener=function(t,e,n){t=Zc(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),dt(this.a)&&($c(this,"local").ba(this.f),this.h||(cr()||!Gr())&&u.indexedDB||!this.l||function(t){tu(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new $e({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=Zc(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&($c(this,"local").ha(this.f),tu(this))},e.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?$c(this,"local").ha(this.f):tu(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.ib(e))},Jt&&re&&10==re&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,T(this.ib,this))},e.ib=function(t){this.a[t]&&z(this.a[t],(function(t){t()}))};var nu,ru={name:"authEvent",F:"local"};function iu(){this.a=Yc()}function ou(t,e){this.b=au,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===nu&&(nu=u.Int32Array?new Int32Array(pu):pu),this.reset()}E(ou,(function(){this.b=-1}));for(var au=64,su=au-1,cu=[],uu=0;uu<su;uu++)cu[uu]=0;var hu=$(128,cu);function fu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],c=0|t.a[3],u=0|t.a[4],h=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var l=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((a=(a=u&h^~u&f)+(0|nu[e])|0)+(0|n[e])|0)|0,o=f,f=h,h=u,u=c+a|0,c=s,s=i,i=r,r=a+l|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function lu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(fu(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(fu(t),i=0)}}t.c=i,t.g+=n}ou.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var pu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function du(){ou.call(this,8,vu)}E(du,ou);var vu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function mu(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new iu,this.g=new eu(this.h),this.f=null,this.b=[],this.a=this.c=null}function yu(t){return new k("invalid-cordova-configuration",t)}function gu(t){var e=new du;lu(e,t),t=[];var n=8*e.g;56>e.c?lu(e,hu,56-e.c):lu(e,hu,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(fu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function bu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function wu(t){return t.f||(t.f=t.ka().then((function(){return new Se((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,o&&o.cancel(),Su(t).then((function(r){var o=n;if(r&&e&&e.url){var a=null;-1!=(o=ro(e.url)).indexOf("/__/auth/callback")&&(a=(a="object"===i(a=Mr(Un(a=Fn(o),"firebaseError")||null))?I(a):null)?new Fo(r.c,r.b,null,null,a,null,r.S()):new Fo(r.c,r.b,o,r.f,null,null,r.S())),o=a||n}bu(t,o)}))}var n=new Fo("unknown",null,null,null,new k("no-auth-event")),r=!1,o=kn(500).then((function(){return Su(t).then((function(){r||bu(t,n)}))})),a=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Pr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},Go||(Go=new Bo),function(t){var e=Go;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Pr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Su(t){var e=null;return function(t){return t.b.get(ru,t.a).then((function(t){return Vo(t)}))}(t.g).then((function(n){return e=n,Qc((n=t.g).b,ru,n.a)})).then((function(){return e}))}function Tu(t){this.a=t,this.b=Yc()}(e=mu.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(yr(void 0)?mr().then((function(){return new Se((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Re(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Pr("universalLinks.subscribe",u))throw yu("cordova-universal-links-plugin-fix is not installed");if(void 0===Pr("BuildInfo.packageName",u))throw yu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Pr("cordova.plugins.browsertab.openUrl",u))throw yu("cordova-plugin-browsertab is not installed");if("function"!=typeof Pr("cordova.InAppBrowser.open",u))throw yu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},e.Lb=function(t,e){return e(new k("operation-not-supported-in-this-environment")),Pe()},e.Jb=function(){return Re(new k("operation-not-supported-in-this-environment"))},e.Xb=function(){return!1},e.Ub=function(){return!0},e.Qb=function(){return!0},e.Kb=function(t,e,n,r){if(this.c)return Re(new k("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,h=null;return this.c=Pe().then((function(){return Uo(e),wu(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Fo(e,r,null,o,new k("no-auth-event"),null,i),s=Pr("BuildInfo.packageName",u);if("string"!=typeof s)throw new k("invalid-cordova-configuration");var c=Pr("BuildInfo.displayName",u),h={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=s;else{if(!Ir().toLowerCase().match(/android/))return Re(new k("operation-not-supported-in-this-environment"));h.apn=s}c&&(h.appDisplayName=c),o=gu(o),h.sessionId=o;var f=dc(t.u,t.i,t.l,e,n,null,r,t.m,h,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(ru,a.v(),e)})).then((function(){var e=Pr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new k("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Pr("cordova.plugins.browsertab.openUrl",u)))throw new k("invalid-cordova-configuration");n(f)}else{if("function"!=typeof(n=Pr("cordova.InAppBrowser.open",u)))throw new k("invalid-cordova-configuration");e=Ir(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Se((function(t,e){s=function(){var e=Pr("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(s),c=function(){a||(a=kn(2e3).then((function(){e(new k("redirect-cancelled-by-user"))})))},h=function(){Br()&&c()},o.addEventListener("resume",c,!1),Ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return Su(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),s&&i.Qa(s),i.c=null}))},e.Ca=function(t){this.b.push(t),wu(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Fo("unknown",null,null,null,new k("no-auth-event")),t(e))}))},e.Qa=function(t){Y(this.b,(function(e){return e==t}))};var _u={name:"pendingRedirect",F:"session"};function Cu(t){return Qc(t.b,_u,t.a)}function Eu(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=T(this.s,this),this.b=new Fu,this.B=new zu,this.g=new Tu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=ku(this.D,this.u,this.m,P)}function ku(t,e,n,i){var o=r.a.SDK_VERSION||null;return yr()?new mu(t,e,n,o,i):new hc(t,e,n,o,i)}function Iu(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function Pu(t){t.a.Ub()&&Iu(t).o((function(e){var n=new Fo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));xu(e)&&t.s(n)})),t.a.Qb()||Vu(t.b)}function Ru(t,e){J(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(_u,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Cu(t.g).then((function(){Iu(t).o((function(e){var n=new Fo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));xu(e)&&t.s(n)}))})):Pu(t)})).o((function(){Pu(t)}))}function Au(t,e){Y(t.h,(function(t){return t==e}))}Eu.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=ku(this.D,this.u,this.m),this.i={}},Eu.prototype.s=function(t){if(!t)throw new k("invalid-auth-event");if(6e5<=C()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=C())),e=!0;break}}return Vu(this.b),e};var Ou=new Vr(2e3,1e4),Nu=new Vr(3e4,6e4);function Du(t,e,n,r,i,o,a){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,a)}function xu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Lu(t,e,n,r,i){var o;return function(t){return t.b.set(_u,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(xu(e))throw new k("operation-not-supported-in-this-environment");return o=e,Cu(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new Se((function(){})):Cu(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Mu(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),Ou.get())}Eu.prototype.pa=function(){return this.b.pa()};var ju={};function Uu(t,e,n){var r=e+":"+n;return ju[r]||(ju[r]=new Eu(t,e,n)),ju[r]}function Fu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Vu(t){t.g||(t.g=!0,Gu(t,!1,null,null))}function Bu(t){t.g&&!t.i&&Gu(t,!1,null,null)}function Hu(t,e){if(t.b=function(){return Pe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Gu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Re(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Hu(t,n):Hu(t,{user:null}),t.f=[],t.c=[]}function zu(){}function qu(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Ku(t,e){this.a=e,Jr(this,"verificationId",t)}function Wu(t,e,n,r){return new Lo(t).cb(e,n).then((function(t){return new Ku(t,r)}))}function Ju(t){var e=Gi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:t,expirationTime:Hr(1e3*e.exp),authTime:Hr(1e3*e.auth_time),issuedAtTime:Hr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Xu(t,e,n){var r=e&&e[$u];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;z(e[Yu]||[],(function(t){(t=Qr(t))&&i.b.push(t)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}Fu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Fu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Gu(this,!0,null,t.a),Pe()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Gu(t,s,e,null)})).o((function(e){Gu(t,s,null,e)}))}(this,t,e):Re(new k("invalid-auth-event")):(Gu(this,!1,null,null),Pe())}else Re(new k("invalid-auth-event"))},Fu.prototype.pa=function(){var t=this;return new Se((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new k("timeout");t.a&&t.a.cancel(),t.a=kn(Nu.get()).then((function(){t.b||(t.g=!0,Gu(t,!0,null,e))}))}(t))}))},zu.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Pe()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Re(new k("invalid-auth-event"))}else Re(new k("invalid-auth-event"))},Ku.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var Yu="mfaInfo",$u="mfaPendingCredential";function Zu(t,e,n,r){k.call(this,"multi-factor-auth-required",r,e),this.b=new Xu(t,e,n),Jr(this,"resolver",this.b)}function Qu(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Zu(e,t.serverResponse,n,t.message)}catch(t){}return null}function th(){}function eh(t){Jr(this,"factorId",t.ea),this.a=t}function nh(t){if(eh.call(this,t),this.a.ea!=Lo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function rh(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function ih(t,e){this.a=t,this.b=[],this.c=T(this.wc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),oh(this,n)}function oh(t,e){t.b=e,Jr(t,"enrolledFactors",e)}function ah(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function sh(t){this.c=t,this.b=this.a=null}function ch(t){return t.b&&1e3*t.b.c||0}function uh(t,e){var n=e.refreshToken;t.b=Hi(e[Ya]||""),t.a=n}function hh(t,e){return function(t,e){return new Se((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?rs(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ec(t)):t.access_token&&t.refresh_token?n(t):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",$n(e).toString(),t.g,t.m.get()):r(new k("internal-error"))}))}(t.c,e).then((function(e){return t.b=Hi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function fh(t,e){this.a=t||null,this.b=e||null,Xr(this,{lastSignInTime:Hr(e||null),creationTime:Hr(t||null)})}function lh(t,e,n,r,i,o){Xr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ph(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=r.a.SDK_VERSION?kr(r.a.SDK_VERSION):null,this.a=new Ja(this.l,N(P),t),this.b=new sh(this.a),wh(this,e[Ya]),uh(this.b,e),Jr(this,"refreshToken",this.b.a),_h(this,n||{}),Sn.call(this),this.P=!1,this.s&&Ar()&&(this.i=Uu(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new ah((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=ch(t.b)-C()-3e5;return 0<e?e:0}))}(this),this.Z=T(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){vh(i,t.c)},this.$=null,this.O=new ih(this,n),Jr(this,"multiFactor",this.O)}function dh(t,e){t.aa&&ln(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&un(e,"languageCodeChanged",t.za)}function vh(t,e){t.W=e,ns(t.a,r.a.SDK_VERSION?kr(r.a.SDK_VERSION,t.W):null)}function mh(t,e){t.$&&ln(t.$,"frameworkChanged",t.ya),(t.$=e)&&un(e,"frameworkChanged",t.ya)}function yh(t){try{return r.a.app(t.m).auth()}catch(e){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function gh(t){t.D||t.B.b||(t.B.start(),ln(t,"tokenChanged",t.Z),un(t,"tokenChanged",t.Z))}function bh(t){ln(t,"tokenChanged",t.Z),t.B.stop()}function wh(t,e){t.xa=e,Jr(t,"_lat",e)}function Sh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Oe(e).then((function(){return t}))}function Th(t){t.i&&!t.P&&(t.P=!0,Ru(t.i,t))}function _h(t,e){Xr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new fh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ch(){}function Eh(t){return Pe().then((function(){if(t.D)throw new k("app-deleted")}))}function kh(t){return K(t.providerData,(function(t){return t.providerId}))}function Ih(t,e){e&&(Ph(t,e.providerId),t.providerData.push(e))}function Ph(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function Rh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Jr(t,e,n)}function Ah(t,e){t!=e&&(Xr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Jr(t,"metadata",function(t){return new fh(t.a,t.b)}(e.metadata)):Jr(t,"metadata",new fh),z(e.providerData,(function(e){Ih(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Jr(t,"refreshToken",t.b.a),oh(t.O,e.O.b))}function Oh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Qs(t.a,As,{idToken:e}).then(T(t.Ic,t))}(t,e).then((function(){return n||Rh(t,"isAnonymous",!1),e}))}))}function Nh(t,e){e[Ya]&&t.xa!=e[Ya]&&(uh(t.b,e),t.dispatchEvent(new rh("tokenChanged")),wh(t,e[Ya]),Rh(t,"refreshToken",t.b.a))}function Dh(t,e){return Oh(t).then((function(){if(J(kh(t),e))return Sh(t).then((function(){throw new k("provider-already-linked")}))}))}function xh(t,e,n){return Yr({user:t,credential:jo(e),additionalUserInfo:e=Ji(e),operationType:n})}function Lh(t,e){return Nh(t,e),t.reload().then((function(){return t}))}function Mh(t,e,n,i,o){if(!Ar())return Re(new k("operation-not-supported-in-this-environment"));if(t.h&&!o)return Re(t.h);var a=Wi(n.providerId),s=jr(t.uid+":::"),c=null;(!Dr()||gr())&&t.s&&n.isOAuthProvider&&(c=dc(t.s,t.l,t.m,e,n,null,s,r.a.SDK_VERSION||null,null,null,t.tenantId));var u=pr(c,a&&a.ta,a&&a.sa);return i=i().then((function(){if(Uh(t),!o)return t.I().then((function(){}))})).then((function(){return Du(t.i,u,e,n,s,!!c,t.tenantId)})).then((function(){return new Se((function(n,r){t.la(e,null,new k("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=s,t.c=Mu(t.i,t,e,u,s)}))})).then((function(t){return u&&lr(u),t?Yr(t):null})).o((function(t){throw u&&lr(u),t})),Fh(t,i,o)}function jh(t,e,n,r,i){if(!Ar())return Re(new k("operation-not-supported-in-this-environment"));if(t.h&&!i)return Re(t.h);var o=null,a=jr(t.uid+":::");return r=r().then((function(){if(Uh(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=a,Sh(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Hh,t.v(),e.a)),e})).then((function(){return Lu(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ga)return Gh(t.ga);throw o})).then((function(){if(o)throw o})),Fh(t,r,i)}function Uh(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Fh(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Re(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new rh("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){X(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qu(e.v(),yh(t),T(t.hc,t))),n||e}))}function Vh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ya]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new ph(e,n,t);return t.providerData&&z(t.providerData,(function(t){t&&Ih(r,Yr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Bh(t){this.a=t,this.b=Yc()}Xu.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=vt(e.f);return delete n[Yu],delete n[$u],yt(n,t),e.g(n)}))},E(Zu,k),th.prototype.ob=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),yt(n,{phoneVerificationInfo:xo(t.a)}),Qs(e,Ps,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:xo(t.a)}),Qs(e,Rs,n)}))}(this,t,e)},E(eh,th),E(nh,eh),E(rh,Ye),(e=ih.prototype).wc=function(t){oh(this,function(t){var e=[];return z(t.mfaInfo||[],(function(t){(t=Qr(t))&&e.push(t)})),e}(t.ed))},e.Ob=function(){return this.a.I().then((function(t){return new io(t,null)}))},e.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return Nh(n.a,t),n.a.reload()}))},e.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Qs(r,Zs,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return oh(e,r),Nh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},e.v=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.v()}))}}},ah.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=kn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return Br()||!t?Pe():new Se((function(n){e=function(){Br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},ah.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},sh.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:ch(this)}},sh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Re(new k("user-token-expired")):t||!this.b||C()>ch(this)-3e4?this.a?hh(this,{grant_type:"refresh_token",refresh_token:this.a}):Pe(null):Pe({accessToken:this.b.toString(),refreshToken:this.a})},fh.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(ph,Sn),ph.prototype.va=function(t){this.oa=t,es(this.a,t)},ph.prototype.ja=function(){return this.oa},ph.prototype.Ea=function(){return Z(this.W)},ph.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Jr(ph.prototype,"providerId","firebase"),(e=ph.prototype).reload=function(){var t=this;return Fh(this,Eh(this).then((function(){return Oh(t).then((function(){return Sh(t)})).then(Ch)})))},e.mc=function(t){return this.I(t).then((function(t){return new Ju(t)}))},e.I=function(t){var e=this;return Fh(this,Eh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new k("internal-error");return t.accessToken!=e.xa&&(wh(e,t.accessToken),e.dispatchEvent(new rh("tokenChanged"))),Rh(e,"refreshToken",t.refreshToken),t.accessToken})))},e.Ic=function(t){if(!(t=t.users)||!t.length)throw new k("internal-error");_h(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new lh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ih(this,e[n]);Rh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new rh("userReloaded",{ed:t}))},e.Jc=function(t){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},e.pb=function(t){var e=this,n=null;return Fh(this,t.c(this.a,this.uid).then((function(t){return Nh(e,t),n=xh(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},e.Ac=function(t){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},e.mb=function(t){var e=this,n=null;return Fh(this,Dh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=xh(e,t,"link"),Lh(e,t)})).then((function(){return n})))},e.Bc=function(t,e){var n=this;return Fh(this,Dh(this,"phone").then((function(){return Wu(yh(n),t,e,T(n.mb,n))})))},e.Kc=function(t,e){var n=this;return Fh(this,Pe().then((function(){return Wu(yh(n),t,e,T(n.pb,n))})),!0)},e.xb=function(t){var e=this;return Fh(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return Nh(e,t),e.reload()})))},e.cd=function(t){var e=this;return Fh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Nh(e,t),e.reload()})))},e.yb=function(t){var e=this;return Fh(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return Nh(e,t),e.reload()})))},e.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Eh(this);var e=this;return Fh(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Nh(e,t),Rh(e,"displayName",t.displayName||null),Rh(e,"photoURL",t.photoUrl||null),z(e.providerData,(function(t){"password"===t.providerId&&(Jr(t,"displayName",e.displayName),Jr(t,"photoURL",e.photoURL))})),Sh(e)})).then(Ch))},e.ad=function(t){var e=this;return Fh(this,Oh(this).then((function(n){return J(kh(e),t)?function(t,e,n){return Qs(t,Es,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return z(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),z(kh(e),(function(t){n[t]||Ph(e,t)})),n[Lo.PROVIDER_ID]||Jr(e,"phoneNumber",null),Sh(e)})):Sh(e).then((function(){throw new k("no-such-provider")}))})))},e.delete=function(){var t=this;return Fh(this,this.I().then((function(e){return Qs(t.a,Cs,{idToken:e})})).then((function(){t.dispatchEvent(new rh("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");dh(t,null),mh(t,null),t.N=[],t.D=!0,bh(t),Jr(t,"refreshToken",null),t.i&&Au(t.i,t)}))},e.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},e.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?T(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?T(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?T(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?T(this.Ib,this):null},e.Cc=function(t){var e=this;return Mh(this,"linkViaPopup",t,(function(){return Dh(e,t.providerId).then((function(){return Sh(e)}))}),!1)},e.Lc=function(t){return Mh(this,"reauthViaPopup",t,(function(){return Pe()}),!0)},e.Dc=function(t){var e=this;return jh(this,"linkViaRedirect",t,(function(){return Dh(e,t.providerId)}),!1)},e.Mc=function(t){return jh(this,"reauthViaRedirect",t,(function(){return Pe()}),!0)},e.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Fh(this,this.I().then((function(n){return ys(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=xh(i,t,"link"),Lh(i,t)})).then((function(){return o})))},e.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Fh(this,Pe().then((function(){return co(gs(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=xh(i,t,"reauthenticate"),Nh(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},e.qb=function(t){var e=this,n=null;return Fh(this,this.I().then((function(e){return n=e,void 0===t||dt(t)?{}:Ui(new Pi(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},e.Ab=function(t,e){var n=this,r=null;return Fh(this,this.I().then((function(t){return r=t,void 0===e||dt(e)?{}:Ui(new Pi(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},e.hc=function(t){var e=null,n=this;return Fh(this,t=co(Pe(t),n.uid).then((function(t){return e=xh(n,t,"reauthenticate"),Nh(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},e.toJSON=function(){return this.v()},e.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&yt(t,this.metadata.v()),z(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),yt(t,this.O.v()),t};var Hh={name:"redirectUser",F:"session"};function Gh(t){return Qc(t.b,Hh,t.a)}function zh(t){this.a=t,this.b=Yc(),this.c=null,this.f=function(t){var e=Wh("local"),n=Wh("session"),r=Wh("none");return function(t,e,n){var r=Zc(e,n),i=$c(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Mr(u.localStorage.getItem(r))}catch(t){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Kh,t.a).then((function(t){return t?Wh(t):e}))}))}))})).then((function(e){return t.c=e,qh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Wh("local"),this.a,T(this.g,this))}function qh(t,e){var n,r=[];for(n in Jc)Jc[n]!==e&&r.push(Qc(t.b,Wh(Jc[n]),t.a));return r.push(Qc(t.b,Kh,t.a)),function(t){return new Se((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ae(t[s],_(o,s),a);else e(i)}))}(r)}zh.prototype.g=function(){var t=this,e=Wh("local");$h(this,(function(){return Pe().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return qh(t,"local").then((function(){t.c=e}))}))}))};var Kh={name:"persistence",F:"session"};function Wh(t){return{name:"authUser",F:t}}function Jh(t,e){return $h(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Xh(t){return $h(t,(function(){return Qc(t.b,t.c,t.a)}))}function Yh(t,e){return $h(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Vh(t||{})}))}))}function $h(t,e){return t.f=t.f.then(e,e),t.f}function Zh(t){if(this.l=!1,Jr(this,"settings",new qu),Jr(this,"app",t),!sf(this).options||!sf(this).options.apiKey)throw new k("invalid-api-key");t=r.a.SDK_VERSION?kr(r.a.SDK_VERSION):null,this.b=new Ja(sf(this).options&&sf(this).options.apiKey,N(P),t),this.P=[],this.m=[],this.O=[],this.$b=r.a.INTERNAL.createSubscribe(T(this.xc,this)),this.W=void 0,this.ac=r.a.INTERNAL.createSubscribe(T(this.yc,this)),of(this,null),this.i=new zh(sf(this).options.apiKey+":"+sf(this).name),this.B=new Bh(sf(this).options.apiKey+":"+sf(this).name),this.Z=ff(this,function(t){var e=sf(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Hh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Vh(t||{})}))}(t.B,sf(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Gh(t.B)}));return ff(t,e)}(t).then((function(){return Yh(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Jh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Xh(t.i)}))):null})).then((function(e){of(t,e||null)}));return ff(t,n)}(this)),this.h=ff(this,function(t){return t.Z.then((function(){return nf(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Wh("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=T(this.Xc,this),this.Ma=T(this.ca,this),this.xa=T(this.jc,this),this.ya=T(this.uc,this),this.za=T(this.vc,this),this.a=null,function(t){var e=sf(t).options.authDomain,n=sf(t).options.apiKey;e&&Ar()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Uu(e,n,sf(t).name),Ru(t.a,t),cf(t)&&Th(cf(t)),t.D){Th(t.D);var r=t.D;r.va(t.ja()),dh(r,t),vh(r=t.D,t.N),mh(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=T(this.delete,this),this.INTERNAL.logFramework=T(this.Ec,this),this.s=0,Sn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Qh(t){Ye.call(this,"languageCodeChanged"),this.g=t}function tf(t){Ye.call(this,"frameworkChanged"),this.c=t}function ef(t){return t.Zb||Re(new k("auth-domain-config-required"))}function nf(t){if(!Ar())return Re(new k("operation-not-supported-in-this-environment"));var e=ef(t).then((function(){return t.a.pa()})).then((function(t){return t?Yr(t):null}));return ff(t,e)}function rf(t,e){var n={};return n.apiKey=sf(t).options.apiKey,n.authDomain=sf(t).options.authDomain,n.appName=sf(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new ph(t,e);return n&&(i.ga=n),r&&vh(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return cf(t)&&e.uid==cf(t).uid?(Ah(cf(t),e),t.ca(e)):(of(t,e),Th(e),t.ca(e))})).then((function(){hf(t)}))}function of(t,e){cf(t)&&(function(t,e){Y(t.R,(function(t){return t==e}))}(cf(t),t.Ma),ln(cf(t),"tokenChanged",t.xa),ln(cf(t),"userDeleted",t.ya),ln(cf(t),"userInvalidated",t.za),bh(cf(t))),e&&(e.R.push(t.Ma),un(e,"tokenChanged",t.xa),un(e,"userDeleted",t.ya),un(e,"userInvalidated",t.za),0<t.s&&gh(e)),Jr(t,"currentUser",e),e&&(e.va(t.ja()),dh(e,t),vh(e,t.N),mh(e,t))}function af(t,e){var n=null,r=null;return ff(t,e.then((function(e){return n=jo(e),r=Ji(e),rf(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qu(e.v(),t,T(t.ic,t))),n||e})).then((function(){return Yr({user:cf(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function sf(t){return t.app}function cf(t){return t.currentUser}function uf(t){return cf(t)&&cf(t)._lat||null}function hf(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](uf(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](uf(t))}}function ff(t,e){return t.P.push(e),e.ma((function(){X(t.P,e)})),e}function lf(){}function pf(){this.a={},this.b=1e12}zh.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");t:{for(r in Jc)if(Jc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ic()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),$h(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,qh(n,t)})).then((function(){if(n.c=Wh(t),e)return n.b.set(n.c,e,n.a)})):Pe()}))},E(Zh,Sn),E(Qh,Ye),E(tf,Ye),(e=Zh.prototype).tb=function(t){return ff(this,t=this.i.tb(t))},e.va=function(t){this.$===t||this.l||(this.$=t,es(this.b,this.$),this.dispatchEvent(new Qh(this.ja())))},e.ja=function(){return this.$},e.dd=function(){var t=u.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.Ec=function(t){this.N.push(t),ns(this.b,r.a.SDK_VERSION?kr(r.a.SDK_VERSION,this.N):null),this.dispatchEvent(new tf(this.N))},e.Ea=function(){return Z(this.N)},e.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},e.S=function(){return this.R},e.toJSON=function(){return{apiKey:sf(this).options.apiKey,authDomain:sf(this).options.authDomain,appName:sf(this).name,currentUser:cf(this)&&cf(this).v()}},e.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},e.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?T(this.gc,this):null},e.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return af(i,ms(i.b,o))}))},e.Vc=function(t){if(!Ar())return Re(new k("operation-not-supported-in-this-environment"));var e=this,n=Wi(t.providerId),i=jr(),o=null;(!Dr()||gr())&&sf(this).options.authDomain&&t.isOAuthProvider&&(o=dc(sf(this).options.authDomain,sf(this).options.apiKey,sf(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.S()));var a=pr(o,n&&n.ta,n&&n.sa);return ff(this,n=ef(this).then((function(n){return Du(n,a,"signInViaPopup",t,i,!!o,e.S())})).then((function(){return new Se((function(t,n){e.la("signInViaPopup",null,new k("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=i,e.c=Mu(e.a,e,"signInViaPopup",a,i)}))})).then((function(t){return a&&lr(a),t?Yr(t):null})).o((function(t){throw a&&lr(a),t})))},e.Wc=function(t){if(!Ar())return Re(new k("operation-not-supported-in-this-environment"));var e=this;return ff(this,ef(this).then((function(){return function(t){return $h(t,(function(){return t.b.set(Kh,t.c.F,t.a)}))}(e.i)})).then((function(){return Lu(e.a,"signInViaRedirect",t,void 0,e.S())})))},e.pa=function(){var t=this;return nf(this).then((function(e){return t.a&&Bu(t.a.b),e})).o((function(e){throw t.a&&Bu(t.a.b),e}))},e.bd=function(t){if(!t)return Re(new k("null-user"));if(this.R!=t.tenantId)return Re(new k("tenant-id-mismatch"));var e=this,n={};n.apiKey=sf(this).options.apiKey,n.authDomain=sf(this).options.authDomain,n.appName=sf(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ya]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ph(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&vh(e,r),Ah(e,t),e}(t,n,e.B,e.Ea());return ff(this,this.h.then((function(){if(sf(e).options.apiKey!=t.l)return r.reload()})).then((function(){return cf(e)&&t.uid==cf(e).uid?(Ah(cf(e),t),e.ca(t)):(of(e,r),Th(r),e.ca(r))})).then((function(){hf(e)})))},e.wb=function(){var t=this;return ff(this,this.h.then((function(){return t.a&&Bu(t.a.b),cf(t)?(of(t,null),Xh(t.i).then((function(){hf(t)}))):Pe()})))},e.Xc=function(){var t=this;return Yh(this.i,sf(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=cf(t)&&e){n=cf(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ah(cf(t),e),cf(t).I();(cf(t)||e)&&(of(t,e),e&&(Th(e),e.ga=t.B),t.a&&Ru(t.a,t),hf(t))}}))},e.ca=function(t){return Jh(this.i,t)},e.jc=function(){hf(this),this.ca(cf(this))},e.uc=function(){this.wb()},e.vc=function(){this.wb()},e.ic=function(t){var e=this;return this.h.then((function(){return af(e,Pe(t))}))},e.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(cf(e))}))},e.yc=function(t){var e=this;!function(t,e){t.O.push(e),ff(t,t.h.then((function(){!t.l&&J(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(uf(t)))})))}(this,(function(){t.next(cf(e))}))},e.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){v(t)?t(cf(r)):v(t.next)&&t.next(cf(r))})),this.$b(t,e,n)},e.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),v(t)?t(cf(r)):v(t.next)&&t.next(cf(r))})),this.ac(t,e,n)},e.kc=function(t){var e=this;return ff(this,this.h.then((function(){return cf(e)?cf(e).I(t).then((function(t){return{accessToken:t}})):null})))},e.Rc=function(t){var e=this;return this.h.then((function(){return af(e,Qs(e.b,Ws,{token:t}))})).then((function(t){var n=t.user;return Rh(n,"isAnonymous",!1),e.ca(n),t}))},e.Sc=function(t,e){var n=this;return this.h.then((function(){return af(n,Qs(n.b,Js,{email:t,password:e}))}))},e.cc=function(t,e){var n=this;return this.h.then((function(){return af(n,Qs(n.b,Ts,{email:t,password:e}))}))},e.Ya=function(t){var e=this;return this.h.then((function(){return af(e,t.ia(e.b))}))},e.Qc=function(t){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},e.vb=function(){var t=this;return this.h.then((function(){var e=cf(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return af(t,t.b.vb()).then((function(e){var n=e.user;return Rh(n,"isAnonymous",!0),t.ca(n),e}))}))},e.getUid=function(){return cf(this)&&cf(this).uid||null},e.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&cf(this)&&gh(cf(this))},e.Nc=function(t){var e=this;z(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&cf(this)&&bh(cf(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.m.push(t),ff(this,this.h.then((function(){e.l||J(e.m,t)&&t(uf(e))})))},e.removeAuthTokenListener=function(t){Y(this.m,(function(e){return e==t}))},e.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Wh("local"),t.a,this.oa),this.a&&(Au(this.a,this),Bu(this.a.b)),Promise.resolve()},e.fc=function(t){return ff(this,function(t,e){return Qs(t,_s,{identifier:e,continueUri:Or()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},e.zc=function(t){return!!Oo(t)},e.sb=function(t,e){var n=this;return ff(this,Pe().then((function(){var t=new Pi(e);if(!t.c)throw new k("argument-error",Oi+" must be true when sending sign in link to email");return Ui(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},e.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},e.jb=function(t,e){return ff(this,this.b.jb(t,e).then((function(){})))},e.Pa=function(t){return ff(this,this.b.Pa(t).then((function(t){return new oi(t)})))},e.fb=function(t){return ff(this,this.b.fb(t).then((function(){})))},e.rb=function(t,e){var n=this;return ff(this,Pe().then((function(){return void 0===e||dt(e)?{}:Ui(new Pi(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},e.Uc=function(t,e){return ff(this,Wu(this,t,e,T(this.Ya,this)))},e.Tc=function(t,e){var n=this;return ff(this,Pe().then((function(){var r=e||ur(),i=Ao(t,r);if(!(r=Oo(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new k("tenant-id-mismatch");return n.Ya(i)})))},lf.prototype.render=function(){},lf.prototype.reset=function(){},lf.prototype.getResponse=function(){},lf.prototype.execute=function(){};var df=null;function vf(t,e){return(e=mf(e))&&t.a[e]||null}function mf(t){return(t=void 0===t?1e12:t)?t.toString():null}function yf(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function gf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function bf(){}function wf(){}pf.prototype.render=function(t,e){return this.a[this.b.toString()]=new yf(t,e),this.b++},pf.prototype.reset=function(t){var e=vf(this,t);t=mf(t),e&&t&&(e.delete(),delete this.a[t])},pf.prototype.getResponse=function(t){return(t=vf(this,t))?t.getResponse():null},pf.prototype.execute=function(t){(t=vf(this,t))&&t.execute()},yf.prototype.getResponse=function(){return gf(this),this.b},yf.prototype.execute=function(){gf(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},yf.prototype.delete=function(){gf(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Jr(bf,"FACTOR_ID","phone"),wf.prototype.g=function(){return df||(df=new pf),Pe(df)},wf.prototype.c=function(){};var Sf=null;function Tf(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var _f=new bt(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Cf=new Vr(3e4,6e4);Tf.prototype.g=function(t){var e=this;return new Se((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Cf.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete u[e.a]},Pe(Ba(kt(_f,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Tf.prototype.c=function(){this.b--};var Ef=null;function kf(t,e,n,r,i,o,a){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,a?(Sf||(Sf=new wf),a=Sf):(Ef||(Ef=new Tf),a=Ef),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Rf])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Af],!u.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ja(t,o||null,i||null),this.w=r||function(){return null};var s=this;this.l=[];var c=this.a[If];this.a[If]=function(t){if(Of(s,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Pr(c,u);"function"==typeof e&&e(t)}};var h=this.a[Pf];this.a[Pf]=function(){if(Of(s,null),"function"==typeof h)h();else if("string"==typeof h){var t=Pr(h,u);"function"==typeof t&&t()}}}var If="callback",Pf="expired-callback",Rf="sitekey",Af="size";function Of(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Nf(t,e){return t.h.push(e),e.ma((function(){X(t.h,e)})),e}function Df(t){if(t.D)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function xf(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(t){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ea()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=r.a.SDK_VERSION?kr(r.a.SDK_VERSION,a):null,kf.call(this,n,t,e,(function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t}),a,N(P),i)}function Lf(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Mf.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=Mf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new k("argument-error",t+" failed: "+r)}(e=kf.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=Nf(this,Pe().then((function(){if(Or()&&!br())return mr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Qs(t.s,Ms,{})})).then((function(e){t.a[Rf]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},e.render=function(){Df(this);var t=this;return Nf(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ae&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Gt(a.name),'"'),a.type){o.push(' type="',Gt(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=pe(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ce(o,a)),2<r.length&&le(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},e.verify=function(){Df(this);var t=this;return Nf(this,this.render().then((function(e){return new Se((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},e.reset=function(){Df(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Df(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},E(xf,kf);var Mf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function jf(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Uf(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Ff(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:m}}function Vf(t,e){return{name:t||"",J:"a function",optional:!!e,K:v}}function Bf(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Hf(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function Gf(t,e){return m(t)&&"string"==typeof t.type&&t.type===e&&v(t.Fa)}function zf(t){return m(t)&&"string"==typeof t.uid}function qf(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!v(t.verify))}}}function Kf(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Wf(t,e){for(var n in e){var r=e[n].name;t[r]=Yf(r,t[n],e[n].j)}}function Jf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_((function(t){return this[t]}),n),set:_((function(t,e,n,r){Lf(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Xf(t,e,n,r){t[e]=Yf(e,n,r)}function Yf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Lf(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Wf(Zh.prototype,{fb:{name:"applyActionCode",j:[jf("code")]},Pa:{name:"checkActionCode",j:[jf("code")]},jb:{name:"confirmPasswordReset",j:[jf("code"),jf("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[jf("email"),jf("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[jf("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[jf("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Kf(Ff(),Vf(),"nextOrObserver"),Vf("opt_error",!0),Vf("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Kf(Ff(),Vf(),"nextOrObserver"),Vf("opt_error",!0),Vf("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[jf("email"),Kf(Ff("opt_actionCodeSettings",!0),Bf(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[jf("email"),Ff("actionCodeSettings")]},tb:{name:"setPersistence",j:[jf("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Hf()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Hf()]},Rc:{name:"signInWithCustomToken",j:[jf("token")]},Sc:{name:"signInWithEmailAndPassword",j:[jf("email"),jf("password")]},Tc:{name:"signInWithEmailLink",j:[jf("email"),jf("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[jf("phoneNumber"),qf()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Kf({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ph)}},Bf(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[jf(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[jf("code")]}}),Jf(Zh.prototype,{lc:{name:"languageCode",gb:Kf(jf(),Bf(),"languageCode")},ti:{name:"tenantId",gb:Kf(jf(),Bf(),"tenantId")}}),Zh.Persistence=Jc,Zh.Persistence.LOCAL="local",Zh.Persistence.SESSION="session",Zh.Persistence.NONE="none",Wf(ph.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Uf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Uf("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Hf()]},mb:{name:"linkWithCredential",j:[Hf()]},Bc:{name:"linkWithPhoneNumber",j:[jf("phoneNumber"),qf()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hf()]},pb:{name:"reauthenticateWithCredential",j:[Hf()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[jf("phoneNumber"),qf()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Kf(Ff("opt_actionCodeSettings",!0),Bf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[jf(null,!0)]},ad:{name:"unlink",j:[jf("provider")]},xb:{name:"updateEmail",j:[jf("email")]},yb:{name:"updatePassword",j:[jf("password")]},cd:{name:"updatePhoneNumber",j:[Hf("phone")]},zb:{name:"updateProfile",j:[Ff("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[jf("email"),Kf(Ff("opt_actionCodeSettings",!0),Bf(null,!0),"opt_actionCodeSettings",!0)]}}),Wf(pf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Wf(lf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Wf(Se.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Jf(qu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Uf("appVerificationDisabledForTesting")}}),Wf(Ku.prototype,{confirm:{name:"confirm",j:[jf("verificationCode")]}}),Xf(so,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[vo,Po,Do,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Kf(jf(),Ff(),"json")]),Xf(Ro,"credential",(function(t,e){return new Io(t,e)}),[jf("email"),jf("password")]),Wf(Io.prototype,{v:{name:"toJSON",j:[jf(null,!0)]}}),Wf(bo.prototype,{Aa:{name:"addScope",j:[jf("scope")]},Ia:{name:"setCustomParameters",j:[Ff("customOAuthParameters")]}}),Xf(bo,"credential",wo,[Kf(jf(),Ff(),"token")]),Xf(Ro,"credentialWithLink",Ao,[jf("email"),jf("emailLink")]),Wf(So.prototype,{Aa:{name:"addScope",j:[jf("scope")]},Ia:{name:"setCustomParameters",j:[Ff("customOAuthParameters")]}}),Xf(So,"credential",To,[Kf(jf(),Ff(),"token")]),Wf(_o.prototype,{Aa:{name:"addScope",j:[jf("scope")]},Ia:{name:"setCustomParameters",j:[Ff("customOAuthParameters")]}}),Xf(_o,"credential",Co,[Kf(jf(),Kf(Ff(),Bf()),"idToken"),Kf(jf(),Bf(),"accessToken",!0)]),Wf(Eo.prototype,{Ia:{name:"setCustomParameters",j:[Ff("customOAuthParameters")]}}),Xf(Eo,"credential",ko,[Kf(jf(),Ff(),"token"),jf("secret",!0)]),Wf(go.prototype,{Aa:{name:"addScope",j:[jf("scope")]},credential:{name:"credential",j:[Kf(jf(),Kf(Ff(),Bf()),"optionsOrIdToken"),Kf(jf(),Bf(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Ff("customOAuthParameters")]}}),Wf(lo.prototype,{v:{name:"toJSON",j:[jf(null,!0)]}}),Wf(uo.prototype,{v:{name:"toJSON",j:[jf(null,!0)]}}),Xf(Lo,"credential",Mo,[jf("verificationId"),jf("verificationCode")]),Wf(Lo.prototype,{cb:{name:"verifyPhoneNumber",j:[Kf(jf(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Gf(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Gf(t.session,ao)&&zf(t.multiFactorHint):t.session&&t.multiFactorUid?Gf(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),qf()]}}),Wf(No.prototype,{v:{name:"toJSON",j:[jf(null,!0)]}}),Wf(k.prototype,{toJSON:{name:"toJSON",j:[jf(null,!0)]}}),Wf(qo.prototype,{toJSON:{name:"toJSON",j:[jf(null,!0)]}}),Wf(zo.prototype,{toJSON:{name:"toJSON",j:[jf(null,!0)]}}),Wf(Zu.prototype,{toJSON:{name:"toJSON",j:[jf(null,!0)]}}),Wf(Xu.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Wf(ih.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},jf("displayName",!0)]},$c:{name:"unenroll",j:[Kf({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:zf},jf(),"multiFactorInfoIdentifier")]}}),Wf(xf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Xf(bi,"parseLink",Ii,[jf("link")]),Xf(bf,"assertion",(function(t){return new nh(t)}),[Hf("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Zh,AuthCredential:so,Error:k};Xf(t,"EmailAuthProvider",Ro,[]),Xf(t,"FacebookAuthProvider",bo,[]),Xf(t,"GithubAuthProvider",So,[]),Xf(t,"GoogleAuthProvider",_o,[]),Xf(t,"TwitterAuthProvider",Eo,[]),Xf(t,"OAuthProvider",go,[jf("providerId")]),Xf(t,"SAMLAuthProvider",yo,[jf("providerId")]),Xf(t,"PhoneAuthProvider",Lo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Zh)}}]),Xf(t,"RecaptchaVerifier",xf,[Kf(jf(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Ff("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Xf(t,"ActionCodeURL",bi,[]),Xf(t,"PhoneMultiFactorGenerator",bf,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Zh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:T((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:T(t.kc,t),addAuthTokenListener:T(t.bc,t),removeAuthTokenListener:T(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.14.5"),r.a.INTERNAL.extendNamespace({User:ph})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(4))},function(t,e,n){(function(t){var n,r,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * Pusher JavaScript Library v6.0.3
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */window,o=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===a(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){void 0===t&&(t="="),this._paddingCharacter=t}return t.prototype.encodedLength=function(t){return this._paddingCharacter?(t+2)/3*4|0:(8*t+5)/6|0},t.prototype.encode=function(t){for(var e="",n=0;n<t.length-2;n+=3){var r=t[n]<<16|t[n+1]<<8|t[n+2];e+=this._encodeByte(r>>>18&63),e+=this._encodeByte(r>>>12&63),e+=this._encodeByte(r>>>6&63),e+=this._encodeByte(r>>>0&63)}var i=t.length-n;return i>0&&(r=t[n]<<16|(2===i?t[n+1]<<8:0),e+=this._encodeByte(r>>>18&63),e+=this._encodeByte(r>>>12&63),e+=2===i?this._encodeByte(r>>>6&63):this._paddingCharacter||"",e+=this._paddingCharacter||""),e},t.prototype.maxDecodedLength=function(t){return this._paddingCharacter?t/4*3|0:(6*t+7)/8|0},t.prototype.decodedLength=function(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))},t.prototype.decode=function(t){if(0===t.length)return new Uint8Array(0);for(var e=this._getPaddingLength(t),n=t.length-e,r=new Uint8Array(this.maxDecodedLength(n)),i=0,o=0,a=0,s=0,c=0,u=0,h=0;o<n-4;o+=4)s=this._decodeChar(t.charCodeAt(o+0)),c=this._decodeChar(t.charCodeAt(o+1)),u=this._decodeChar(t.charCodeAt(o+2)),h=this._decodeChar(t.charCodeAt(o+3)),r[i++]=s<<2|c>>>4,r[i++]=c<<4|u>>>2,r[i++]=u<<6|h,a|=256&s,a|=256&c,a|=256&u,a|=256&h;if(o<n-1&&(s=this._decodeChar(t.charCodeAt(o)),c=this._decodeChar(t.charCodeAt(o+1)),r[i++]=s<<2|c>>>4,a|=256&s,a|=256&c),o<n-2&&(u=this._decodeChar(t.charCodeAt(o+2)),r[i++]=c<<4|u>>>2,a|=256&u),o<n-3&&(h=this._decodeChar(t.charCodeAt(o+3)),r[i++]=u<<6|h,a|=256&h),0!==a)throw new Error("Base64Coder: incorrect characters for decoding");return r},t.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-15,e+=62-t>>>8&3,String.fromCharCode(e)},t.prototype._decodeChar=function(t){var e=256;return e+=(42-t&t-44)>>>8&-256+t-43+62,e+=(46-t&t-48)>>>8&-256+t-47+63,e+=(47-t&t-58)>>>8&-256+t-48+52,e+=(64-t&t-91)>>>8&-256+t-65+0,e+=(96-t&t-123)>>>8&-256+t-97+26},t.prototype._getPaddingLength=function(t){var e=0;if(this._paddingCharacter){for(var n=t.length-1;n>=0&&t[n]===this._paddingCharacter;n--)e++;if(t.length<4||e>2)throw new Error("Base64Coder: incorrect padding")}return e},t}();e.Coder=o;var a=new o;e.encode=function(t){return a.encode(t)},e.decode=function(t){return a.decode(t)};var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._encodeByte=function(t){var e=t;return e+=65,e+=25-t>>>8&6,e+=51-t>>>8&-75,e+=61-t>>>8&-13,e+=62-t>>>8&49,String.fromCharCode(e)},e.prototype._decodeChar=function(t){var e=256;return e+=(44-t&t-46)>>>8&-256+t-45+62,e+=(94-t&t-96)>>>8&-256+t-95+63,e+=(47-t&t-58)>>>8&-256+t-48+52,e+=(64-t&t-91)>>>8&-256+t-65+0,e+=(96-t&t-123)>>>8&-256+t-97+26},e}(o);e.URLSafeCoder=s;var c=new s;e.encodeURLSafe=function(t){return c.encode(t)},e.decodeURLSafe=function(t){return c.decode(t)},e.encodedLength=function(t){return a.encodedLength(t)},e.maxDecodedLength=function(t){return a.maxDecodedLength(t)},e.decodedLength=function(t){return a.decodedLength(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="utf8: invalid source encoding";function i(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<128)e+=1;else if(r<2048)e+=2;else if(r<55296)e+=3;else{if(!(r<=57343))throw new Error("utf8: invalid string");if(n>=t.length-1)throw new Error("utf8: invalid string");n++,e+=4}}return e}e.encode=function(t){for(var e=new Uint8Array(i(t)),n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=192|o>>6,e[n++]=128|63&o):o<55296?(e[n++]=224|o>>12,e[n++]=128|o>>6&63,e[n++]=128|63&o):(r++,o=(1023&o)<<10,o|=1023&t.charCodeAt(r),o+=65536,e[n++]=240|o>>18,e[n++]=128|o>>12&63,e[n++]=128|o>>6&63,e[n++]=128|63&o)}return e},e.encodedLength=i,e.decode=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(128&i){var o=void 0;if(i<224){if(n>=t.length)throw new Error(r);if(128!=(192&(a=t[++n])))throw new Error(r);i=(31&i)<<6|63&a,o=128}else if(i<240){if(n>=t.length-1)throw new Error(r);var a=t[++n],s=t[++n];if(128!=(192&a)||128!=(192&s))throw new Error(r);i=(15&i)<<12|(63&a)<<6|63&s,o=2048}else{if(!(i<248))throw new Error(r);if(n>=t.length-2)throw new Error(r);a=t[++n],s=t[++n];var c=t[++n];if(128!=(192&a)||128!=(192&s)||128!=(192&c))throw new Error(r);i=(15&i)<<18|(63&a)<<12|(63&s)<<6|63&c,o=65536}if(i<o||i>=55296&&i<=57343)throw new Error(r);if(i>=65536){if(i>1114111)throw new Error(r);i-=65536,e.push(String.fromCharCode(55296|i>>10)),i=56320|1023&i}}e.push(String.fromCharCode(i))}return e.join("")}},function(t,e,n){!function(t){"use strict";var e=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=e(),s=e([1]),c=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function v(t,e,n,r,i){var o,a=0;for(o=0;o<i;o++)a|=t[e+o]^n[r+o];return(1&a-1>>>8)-1}function m(t,e,n,r){return v(t,e,n,r,16)}function y(t,e,n,r){return v(t,e,n,r,32)}function g(t,e,n,r){!function(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,h=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,v=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,m=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,g=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,S=o,T=a,_=s,C=c,E=u,k=h,I=f,P=l,R=p,A=d,O=v,N=m,D=y,x=g,L=b,M=w,j=0;j<20;j+=2)S^=(i=(D^=(i=(R^=(i=(E^=(i=S+D|0)<<7|i>>>25)+S|0)<<9|i>>>23)+E|0)<<13|i>>>19)+R|0)<<18|i>>>14,k^=(i=(T^=(i=(x^=(i=(A^=(i=k+T|0)<<7|i>>>25)+k|0)<<9|i>>>23)+A|0)<<13|i>>>19)+x|0)<<18|i>>>14,O^=(i=(I^=(i=(_^=(i=(L^=(i=O+I|0)<<7|i>>>25)+O|0)<<9|i>>>23)+L|0)<<13|i>>>19)+_|0)<<18|i>>>14,M^=(i=(N^=(i=(P^=(i=(C^=(i=M+N|0)<<7|i>>>25)+M|0)<<9|i>>>23)+C|0)<<13|i>>>19)+P|0)<<18|i>>>14,S^=(i=(C^=(i=(_^=(i=(T^=(i=S+C|0)<<7|i>>>25)+S|0)<<9|i>>>23)+T|0)<<13|i>>>19)+_|0)<<18|i>>>14,k^=(i=(E^=(i=(P^=(i=(I^=(i=k+E|0)<<7|i>>>25)+k|0)<<9|i>>>23)+I|0)<<13|i>>>19)+P|0)<<18|i>>>14,O^=(i=(A^=(i=(R^=(i=(N^=(i=O+A|0)<<7|i>>>25)+O|0)<<9|i>>>23)+N|0)<<13|i>>>19)+R|0)<<18|i>>>14,M^=(i=(L^=(i=(x^=(i=(D^=(i=M+L|0)<<7|i>>>25)+M|0)<<9|i>>>23)+D|0)<<13|i>>>19)+x|0)<<18|i>>>14;S=S+o|0,T=T+a|0,_=_+s|0,C=C+c|0,E=E+u|0,k=k+h|0,I=I+f|0,P=P+l|0,R=R+p|0,A=A+d|0,O=O+v|0,N=N+m|0,D=D+y|0,x=x+g|0,L=L+b|0,M=M+w|0,t[0]=S>>>0&255,t[1]=S>>>8&255,t[2]=S>>>16&255,t[3]=S>>>24&255,t[4]=T>>>0&255,t[5]=T>>>8&255,t[6]=T>>>16&255,t[7]=T>>>24&255,t[8]=_>>>0&255,t[9]=_>>>8&255,t[10]=_>>>16&255,t[11]=_>>>24&255,t[12]=C>>>0&255,t[13]=C>>>8&255,t[14]=C>>>16&255,t[15]=C>>>24&255,t[16]=E>>>0&255,t[17]=E>>>8&255,t[18]=E>>>16&255,t[19]=E>>>24&255,t[20]=k>>>0&255,t[21]=k>>>8&255,t[22]=k>>>16&255,t[23]=k>>>24&255,t[24]=I>>>0&255,t[25]=I>>>8&255,t[26]=I>>>16&255,t[27]=I>>>24&255,t[28]=P>>>0&255,t[29]=P>>>8&255,t[30]=P>>>16&255,t[31]=P>>>24&255,t[32]=R>>>0&255,t[33]=R>>>8&255,t[34]=R>>>16&255,t[35]=R>>>24&255,t[36]=A>>>0&255,t[37]=A>>>8&255,t[38]=A>>>16&255,t[39]=A>>>24&255,t[40]=O>>>0&255,t[41]=O>>>8&255,t[42]=O>>>16&255,t[43]=O>>>24&255,t[44]=N>>>0&255,t[45]=N>>>8&255,t[46]=N>>>16&255,t[47]=N>>>24&255,t[48]=D>>>0&255,t[49]=D>>>8&255,t[50]=D>>>16&255,t[51]=D>>>24&255,t[52]=x>>>0&255,t[53]=x>>>8&255,t[54]=x>>>16&255,t[55]=x>>>24&255,t[56]=L>>>0&255,t[57]=L>>>8&255,t[58]=L>>>16&255,t[59]=L>>>24&255,t[60]=M>>>0&255,t[61]=M>>>8&255,t[62]=M>>>16&255,t[63]=M>>>24&255}(t,e,n,r)}function b(t,e,n,r){!function(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,h=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,v=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,m=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,g=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,S=0;S<20;S+=2)o^=(i=(y^=(i=(p^=(i=(u^=(i=o+y|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+p|0)<<18|i>>>14,h^=(i=(a^=(i=(g^=(i=(d^=(i=h+a|0)<<7|i>>>25)+h|0)<<9|i>>>23)+d|0)<<13|i>>>19)+g|0)<<18|i>>>14,v^=(i=(f^=(i=(s^=(i=(b^=(i=v+f|0)<<7|i>>>25)+v|0)<<9|i>>>23)+b|0)<<13|i>>>19)+s|0)<<18|i>>>14,w^=(i=(m^=(i=(l^=(i=(c^=(i=w+m|0)<<7|i>>>25)+w|0)<<9|i>>>23)+c|0)<<13|i>>>19)+l|0)<<18|i>>>14,o^=(i=(c^=(i=(s^=(i=(a^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,h^=(i=(u^=(i=(l^=(i=(f^=(i=h+u|0)<<7|i>>>25)+h|0)<<9|i>>>23)+f|0)<<13|i>>>19)+l|0)<<18|i>>>14,v^=(i=(d^=(i=(p^=(i=(m^=(i=v+d|0)<<7|i>>>25)+v|0)<<9|i>>>23)+m|0)<<13|i>>>19)+p|0)<<18|i>>>14,w^=(i=(b^=(i=(g^=(i=(y^=(i=w+b|0)<<7|i>>>25)+w|0)<<9|i>>>23)+y|0)<<13|i>>>19)+g|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=h>>>0&255,t[5]=h>>>8&255,t[6]=h>>>16&255,t[7]=h>>>24&255,t[8]=v>>>0&255,t[9]=v>>>8&255,t[10]=v>>>16&255,t[11]=v>>>24&255,t[12]=w>>>0&255,t[13]=w>>>8&255,t[14]=w>>>16&255,t[15]=w>>>24&255,t[16]=f>>>0&255,t[17]=f>>>8&255,t[18]=f>>>16&255,t[19]=f>>>24&255,t[20]=l>>>0&255,t[21]=l>>>8&255,t[22]=l>>>16&255,t[23]=l>>>24&255,t[24]=p>>>0&255,t[25]=p>>>8&255,t[26]=p>>>16&255,t[27]=p>>>24&255,t[28]=d>>>0&255,t[29]=d>>>8&255,t[30]=d>>>16&255,t[31]=d>>>24&255}(t,e,n,r)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function S(t,e,n,r,i,o,a){var s,c,u=new Uint8Array(16),h=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;i>=64;){for(g(h,u,a,w),c=0;c<64;c++)t[e+c]=n[r+c]^h[c];for(s=1,c=8;c<16;c++)s=s+(255&u[c])|0,u[c]=255&s,s>>>=8;i-=64,e+=64,r+=64}if(i>0)for(g(h,u,a,w),c=0;c<i;c++)t[e+c]=n[r+c]^h[c];return 0}function T(t,e,n,r,i){var o,a,s=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=r[a];for(;n>=64;){for(g(c,s,i,w),a=0;a<64;a++)t[e+a]=c[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;n-=64,e+=64}if(n>0)for(g(c,s,i,w),a=0;a<n;a++)t[e+a]=c[a];return 0}function _(t,e,n,r,i){var o=new Uint8Array(32);b(o,r,i,w);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=r[s+16];return T(t,e,n,a,o)}function C(t,e,n,r,i,o,a){var s=new Uint8Array(32);b(s,o,a,w);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return S(t,e,n,r,i,c,s)}var E=function(t){var e,n,r,i,o,a,s,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(a>>>11|s<<5),c=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(s>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function k(t,e,n,r,i,o){var a=new E(o);return a.update(n,r,i),a.finish(t,e),0}function I(t,e,n,r,i,o){var a=new Uint8Array(16);return k(a,0,n,r,i,o),m(t,e,a,0)}function P(t,e,n,r,i){var o;if(n<32)return-1;for(C(t,0,e,0,n,r,i),k(t,16,t,32,n-32,t),o=0;o<16;o++)t[o]=0;return 0}function R(t,e,n,r,i){var o,a=new Uint8Array(32);if(n<32)return-1;if(_(a,0,32,r,i),0!==I(e,16,e,32,n-32,a))return-1;for(C(t,0,e,0,n,r,i),o=0;o<32;o++)t[o]=0;return 0}function A(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function O(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function N(t,e,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(t[o]^e[o]),t[o]^=r,e[o]^=r}function D(t,n){var r,i,o,a=e(),s=e();for(r=0;r<16;r++)s[r]=n[r];for(O(s),O(s),O(s),i=0;i<2;i++){for(a[0]=s[0]-65517,r=1;r<15;r++)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,N(s,a,1-o)}for(r=0;r<16;r++)t[2*r]=255&s[r],t[2*r+1]=s[r]>>8}function x(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return D(n,t),D(r,e),y(n,0,r,0)}function L(t){var e=new Uint8Array(32);return D(e,t),1&e[0]}function M(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function j(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function U(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function F(t,e,n){var r,i,o=0,a=0,s=0,c=0,u=0,h=0,f=0,l=0,p=0,d=0,v=0,m=0,y=0,g=0,b=0,w=0,S=0,T=0,_=0,C=0,E=0,k=0,I=0,P=0,R=0,A=0,O=0,N=0,D=0,x=0,L=0,M=n[0],j=n[1],U=n[2],F=n[3],V=n[4],B=n[5],H=n[6],G=n[7],z=n[8],q=n[9],K=n[10],W=n[11],J=n[12],X=n[13],Y=n[14],$=n[15];o+=(r=e[0])*M,a+=r*j,s+=r*U,c+=r*F,u+=r*V,h+=r*B,f+=r*H,l+=r*G,p+=r*z,d+=r*q,v+=r*K,m+=r*W,y+=r*J,g+=r*X,b+=r*Y,w+=r*$,a+=(r=e[1])*M,s+=r*j,c+=r*U,u+=r*F,h+=r*V,f+=r*B,l+=r*H,p+=r*G,d+=r*z,v+=r*q,m+=r*K,y+=r*W,g+=r*J,b+=r*X,w+=r*Y,S+=r*$,s+=(r=e[2])*M,c+=r*j,u+=r*U,h+=r*F,f+=r*V,l+=r*B,p+=r*H,d+=r*G,v+=r*z,m+=r*q,y+=r*K,g+=r*W,b+=r*J,w+=r*X,S+=r*Y,T+=r*$,c+=(r=e[3])*M,u+=r*j,h+=r*U,f+=r*F,l+=r*V,p+=r*B,d+=r*H,v+=r*G,m+=r*z,y+=r*q,g+=r*K,b+=r*W,w+=r*J,S+=r*X,T+=r*Y,_+=r*$,u+=(r=e[4])*M,h+=r*j,f+=r*U,l+=r*F,p+=r*V,d+=r*B,v+=r*H,m+=r*G,y+=r*z,g+=r*q,b+=r*K,w+=r*W,S+=r*J,T+=r*X,_+=r*Y,C+=r*$,h+=(r=e[5])*M,f+=r*j,l+=r*U,p+=r*F,d+=r*V,v+=r*B,m+=r*H,y+=r*G,g+=r*z,b+=r*q,w+=r*K,S+=r*W,T+=r*J,_+=r*X,C+=r*Y,E+=r*$,f+=(r=e[6])*M,l+=r*j,p+=r*U,d+=r*F,v+=r*V,m+=r*B,y+=r*H,g+=r*G,b+=r*z,w+=r*q,S+=r*K,T+=r*W,_+=r*J,C+=r*X,E+=r*Y,k+=r*$,l+=(r=e[7])*M,p+=r*j,d+=r*U,v+=r*F,m+=r*V,y+=r*B,g+=r*H,b+=r*G,w+=r*z,S+=r*q,T+=r*K,_+=r*W,C+=r*J,E+=r*X,k+=r*Y,I+=r*$,p+=(r=e[8])*M,d+=r*j,v+=r*U,m+=r*F,y+=r*V,g+=r*B,b+=r*H,w+=r*G,S+=r*z,T+=r*q,_+=r*K,C+=r*W,E+=r*J,k+=r*X,I+=r*Y,P+=r*$,d+=(r=e[9])*M,v+=r*j,m+=r*U,y+=r*F,g+=r*V,b+=r*B,w+=r*H,S+=r*G,T+=r*z,_+=r*q,C+=r*K,E+=r*W,k+=r*J,I+=r*X,P+=r*Y,R+=r*$,v+=(r=e[10])*M,m+=r*j,y+=r*U,g+=r*F,b+=r*V,w+=r*B,S+=r*H,T+=r*G,_+=r*z,C+=r*q,E+=r*K,k+=r*W,I+=r*J,P+=r*X,R+=r*Y,A+=r*$,m+=(r=e[11])*M,y+=r*j,g+=r*U,b+=r*F,w+=r*V,S+=r*B,T+=r*H,_+=r*G,C+=r*z,E+=r*q,k+=r*K,I+=r*W,P+=r*J,R+=r*X,A+=r*Y,O+=r*$,y+=(r=e[12])*M,g+=r*j,b+=r*U,w+=r*F,S+=r*V,T+=r*B,_+=r*H,C+=r*G,E+=r*z,k+=r*q,I+=r*K,P+=r*W,R+=r*J,A+=r*X,O+=r*Y,N+=r*$,g+=(r=e[13])*M,b+=r*j,w+=r*U,S+=r*F,T+=r*V,_+=r*B,C+=r*H,E+=r*G,k+=r*z,I+=r*q,P+=r*K,R+=r*W,A+=r*J,O+=r*X,N+=r*Y,D+=r*$,b+=(r=e[14])*M,w+=r*j,S+=r*U,T+=r*F,_+=r*V,C+=r*B,E+=r*H,k+=r*G,I+=r*z,P+=r*q,R+=r*K,A+=r*W,O+=r*J,N+=r*X,D+=r*Y,x+=r*$,w+=(r=e[15])*M,a+=38*(T+=r*U),s+=38*(_+=r*F),c+=38*(C+=r*V),u+=38*(E+=r*B),h+=38*(k+=r*H),f+=38*(I+=r*G),l+=38*(P+=r*z),p+=38*(R+=r*q),d+=38*(A+=r*K),v+=38*(O+=r*W),m+=38*(N+=r*J),y+=38*(D+=r*X),g+=38*(x+=r*Y),b+=38*(L+=r*$),o=(r=(o+=38*(S+=r*j))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=a,t[2]=s,t[3]=c,t[4]=u,t[5]=h,t[6]=f,t[7]=l,t[8]=p,t[9]=d,t[10]=v,t[11]=m,t[12]=y,t[13]=g,t[14]=b,t[15]=w}function V(t,e){F(t,e,e)}function B(t,n){var r,i=e();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)V(i,i),2!==r&&4!==r&&F(i,i,n);for(r=0;r<16;r++)t[r]=i[r]}function H(t,n){var r,i=e();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)V(i,i),1!==r&&F(i,i,n);for(r=0;r<16;r++)t[r]=i[r]}function G(t,n,r){var i,o,a=new Uint8Array(32),s=new Float64Array(80),u=e(),h=e(),f=e(),l=e(),p=e(),d=e();for(o=0;o<31;o++)a[o]=n[o];for(a[31]=127&n[31]|64,a[0]&=248,M(s,r),o=0;o<16;o++)h[o]=s[o],l[o]=u[o]=f[o]=0;for(u[0]=l[0]=1,o=254;o>=0;--o)N(u,h,i=a[o>>>3]>>>(7&o)&1),N(f,l,i),j(p,u,f),U(u,u,f),j(f,h,l),U(h,h,l),V(l,p),V(d,u),F(u,f,u),F(f,h,p),j(p,u,f),U(u,u,f),V(h,u),U(f,l,d),F(u,f,c),j(u,u,l),F(f,f,u),F(u,l,d),F(l,h,s),V(h,p),N(u,h,i),N(f,l,i);for(o=0;o<16;o++)s[o+16]=u[o],s[o+32]=f[o],s[o+48]=h[o],s[o+64]=l[o];var v=s.subarray(32),m=s.subarray(16);return B(v,v),F(m,m,v),D(t,m),0}function z(t,e){return G(t,e,o)}function q(t,e){return r(e,32),z(t,e)}function K(t,e,n){var r=new Uint8Array(32);return G(r,n,e),b(t,i,r,w)}E.prototype.blocks=function(t,e,n){for(var r,i,o,a,s,c,u,h,f,l,p,d,v,m,y,g,b,w,S,T=this.fin?0:2048,_=this.h[0],C=this.h[1],E=this.h[2],k=this.h[3],I=this.h[4],P=this.h[5],R=this.h[6],A=this.h[7],O=this.h[8],N=this.h[9],D=this.r[0],x=this.r[1],L=this.r[2],M=this.r[3],j=this.r[4],U=this.r[5],F=this.r[6],V=this.r[7],B=this.r[8],H=this.r[9];n>=16;)l=f=0,l+=(_+=8191&(r=255&t[e+0]|(255&t[e+1])<<8))*D,l+=(C+=8191&(r>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*H),l+=(E+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*B),l+=(k+=8191&(o>>>7|(a=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*V),f=(l+=(I+=8191&(a>>>4|(s=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*F))>>>13,l&=8191,l+=(P+=s>>>1&8191)*(5*U),l+=(R+=8191&(s>>>14|(c=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*j),l+=(A+=8191&(c>>>11|(u=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*M),l+=(O+=8191&(u>>>8|(h=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*L),p=f+=(l+=(N+=h>>>5|T)*(5*x))>>>13,p+=_*x,p+=C*D,p+=E*(5*H),p+=k*(5*B),f=(p+=I*(5*V))>>>13,p&=8191,p+=P*(5*F),p+=R*(5*U),p+=A*(5*j),p+=O*(5*M),f+=(p+=N*(5*L))>>>13,p&=8191,d=f,d+=_*L,d+=C*x,d+=E*D,d+=k*(5*H),f=(d+=I*(5*B))>>>13,d&=8191,d+=P*(5*V),d+=R*(5*F),d+=A*(5*U),d+=O*(5*j),v=f+=(d+=N*(5*M))>>>13,v+=_*M,v+=C*L,v+=E*x,v+=k*D,f=(v+=I*(5*H))>>>13,v&=8191,v+=P*(5*B),v+=R*(5*V),v+=A*(5*F),v+=O*(5*U),m=f+=(v+=N*(5*j))>>>13,m+=_*j,m+=C*M,m+=E*L,m+=k*x,f=(m+=I*D)>>>13,m&=8191,m+=P*(5*H),m+=R*(5*B),m+=A*(5*V),m+=O*(5*F),y=f+=(m+=N*(5*U))>>>13,y+=_*U,y+=C*j,y+=E*M,y+=k*L,f=(y+=I*x)>>>13,y&=8191,y+=P*D,y+=R*(5*H),y+=A*(5*B),y+=O*(5*V),g=f+=(y+=N*(5*F))>>>13,g+=_*F,g+=C*U,g+=E*j,g+=k*M,f=(g+=I*L)>>>13,g&=8191,g+=P*x,g+=R*D,g+=A*(5*H),g+=O*(5*B),b=f+=(g+=N*(5*V))>>>13,b+=_*V,b+=C*F,b+=E*U,b+=k*j,f=(b+=I*M)>>>13,b&=8191,b+=P*L,b+=R*x,b+=A*D,b+=O*(5*H),w=f+=(b+=N*(5*B))>>>13,w+=_*B,w+=C*V,w+=E*F,w+=k*U,f=(w+=I*j)>>>13,w&=8191,w+=P*M,w+=R*L,w+=A*x,w+=O*D,S=f+=(w+=N*(5*H))>>>13,S+=_*H,S+=C*B,S+=E*V,S+=k*F,f=(S+=I*U)>>>13,S&=8191,S+=P*j,S+=R*M,S+=A*L,S+=O*x,_=l=8191&(f=(f=((f+=(S+=N*D)>>>13)<<2)+f|0)+(l&=8191)|0),C=p+=f>>>=13,E=d&=8191,k=v&=8191,I=m&=8191,P=y&=8191,R=g&=8191,A=b&=8191,O=w&=8191,N=S&=8191,e+=16,n-=16;this.h[0]=_,this.h[1]=C,this.h[2]=E,this.h[3]=k,this.h[4]=I,this.h[5]=P,this.h[6]=R,this.h[7]=A,this.h[8]=O,this.h[9]=N},E.prototype.finish=function(t,e){var n,r,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,r=(1^n)-1,o=0;o<10;o++)a[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},E.prototype.update=function(t,e,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(t,e,i),e+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var W=P,J=R,X=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(t,e,n,r){for(var i,o,a,s,c,u,h,f,l,p,d,v,m,y,g,b,w,S,T,_,C,E,k,I,P,R,A=new Int32Array(16),O=new Int32Array(16),N=t[0],D=t[1],x=t[2],L=t[3],M=t[4],j=t[5],U=t[6],F=t[7],V=e[0],B=e[1],H=e[2],G=e[3],z=e[4],q=e[5],K=e[6],W=e[7],J=0;r>=128;){for(T=0;T<16;T++)_=8*T+J,A[T]=n[_+0]<<24|n[_+1]<<16|n[_+2]<<8|n[_+3],O[T]=n[_+4]<<24|n[_+5]<<16|n[_+6]<<8|n[_+7];for(T=0;T<80;T++)if(i=N,o=D,a=x,s=L,c=M,u=j,h=U,l=V,p=B,d=H,v=G,m=z,y=q,g=K,k=65535&(E=W),I=E>>>16,P=65535&(C=F),R=C>>>16,k+=65535&(E=(z>>>14|M<<18)^(z>>>18|M<<14)^(M>>>9|z<<23)),I+=E>>>16,P+=65535&(C=(M>>>14|z<<18)^(M>>>18|z<<14)^(z>>>9|M<<23)),R+=C>>>16,k+=65535&(E=z&q^~z&K),I+=E>>>16,P+=65535&(C=M&j^~M&U),R+=C>>>16,k+=65535&(E=X[2*T+1]),I+=E>>>16,P+=65535&(C=X[2*T]),R+=C>>>16,C=A[T%16],I+=(E=O[T%16])>>>16,P+=65535&C,R+=C>>>16,P+=(I+=(k+=65535&E)>>>16)>>>16,k=65535&(E=S=65535&k|I<<16),I=E>>>16,P=65535&(C=w=65535&P|(R+=P>>>16)<<16),R=C>>>16,k+=65535&(E=(V>>>28|N<<4)^(N>>>2|V<<30)^(N>>>7|V<<25)),I+=E>>>16,P+=65535&(C=(N>>>28|V<<4)^(V>>>2|N<<30)^(V>>>7|N<<25)),R+=C>>>16,I+=(E=V&B^V&H^B&H)>>>16,P+=65535&(C=N&D^N&x^D&x),R+=C>>>16,f=65535&(P+=(I+=(k+=65535&E)>>>16)>>>16)|(R+=P>>>16)<<16,b=65535&k|I<<16,k=65535&(E=v),I=E>>>16,P=65535&(C=s),R=C>>>16,I+=(E=S)>>>16,P+=65535&(C=w),R+=C>>>16,D=i,x=o,L=a,M=s=65535&(P+=(I+=(k+=65535&E)>>>16)>>>16)|(R+=P>>>16)<<16,j=c,U=u,F=h,N=f,B=l,H=p,G=d,z=v=65535&k|I<<16,q=m,K=y,W=g,V=b,T%16==15)for(_=0;_<16;_++)C=A[_],k=65535&(E=O[_]),I=E>>>16,P=65535&C,R=C>>>16,C=A[(_+9)%16],k+=65535&(E=O[(_+9)%16]),I+=E>>>16,P+=65535&C,R+=C>>>16,w=A[(_+1)%16],k+=65535&(E=((S=O[(_+1)%16])>>>1|w<<31)^(S>>>8|w<<24)^(S>>>7|w<<25)),I+=E>>>16,P+=65535&(C=(w>>>1|S<<31)^(w>>>8|S<<24)^w>>>7),R+=C>>>16,w=A[(_+14)%16],I+=(E=((S=O[(_+14)%16])>>>19|w<<13)^(w>>>29|S<<3)^(S>>>6|w<<26))>>>16,P+=65535&(C=(w>>>19|S<<13)^(S>>>29|w<<3)^w>>>6),R+=C>>>16,R+=(P+=(I+=(k+=65535&E)>>>16)>>>16)>>>16,A[_]=65535&P|R<<16,O[_]=65535&k|I<<16;k=65535&(E=V),I=E>>>16,P=65535&(C=N),R=C>>>16,C=t[0],I+=(E=e[0])>>>16,P+=65535&C,R+=C>>>16,R+=(P+=(I+=(k+=65535&E)>>>16)>>>16)>>>16,t[0]=N=65535&P|R<<16,e[0]=V=65535&k|I<<16,k=65535&(E=B),I=E>>>16,P=65535&(C=D),R=C>>>16,C=t[1],I+=(E=e[1])>>>16,P+=65535&C,R+=C>>>16,R+=(P+=(I+=(k+=65535&E)>>>16)>>>16)>>>16,t[1]=D=65535&P|R<<16,e[1]=B=65535&k|I<<16,k=65535&(E=H),I=E>>>16,P=65535&(C=x),R=C>>>16,C=t[2],I+=(E=e[2])>>>16,P+=65535&C,R+=C>>>16,R+=(P+=(I+=(k+=65535&E)>>>16)>>>16)>>>16,t[2]=x=65535&P|R<<16,e[2]=H=65535&k|I<<16,k=65535&(E=G),I=E>>>16,P=65535&(C=L),R=C>>>16,C=t[3],I+=(E=e[3])>>>16,P+=65535&C,R+=C>>>16,R+=(P+=(I+=(k+=65535&E)>>>16)>>>16)>>>16,t[3]=L=65535&P|R<<16,e[3]=G=65535&k|I<<16,k=65535&(E=z),I=E>>>16,P=65535&(C=M),R=C>>>16,C=t[4],I+=(E=e[4])>>>16,P+=65535&C,R+=C>>>16,R+=(P+=(I+=(k+=65535&E)>>>16)>>>16)>>>16,t[4]=M=65535&P|R<<16,e[4]=z=65535&k|I<<16,k=65535&(E=q),I=E>>>16,P=65535&(C=j),R=C>>>16,C=t[5],I+=(E=e[5])>>>16,P+=65535&C,R+=C>>>16,R+=(P+=(I+=(k+=65535&E)>>>16)>>>16)>>>16,t[5]=j=65535&P|R<<16,e[5]=q=65535&k|I<<16,k=65535&(E=K),I=E>>>16,P=65535&(C=U),R=C>>>16,C=t[6],I+=(E=e[6])>>>16,P+=65535&C,R+=C>>>16,R+=(P+=(I+=(k+=65535&E)>>>16)>>>16)>>>16,t[6]=U=65535&P|R<<16,e[6]=K=65535&k|I<<16,k=65535&(E=W),I=E>>>16,P=65535&(C=F),R=C>>>16,C=t[7],I+=(E=e[7])>>>16,P+=65535&C,R+=C>>>16,R+=(P+=(I+=(k+=65535&E)>>>16)>>>16)>>>16,t[7]=F=65535&P|R<<16,e[7]=W=65535&k|I<<16,J+=128,r-=128}return r}function $(t,e,n){var r,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Y(i,o,e,n),n%=128,r=0;r<n;r++)a[r]=e[s-n+r];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,d(a,n-8,s/536870912|0,s<<3),Y(i,o,a,n),r=0;r<8;r++)d(t,8*r,i[r],o[r]);return 0}function Z(t,n){var r=e(),i=e(),o=e(),a=e(),s=e(),c=e(),u=e(),f=e(),l=e();U(r,t[1],t[0]),U(l,n[1],n[0]),F(r,r,l),j(i,t[0],t[1]),j(l,n[0],n[1]),F(i,i,l),F(o,t[3],n[3]),F(o,o,h),F(a,t[2],n[2]),j(a,a,a),U(s,i,r),U(c,a,o),j(u,a,o),j(f,i,r),F(t[0],s,c),F(t[1],f,u),F(t[2],u,c),F(t[3],s,f)}function Q(t,e,n){var r;for(r=0;r<4;r++)N(t[r],e[r],n)}function tt(t,n){var r=e(),i=e(),o=e();B(o,n[2]),F(r,n[0],o),F(i,n[1],o),D(t,i),t[31]^=L(r)<<7}function et(t,e,n){var r,i;for(A(t[0],a),A(t[1],s),A(t[2],s),A(t[3],a),i=255;i>=0;--i)Q(t,e,r=n[i/8|0]>>(7&i)&1),Z(e,t),Z(t,t),Q(t,e,r)}function nt(t,n){var r=[e(),e(),e(),e()];A(r[0],f),A(r[1],l),A(r[2],s),F(r[3],f,l),et(t,r,n)}function rt(t,n,i){var o,a=new Uint8Array(64),s=[e(),e(),e(),e()];for(i||r(n,32),$(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,nt(s,a),tt(t,s),o=0;o<32;o++)n[o+32]=t[o];return 0}var it,ot=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function at(t,e){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)e[i]+=n-16*e[r]*ot[i-(r-32)],n=Math.floor((e[i]+128)/256),e[i]-=256*n;e[i]+=n,e[r]=0}for(n=0,i=0;i<32;i++)e[i]+=n-(e[31]>>4)*ot[i],n=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=n*ot[i];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function st(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;at(t,n)}function ct(t,n,r,i){var o,a,s=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),h=new Float64Array(64),f=[e(),e(),e(),e()];$(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var l=r+64;for(o=0;o<r;o++)t[64+o]=n[o];for(o=0;o<32;o++)t[32+o]=s[32+o];for($(u,t.subarray(32),r+32),st(u),nt(f,u),tt(t,f),o=32;o<64;o++)t[o]=i[o];for($(c,t,r+64),st(c),o=0;o<64;o++)h[o]=0;for(o=0;o<32;o++)h[o]=u[o];for(o=0;o<32;o++)for(a=0;a<32;a++)h[o+a]+=c[o]*s[a];return at(t.subarray(32),h),l}function ut(t,n,r,i){var o,c=new Uint8Array(32),h=new Uint8Array(64),f=[e(),e(),e(),e()],l=[e(),e(),e(),e()];if(r<64)return-1;if(function(t,n){var r=e(),i=e(),o=e(),c=e(),h=e(),f=e(),l=e();return A(t[2],s),M(t[1],n),V(o,t[1]),F(c,o,u),U(o,o,t[2]),j(c,t[2],c),V(h,c),V(f,h),F(l,f,h),F(r,l,o),F(r,r,c),H(r,r),F(r,r,o),F(r,r,c),F(r,r,c),F(t[0],r,c),V(i,t[0]),F(i,i,c),x(i,o)&&F(t[0],t[0],p),V(i,t[0]),F(i,i,c),x(i,o)?-1:(L(t[0])===n[31]>>7&&U(t[0],a,t[0]),F(t[3],t[0],t[1]),0)}(l,i))return-1;for(o=0;o<r;o++)t[o]=n[o];for(o=0;o<32;o++)t[o+32]=i[o];if($(h,t,r),st(h),et(f,l,h),nt(l,n.subarray(32)),Z(f,l),tt(c,f),r-=64,y(n,0,c,0)){for(o=0;o<r;o++)t[o]=0;return-1}for(o=0;o<r;o++)t[o]=n[o+64];return r}function ht(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function ft(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function lt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:C,crypto_stream:_,crypto_stream_salsa20_xor:S,crypto_stream_salsa20:T,crypto_onetimeauth:k,crypto_onetimeauth_verify:I,crypto_verify_16:m,crypto_verify_32:y,crypto_secretbox:P,crypto_secretbox_open:R,crypto_scalarmult:G,crypto_scalarmult_base:z,crypto_box_beforenm:K,crypto_box_afternm:W,crypto_box:function(t,e,n,r,i,o){var a=new Uint8Array(32);return K(a,i,o),W(t,e,n,r,a)},crypto_box_open:function(t,e,n,r,i,o){var a=new Uint8Array(32);return K(a,i,o),J(t,e,n,r,a)},crypto_box_keypair:q,crypto_hash:$,crypto_sign:ct,crypto_sign_keypair:rt,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:u,L:ot,pack25519:D,unpack25519:M,M:F,A:j,S:V,Z:U,pow2523:H,add:Z,set25519:A,modL:at,scalarmult:et,scalarbase:nt},t.randomBytes=function(t){var e=new Uint8Array(t);return r(e,t),e},t.secretbox=function(t,e,n){ft(t,e,n),ht(n,e);for(var r=new Uint8Array(32+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+32]=t[o];return P(i,r,r.length,e,n),i.subarray(16)},t.secretbox.open=function(t,e,n){ft(t,e,n),ht(n,e);for(var r=new Uint8Array(16+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+16]=t[o];return r.length<32||0!==R(i,r,r.length,e,n)?null:i.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(ft(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var n=new Uint8Array(32);return G(n,t,e),n},t.scalarMult.base=function(t){if(ft(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return z(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox(e,n,o)},t.box.before=function(t,e){ft(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var n=new Uint8Array(32);return K(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox.open(e,n,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return q(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(ft(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return z(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(ft(t,e),64!==e.length)throw new Error("bad secret key size");var n=new Uint8Array(64+t.length);return ct(n,t,t.length,e),n},t.sign.open=function(t,e){if(ft(t,e),32!==e.length)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=ut(n,t,t.length,e);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached=function(e,n){for(var r=t.sign(e,n),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached.verify=function(t,e,n){if(ft(t,e,n),64!==e.length)throw new Error("bad signature size");if(32!==n.length)throw new Error("bad public key size");var r,i=new Uint8Array(64+t.length),o=new Uint8Array(64+t.length);for(r=0;r<64;r++)i[r]=e[r];for(r=0;r<t.length;r++)i[r+64]=t[r];return ut(o,i,i.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return rt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(ft(t),64!==t.length)throw new Error("bad secret key size");for(var e=new Uint8Array(32),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(ft(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),n=new Uint8Array(64),r=0;r<32;r++)n[r]=t[r];return rt(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){ft(t);var e=new Uint8Array(64);return $(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return ft(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===v(t,0,e,0,t.length)},t.setPRNG=function(t){r=t},(it="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&it.getRandomValues?t.setPRNG((function(t,e){var n,r=new Uint8Array(e);for(n=0;n<e;n+=65536)it.getRandomValues(r.subarray(n,n+Math.min(e-n,65536)));for(n=0;n<e;n++)t[n]=r[n];lt(r)})):(it=n(4))&&it.randomBytes&&t.setPRNG((function(t,e){var n,r=it.randomBytes(e);for(n=0;n<e;n++)t[n]=r[n];lt(r)}))}(t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e,n){t.exports=n(5).default},function(t,e){},function(t,e,n){"use strict";n.r(e);for(var r=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,r=this.name+"["+e+"]",i=!1,o=function(){i||(t.apply(null,arguments),i=!0)};return this[e]=o,{number:e,id:n,name:r,callback:o}},t.prototype.remove=function(t){delete this[t.number]},t}(),i=new r("_pusher_script_","Pusher.ScriptReceivers"),o={VERSION:"6.0.3",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,cluster:"mt1",cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},s=function(){function t(t){this.options=t,this.receivers=t.receivers||i,this.loading={}}return t.prototype.load=function(t,e,n){var r=this;if(r.loading[t]&&r.loading[t].length>0)r.loading[t].push(n);else{r.loading[t]=[n];var i=Oe.createScriptRequest(r.getPath(t,e)),o=r.receivers.create((function(e){if(r.receivers.remove(o),r.loading[t]){var n=r.loading[t];delete r.loading[t];for(var a=function(t){t||i.cleanup()},s=0;s<n.length;s++)n[s](e,a)}}));i.send(o)}},t.prototype.getRoot=function(t){var e=Oe.getDocument().location.protocol;return(t&&t.useTLS||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}(),c=new r("_pusher_dependencies","Pusher.DependenciesReceivers"),u=new s({cdn_http:o.cdn_http,cdn_https:o.cdn_https,version:o.VERSION,suffix:o.dependency_suffix,receivers:c}),h=String.fromCharCode,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l={},p=0,d=f.length;p<d;p++)l[f.charAt(p)]=p;var v,m=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?h(192|e>>>6)+h(128|63&e):h(224|e>>>12&15)+h(128|e>>>6&63)+h(128|63&e)},y=function(t){return t.replace(/[^\x00-\x7F]/g,m)},g=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[f.charAt(n>>>18),f.charAt(n>>>12&63),e>=2?"=":f.charAt(n>>>6&63),e>=1?"=":f.charAt(63&n)].join("")},b=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,g)},w=function(){function t(t,e,n,r){var i=this;this.clear=e,this.timer=t((function(){i.timer&&(i.timer=r(i.timer))}),n)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}(),S=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function T(t){window.clearTimeout(t)}function _(t){window.clearInterval(t)}var C=function(t){function e(e,n){return t.call(this,setTimeout,T,e,(function(t){return n(),null}))||this}return S(e,t),e}(w),E=function(t){function e(e,n){return t.call(this,setInterval,_,e,(function(t){return n(),t}))||this}return S(e,t),e}(w),k={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new C(0,t)},method:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,r.concat(arguments))}}};function I(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var i=e[r];for(var o in i)i[o]&&i[o].constructor&&i[o].constructor===Object?t[o]=I(t[o]||{},i[o]):t[o]=i[o]}return t}function P(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(F(arguments[e]));return t.join(" : ")}function R(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function A(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function O(t){var e=[];return A(t,(function(t,n){e.push(n)})),e}function N(t,e,n){for(var r=0;r<t.length;r++)e.call(n||window,t[r],r,t)}function D(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t,n));return n}function x(t,e){e=e||function(t){return!!t};for(var n=[],r=0;r<t.length;r++)e(t[r],r,t,n)&&n.push(t[r]);return n}function L(t,e){var n={};return A(t,(function(r,i){(e&&e(r,i,t,n)||Boolean(r))&&(n[i]=r)})),n}function M(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1}function j(t){return e=function(t){return"object"===a(t)&&(t=F(t)),encodeURIComponent((e=t.toString(),b(y(e))));var e},n={},A(t,(function(t,r){n[r]=e(t)})),n;var e,n}function U(t){var e,n,r=L(t,(function(t){return void 0!==t}));return D((e=j(r),n=[],A(e,(function(t,e){n.push([e,t])})),n),k.method("join","=")).join("&")}function F(t){try{return JSON.stringify(t)}catch(r){return JSON.stringify((e=[],n=[],function t(r,i){var o,s,c;switch(a(r)){case"object":if(!r)return null;for(o=0;o<e.length;o+=1)if(e[o]===r)return{$ref:n[o]};if(e.push(r),n.push(i),"[object Array]"===Object.prototype.toString.apply(r))for(c=[],o=0;o<r.length;o+=1)c[o]=t(r[o],i+"["+o+"]");else for(s in c={},r)Object.prototype.hasOwnProperty.call(r,s)&&(c[s]=t(r[s],i+"["+JSON.stringify(s)+"]"));return c;case"number":case"string":case"boolean":return r}}(t,"$")))}var e,n}var V=new(function(){function t(){this.globalLog=function(t){window.console&&window.console.log&&window.console.log(t)}}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLog,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLogWarn,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.log(this.globalLogError,t)},t.prototype.globalLogWarn=function(t){window.console&&window.console.warn?window.console.warn(t):this.globalLog(t)},t.prototype.globalLogError=function(t){window.console&&window.console.error?window.console.error(t):this.globalLogWarn(t)},t.prototype.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=P.apply(this,arguments);if(qe.log)qe.log(r);else if(qe.logToConsole){var i=t.bind(this);i(r)}},t}()),B={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},H=function(t){var e,n=B.urls[t];return n?(n.fullUrl?e=n.fullUrl:n.path&&(e=B.baseUrl+n.path),e?"See: "+e:""):""},G=function(t,e,n){var r,i=this;for(var o in(r=Oe.createXHR()).open("POST",i.options.authEndpoint,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)r.setRequestHeader(o,this.authOptions.headers[o]);return r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var t,e=!1;try{t=JSON.parse(r.responseText),e=!0}catch(t){n(!0,"JSON returned from auth endpoint was invalid, yet status code was 200. Data was: "+r.responseText)}e&&n(!1,t)}else{var o=H("authenticationEndpoint");V.error("Unable to retrieve auth string from auth endpoint - received status "+r.status+" from "+i.options.authEndpoint+". Clients must be authenticated to join private or presence channels. "+o),n(!0,r.status)}},r.send(this.composeQuery(e)),r},z=function(t,e,n){void 0!==this.authOptions.headers&&V.warn("To send headers with the auth request, you must use AJAX, rather than JSONP.");var r=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var i=t.getDocument(),o=i.createElement("script");t.auth_callbacks[r]=function(t){n(!1,t)};var a="Pusher.auth_callbacks['"+r+"']";o.src=this.options.authEndpoint+"?callback="+encodeURIComponent(a)+"&"+this.composeQuery(e);var s=i.getElementsByTagName("head")[0]||i.documentElement;s.insertBefore(o,s.firstChild)},q=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var r=document.getElementsByTagName("head")[0];r.insertBefore(e.script,r.firstChild),e.errorScript&&r.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}(),K=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=U(this.data),n=this.url+"/"+t.number+"?"+e;this.request=Oe.createScriptRequest(n),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}(),W={name:"jsonp",getAgent:function(t,e){return function(n,r){var o="http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,a=Oe.createJSONPRequest(o,n),s=Oe.ScriptReceivers.create((function(e,n){i.remove(s),a.cleanup(),n&&n.host&&(t.host=n.host),r&&r(e,n)}));a.send(s)}}};function J(t,e,n){return t+(e.useTLS?"s":"")+"://"+(e.useTLS?e.hostTLS:e.hostNonTLS)+n}function X(t,e){return"/app/"+t+"?protocol="+o.PROTOCOL+"&client=js&version="+o.VERSION+(e?"&"+e:"")}var Y={getInitial:function(t,e){return J("ws",e,(e.httpPath||"")+X(t,"flash=false"))}},$={getInitial:function(t,e){return J("http",e,(e.httpPath||"/pusher")+X(t))}},Z={getInitial:function(t,e){return J("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return X(t)}},Q=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[tt(t)]},t.prototype.add=function(t,e,n){var r=tt(t);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:e,context:n})},t.prototype.remove=function(t,e,n){if(t||e||n){var r=t?[tt(t)]:O(this._callbacks);e||n?this.removeCallback(r,e,n):this.removeAllCallbacks(r)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,n){N(t,(function(t){this._callbacks[t]=x(this._callbacks[t]||[],(function(t){return e&&e!==t.fn||n&&n!==t.context})),0===this._callbacks[t].length&&delete this._callbacks[t]}),this)},t.prototype.removeAllCallbacks=function(t){N(t,(function(t){delete this._callbacks[t]}),this)},t}();function tt(t){return"_"+t}var et,nt=function(){function t(t){this.callbacks=new Q,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},t.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},t.prototype.unbind_global=function(t){return t?(this.global_callbacks=x(this.global_callbacks||[],(function(e){return e!==t})),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(t,e,n){for(var r=0;r<this.global_callbacks.length;r++)this.global_callbacks[r](t,e);var i=this.callbacks.get(t),o=[];if(n?o.push(e,n):e&&o.push(e),i&&i.length>0)for(r=0;r<i.length;r++)i[r].fn.apply(i[r].context||window,o);else this.failThrough&&this.failThrough(t,e);return this},t}(),rt=(et=function(t,e){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}et(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),it=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a.initialize=Oe.transportConnectionInitializer,a.hooks=e,a.name=n,a.priority=r,a.key=i,a.options=o,a.state="new",a.timeline=o.timeline,a.activityTimeout=o.activityTimeout,a.id=a.timeline.generateUniqueID(),a}return rt(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return k.defer((function(){t.onError(e),t.changeState("closed")})),!1}return this.bindListeners(),V.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(k.defer((function(){e.socket&&e.socket.send(t)})),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return I({cid:this.id},t)},e}(nt),ot=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,n,r){return new it(this.hooks,t,e,n,r)},t}(),at=new ot({urls:Y,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(Oe.getWebSocketAPI())},isSupported:function(){return Boolean(Oe.getWebSocketAPI())},getSocket:function(t){return Oe.createWebSocket(t)}}),st={urls:$,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},ct=I({getSocket:function(t){return Oe.HTTPFactory.createStreamingSocket(t)}},st),ut=I({getSocket:function(t){return Oe.HTTPFactory.createPollingSocket(t)}},st),ht={isSupported:function(){return Oe.isXHRSupported()}},ft={ws:at,xhr_streaming:new ot(I({},ct,ht)),xhr_polling:new ot(I({},ut,ht))},lt=new ot({file:"sockjs",urls:Z,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:u.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),pt={isSupported:function(t){return Oe.isXDRSupported(t.useTLS)}},dt=new ot(I({},ct,pt)),vt=new ot(I({},ut,pt));ft.xdr_streaming=dt,ft.xdr_polling=vt,ft.sockjs=lt;var mt,yt,gt,bt,wt,St,Tt,_t,Ct=ft,Et=(mt=function(t,e){return(mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}mt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kt=new(function(t){function e(){var e=t.call(this)||this,n=e;return void 0!==window.addEventListener&&(window.addEventListener("online",(function(){n.emit("online")}),!1),window.addEventListener("offline",(function(){n.emit("offline")}),!1)),e}return Et(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(nt)),It=function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,n,r){var i=this;r=I({},r,{activityTimeout:this.pingDelay});var o=this.transport.createConnection(t,e,n,r),a=null,s=function t(e){if(o.unbind("closed",t),1002===e.code||1003===e.code)i.manager.reportDeath();else if(!e.wasClean&&a){var n=k.now()-a;n<2*i.maxPingDelay&&(i.manager.reportDeath(),i.pingDelay=Math.max(n/2,i.minPingDelay))}};return o.bind("open",(function t(){o.unbind("open",t),o.bind("closed",s),a=k.now()})),o},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}(),Pt={decodeMessage:function(t){try{var e=JSON.parse(t.data),n=e.data;if("string"==typeof n)try{n=JSON.parse(e.data)}catch(t){}var r={event:e.event,channel:e.channel,data:n};return e.user_id&&(r.user_id=e.user_id),r}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},encodeMessage:function(t){return JSON.stringify(t)},processHandshake:function(t){var e=Pt.decodeMessage(t);if("pusher:connection_established"===e.event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},getCloseAction:function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},getCloseError:function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},Rt=Pt,At=(yt=function(t,e){return(yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}yt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ot=function(t){function e(e,n){var r=t.call(this)||this;return r.id=e,r.transport=n,r.activityTimeout=n.activityTimeout,r.bindListeners(),r}return At(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,n){var r={event:t,data:e};return n&&(r.channel=n),V.debug("Event sent",r),this.send(Rt.encodeMessage(r))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=Rt.decodeMessage(e)}catch(n){t.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==n){switch(V.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){A(e,(function(e,n){t.transport.unbind(n,e)}))};A(e,(function(e,n){t.transport.bind(n,e)}))},e.prototype.handleCloseEvent=function(t){var e=Rt.getCloseAction(t),n=Rt.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e,{action:e,error:n})},e}(nt),Nt=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var n;t.unbindListeners();try{n=Rt.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===n.action?t.finish("connected",{connection:new Ot(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var n=Rt.getCloseAction(e)||"backoff",r=Rt.getCloseError(e);t.finish(n,{error:r})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(I({transport:this.transport,action:t},e))},t}(),Dt=function(){function t(t,e){this.channel=t;var n=e.authTransport;if(void 0===Oe.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=e,this.authOptions=e.auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},t.prototype.authorize=function(e,n){t.authorizers=t.authorizers||Oe.getAuthorizers(),t.authorizers[this.type].call(this,Oe,e,n)},t}(),xt=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(Oe.TimelineTransport.getAgent(this,t),e)},t}(),Lt=(gt=function(t,e){return(gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}gt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mt=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Lt(e,t),e}(Error),jt=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Lt(e,t),e}(Error),Ut=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Lt(e,t),e}(Error),Ft=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Lt(e,t),e}(Error),Vt=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Lt(e,t),e}(Error),Bt=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Lt(e,t),e}(Error),Ht=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return Object.setPrototypeOf(r,n.prototype),r}return Lt(e,t),e}(Error),Gt=(bt=function(t,e){return(bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}bt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zt=function(t){function e(e,n){var r=t.call(this,(function(t,n){V.debug("No callbacks on "+e+" for "+t)}))||this;return r.name=e,r.pusher=n,r.subscribed=!1,r.subscriptionPending=!1,r.subscriptionCancelled=!1,r}return Gt(e,t),e.prototype.authorize=function(t,e){return e(!1,{auth:""})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new Mt("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var n=H("triggeringClientEvents");V.warn("Client event triggered before channel 'subscription_succeeded' event . "+n)}return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(t){var e=t.event,n=t.data;"pusher_internal:subscription_succeeded"===e?this.handleSubscriptionSucceededEvent(t):0!==e.indexOf("pusher_internal:")&&this.emit(e,n,{})},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(function(e,n){e?(V.error(n),t.emit("pusher:subscription_error",n)):(n=n,t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name}))})))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(nt),qt=(wt=function(t,e){return(wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qt(e,t),e.prototype.authorize=function(t,e){return re.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(zt),Wt=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;A(this.members,(function(n,r){t(e.get(r))}))},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}(),Jt=(St=function(t,e){return(St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}St(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.members=new Wt,r}return Jt(e,t),e.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,(function(t,e){if(!t){if(void 0===(e=e).channel_data){var i=H("authenticationEndpoint");return V.error("Invalid auth response for channel '"+r.name+"',expected 'channel_data' field. "+i),void n("Invalid auth response")}var o=JSON.parse(e.channel_data);r.members.setMyID(o.user_id)}n(t,e)}))},e.prototype.handleEvent=function(t){var e=t.event;if(0===e.indexOf("pusher_internal:"))this.handleInternalEvent(t);else{var n=t.data,r={};t.user_id&&(r.user_id=t.user_id),this.emit(e,n,r)}},e.prototype.handleInternalEvent=function(t){var e=t.event,n=t.data;switch(e){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:member_added":var r=this.members.addMember(n);this.emit("pusher:member_added",r);break;case"pusher_internal:member_removed":var i=this.members.removeMember(n);i&&this.emit("pusher:member_removed",i)}},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t.data),this.emit("pusher:subscription_succeeded",this.members))},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(Kt),Yt=n(1),$t=n(0),Zt=(Tt=function(t,e){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qt=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.key=null,i.nacl=r,i}return Zt(e,t),e.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,(function(t,e){if(t)n(!0,e);else{var i=e.shared_secret;if(i)r.key=Object($t.decode)(i),delete e.shared_secret,n(!1,e);else{var o="No shared_secret key in auth payload for encrypted channel: "+r.name;n(!0,o)}}}))},e.prototype.trigger=function(t,e){throw new Vt("Client events are not currently supported for encrypted channels")},e.prototype.handleEvent=function(e){var n=e.event,r=e.data;0!==n.indexOf("pusher_internal:")&&0!==n.indexOf("pusher:")?this.handleEncryptedEvent(n,r):t.prototype.handleEvent.call(this,e)},e.prototype.handleEncryptedEvent=function(t,e){var n=this;if(this.key)if(e.ciphertext&&e.nonce){var r=Object($t.decode)(e.ciphertext);if(r.length<this.nacl.secretbox.overheadLength)V.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+r.length);else{var i=Object($t.decode)(e.nonce);if(i.length<this.nacl.secretbox.nonceLength)V.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+i.length);else{var o=this.nacl.secretbox.open(r,i,this.key);if(null===o)return V.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,(function(e,a){e?V.error("Failed to make a request to the authEndpoint: "+a+". Unable to fetch new key, so dropping encrypted event"):null!==(o=n.nacl.secretbox.open(r,i,n.key))?n.emitJSON(t,Object(Yt.decode)(o)):V.error("Failed to decrypt event with new key. Dropping encrypted event")}));this.emitJSON(t,Object(Yt.decode)(o))}}}else V.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+e);else V.debug("Received encrypted event before key has been retrieved from the authEndpoint")},e.prototype.emitJSON=function(t,e){try{this.emit(t,JSON.parse(e))}catch(n){this.emit(t,e)}return this},e}(Kt),te=(_t=function(t,e){return(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_t(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ee=function(t){function e(e,n){var r=t.call(this)||this;r.state="initialized",r.connection=null,r.key=e,r.options=n,r.timeline=r.options.timeline,r.usingTLS=r.options.useTLS,r.errorCallbacks=r.buildErrorCallbacks(),r.connectionCallbacks=r.buildConnectionCallbacks(r.errorCallbacks),r.handshakeCallbacks=r.buildHandshakeCallbacks(r.errorCallbacks);var i=Oe.getNetwork();return i.bind("online",(function(){r.timeline.info({netinfo:"online"}),"connecting"!==r.state&&"unavailable"!==r.state||r.retryIn(0)})),i.bind("offline",(function(){r.timeline.info({netinfo:"offline"}),r.connection&&r.sendActivityCheck()})),r.updateStrategy(),r}return te(e,t),e.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isUsingTLS=function(){return this.usingTLS},e.prototype.startConnecting=function(){var t=this;this.runner=this.strategy.connect(0,(function e(n,r){n?t.runner=t.strategy.connect(0,e):"error"===r.action?(t.emit("error",{type:"HandshakeError",error:r.error}),t.timeline.error({handshakeError:r.error})):(t.abortConnecting(),t.handshakeCallbacks[r.action](r))}))},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new C(t||0,(function(){e.disconnectInternally(),e.connect()}))},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new C(this.options.unavailableTimeout,(function(){t.updateState("unavailable")}))},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new C(this.options.pongTimeout,(function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)}))},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new C(this.activityTimeout,(function(){t.sendActivityCheck()})))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(t){var e=this;return I({},t,{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}})},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return I({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}};return{tls_only:e((function(){t.usingTLS=!0,t.updateStrategy(),t.retryIn(0)})),refused:e((function(){t.disconnect()})),backoff:e((function(){t.retryIn(1e3)})),retry:e((function(){t.retryIn(0)}))}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var n=this.state;if(this.state=t,n!==t){var r=t;"connected"===r&&(r+=" with new socket ID "+e.socket_id),V.debug("State changed",n+" -> "+r),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(nt),ne=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){if(0===t.indexOf("private-encrypted-")){if(e.config.nacl)return re.createEncryptedChannel(t,e,e.config.nacl);var n=H("encryptedChannelSupport");throw new Vt("Tried to subscribe to a private-encrypted- channel but no nacl implementation available. "+n)}return 0===t.indexOf("private-")?re.createPrivateChannel(t,e):0===t.indexOf("presence-")?re.createPresenceChannel(t,e):re.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return function(t){var e=[];return A(t,(function(t){e.push(t)})),e}(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){A(this.channels,(function(t){t.disconnect()}))},t}(),re={createChannels:function(){return new ne},createConnectionManager:function(t,e){return new ee(t,e)},createChannel:function(t,e){return new zt(t,e)},createPrivateChannel:function(t,e){return new Kt(t,e)},createPresenceChannel:function(t,e){return new Xt(t,e)},createEncryptedChannel:function(t,e,n){return new Qt(t,e,n)},createTimelineSender:function(t,e){return new xt(t,e)},createAuthorizer:function(t,e){return e.authorizer?e.authorizer(t,e):new Dt(t,e)},createHandshake:function(t,e){return new Nt(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new It(t,e,n)}},ie=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return re.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}(),oe=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return M(this.strategies,k.method("isSupported"))},t.prototype.connect=function(t,e){var n=this,r=this.strategies,i=0,o=this.timeout,a=null;return a=this.tryStrategy(r[i],t,{timeout:o,failFast:this.failFast},(function s(c,u){u?e(null,u):(i+=1,n.loop&&(i%=r.length),i<r.length?(o&&(o*=2,n.timeoutLimit&&(o=Math.min(o,n.timeoutLimit))),a=n.tryStrategy(r[i],t,{timeout:o,failFast:n.failFast},s)):e(!0))})),{abort:function(){a.abort()},forceMinPriority:function(e){t=e,a&&a.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,n,r){var i=null,o=null;return n.timeout>0&&(i=new C(n.timeout,(function(){o.abort(),r(!0)}))),o=t.connect(e,(function(t,e){t&&i&&i.isRunning()&&!n.failFast||(i&&i.ensureAborted(),r(t,e))})),{abort:function(){i&&i.ensureAborted(),o.abort()},forceMinPriority:function(t){o.forceMinPriority(t)}}},t}(),ae=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return M(this.strategies,k.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,e,n){var r=D(t,(function(t,r,i,o){return t.connect(e,n(r,o))}));return{abort:function(){N(r,se)},forceMinPriority:function(t){N(r,(function(e){e.forceMinPriority(t)}))}}}(this.strategies,t,(function(t,n){return function(r,i){n[t].error=r,r?function(t){return function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}(t,(function(t){return Boolean(t.error)}))}(n)&&e(!0):(N(n,(function(t){t.forceMinPriority(i.transport.priority)})),e(null,i))}}))},t}();function se(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var ce=function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.usingTLS,r=function(t){var e=Oe.getLocalStorage();if(e)try{var n=e[ue(t)];if(n)return JSON.parse(n)}catch(e){he(t)}return null}(n),i=[this.strategy];if(r&&r.timestamp+this.ttl>=k.now()){var o=this.transports[r.transport];o&&(this.timeline.info({cached:!0,transport:r.transport,latency:r.latency}),i.push(new oe([o],{timeout:2*r.latency+1e3,failFast:!0})))}var a=k.now(),s=i.pop().connect(t,(function r(o,c){o?(he(n),i.length>0?(a=k.now(),s=i.pop().connect(t,r)):e(o)):(function(t,e,n){var r=Oe.getLocalStorage();if(r)try{r[ue(t)]=F({timestamp:k.now(),transport:e,latency:n})}catch(t){}}(n,c.transport.name,k.now()-a),e(null,c))}));return{abort:function(){s.abort()},forceMinPriority:function(e){t=e,s&&s.forceMinPriority(e)}}},t}();function ue(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function he(t){var e=Oe.getLocalStorage();if(e)try{delete e[ue(t)]}catch(t){}}var fe=function(){function t(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n,r=this.strategy,i=new C(this.options.delay,(function(){n=r.connect(t,e)}));return{abort:function(){i.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},t}(),le=function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}(),pe=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.strategy.connect(t,(function(t,r){r&&n.abort(),e(t,r)}));return n},t}();function de(t){return function(){return t.isSupported()}}var ve,me,ye=function(t,e,n){var r={};function i(e,i,o,a,s){var c=n(t,e,i,o,a,s);return r[e]=c,c}var o,a=Object.assign({},e,{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}),s=Object.assign({},a,{useTLS:!0}),c=Object.assign({},e,{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}),u={loop:!0,timeout:15e3,timeoutLimit:6e4},h=new ie({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),f=new ie({lives:2,minPingDelay:1e4,maxPingDelay:t.activityTimeout}),l=i("ws","ws",3,a,h),p=i("wss","ws",3,s,h),d=i("sockjs","sockjs",1,c),v=i("xhr_streaming","xhr_streaming",1,c,f),m=i("xdr_streaming","xdr_streaming",1,c,f),y=i("xhr_polling","xhr_polling",1,c),g=i("xdr_polling","xdr_polling",1,c),b=new oe([l],u),w=new oe([p],u),S=new oe([d],u),T=new oe([new le(de(v),v,m)],u),_=new oe([new le(de(y),y,g)],u),C=new oe([new le(de(T),new ae([T,new fe(_,{delay:4e3})]),_)],u),E=new le(de(C),C,S);return o=e.useTLS?new ae([b,new fe(E,{delay:2e3})]):new ae([b,new fe(w,{delay:2e3}),new fe(E,{delay:5e3})]),new ce(new pe(new le(de(l),o,E)),r,{ttl:18e5,timeline:e.timeline,useTLS:e.useTLS})},ge={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new jt),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}},be=(ve=function(t,e){return(ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ve(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),we=function(t){function e(e,n,r){var i=t.call(this)||this;return i.hooks=e,i.method=n,i.url=r,i}return be(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},Oe.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(Oe.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return-1!==n?(this.position+=n+1,e.slice(0,n)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(nt);!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(me||(me={}));var Se=me,Te=1;function _e(t){var e=-1===t.indexOf("?")?"?":"&";return t+e+"t="+ +new Date+"&n="+Te++}function Ce(t){return Math.floor(Math.random()*t)}var Ee,ke=function(){function t(t,e){this.hooks=t,this.session=Ce(1e3)+"/"+function(t){for(var e=[],n=0;n<t;n++)e.push(Ce(32).toString(32));return e.join("")}(8),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=Se.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==Se.OPEN)return!1;try{return Oe.createSocketRequest("POST",_e((e=this.location,n=this.session,e.base+"/"+n+"/xhr_send"))).start(t),!0}catch(t){return!1}var e,n},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,n){this.closeStream(),this.readyState=Se.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===Se.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var n=0;n<e.length;n++)this.onEvent(e[n]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){var e,n,r;this.readyState===Se.CONNECTING?(t&&t.hostname&&(this.location.base=(e=this.location.base,n=t.hostname,(r=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e))[1]+n+r[3])),this.readyState=Se.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===Se.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=Oe.createSocketRequest("POST",_e(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",(function(e){t.onChunk(e)})),this.stream.bind("finished",(function(e){t.hooks.onFinished(t,e)})),this.stream.bind("buffer_too_long",(function(){t.reconnect()}));try{this.stream.start()}catch(e){k.defer((function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)}))}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}(),Ie={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}},Pe={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}},Re={getRequest:function(t){var e=new(Oe.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}},Ae={createStreamingSocket:function(t){return this.createSocket(Ie,t)},createPollingSocket:function(t){return this.createSocket(Pe,t)},createSocket:function(t,e){return new ke(t,e)},createXHR:function(t,e){return this.createRequest(Re,t,e)},createRequest:function(t,e,n){return new we(t,e,n)},createXDR:function(t,e){return this.createRequest(ge,t,e)}},Oe={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:i,DependenciesReceivers:c,getDefaultStrategy:ye,Transports:Ct,transportConnectionInitializer:function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),u.load(t.hooks.file,{useTLS:t.options.useTLS},(function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))}))):t.onClose()},HTTPFactory:Ae,TimelineTransport:W,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():u.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:G,jsonp:z}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout((function(){e.onDocumentBody(t)}),0)},createJSONPRequest:function(t,e){return new K(t,e)},createScriptRequest:function(t){return new q(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return kt},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(Ee||(Ee={}));var Ne=Ee,De=function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(I({},e,{timestamp:k.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(Ne.ERROR,t)},t.prototype.info=function(t){this.log(Ne.INFO,t)},t.prototype.debug=function(t){this.log(Ne.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var n=this,r=I({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(r,(function(t,r){t||n.sent++,e&&e(t,r)})),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}(),xe=function(){function t(t,e,n,r){this.name=t,this.priority=e,this.transport=n,this.options=r||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},t.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return Le(new Ht,e);if(this.priority<t)return Le(new Ut,e);var r=!1,i=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),o=null,a=function t(){i.unbind("initialized",t),i.connect()},s=function(){o=re.createHandshake(i,(function(t){r=!0,h(),e(null,t)}))},c=function(t){h(),e(t)},u=function(){var t;h(),t=F(i),e(new Ft(t))},h=function(){i.unbind("initialized",a),i.unbind("open",s),i.unbind("error",c),i.unbind("closed",u)};return i.bind("initialized",a),i.bind("open",s),i.bind("error",c),i.bind("closed",u),i.initialize(),{abort:function(){r||(h(),o?o.close():i.close())},forceMinPriority:function(t){r||n.priority<t&&(o?o.close():i.close())}}},t}();function Le(t,e){return k.defer((function(){e(t)})),{abort:function(){},forceMinPriority:function(){}}}var Me=Oe.Transports,je=function(t,e,n,r,i,o){var a,s=Me[n];if(!s)throw new Bt(n);return t.enabledTransports&&-1===R(t.enabledTransports,e)||t.disabledTransports&&-1!==R(t.disabledTransports,e)?a=Ue:(i=Object.assign({ignoreNullOrigin:t.ignoreNullOrigin},i),a=new xe(e,r,o?o.getAssistant(s):s,i)),a},Ue={isSupported:function(){return!1},connect:function(t,e){var n=k.defer((function(){e(new Ht)}));return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function Fe(t){return t.httpHost?t.httpHost:t.cluster?"sockjs-"+t.cluster+".pusher.com":o.httpHost}function Ve(t){return t.wsHost?t.wsHost:t.cluster?Be(t.cluster):Be(o.cluster)}function Be(t){return"ws-"+t+".pusher.com"}function He(t){return"https:"===Oe.getProtocol()||!1!==t.forceTLS}function Ge(t){return"enableStats"in t?t.enableStats:"disableStats"in t&&!t.disableStats}var ze=function(){function t(e,n){var r,i,a=this;if(function(t){if(null==t)throw"You must pass your app key when you instantiate Pusher."}(e),!(n=n||{}).cluster&&!n.wsHost&&!n.httpHost){var s=H("javascriptQuickStart");V.warn("You should always specify a cluster when connecting. "+s)}"disableStats"in n&&V.warn("The disableStats option is deprecated in favor of enableStats"),this.key=e,this.config=(i={activityTimeout:(r=n).activityTimeout||o.activityTimeout,authEndpoint:r.authEndpoint||o.authEndpoint,authTransport:r.authTransport||o.authTransport,cluster:r.cluster||o.cluster,httpPath:r.httpPath||o.httpPath,httpPort:r.httpPort||o.httpPort,httpsPort:r.httpsPort||o.httpsPort,pongTimeout:r.pongTimeout||o.pongTimeout,statsHost:r.statsHost||o.stats_host,unavailableTimeout:r.unavailableTimeout||o.unavailableTimeout,wsPath:r.wsPath||o.wsPath,wsPort:r.wsPort||o.wsPort,wssPort:r.wssPort||o.wssPort,enableStats:Ge(r),httpHost:Fe(r),useTLS:He(r),wsHost:Ve(r)},"auth"in r&&(i.auth=r.auth),"authorizer"in r&&(i.authorizer=r.authorizer),"disabledTransports"in r&&(i.disabledTransports=r.disabledTransports),"enabledTransports"in r&&(i.enabledTransports=r.enabledTransports),"ignoreNullOrigin"in r&&(i.ignoreNullOrigin=r.ignoreNullOrigin),"timelineParams"in r&&(i.timelineParams=r.timelineParams),"nacl"in r&&(i.nacl=r.nacl),i),this.channels=re.createChannels(),this.global_emitter=new nt,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new De(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Ne.INFO,version:o.VERSION}),this.config.enableStats&&(this.timelineSender=re.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Oe.TimelineTransport.name})),this.connection=re.createConnectionManager(this.key,{getStrategy:function(t){return Oe.getDefaultStrategy(a.config,t,je)},timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",(function(){a.subscribeAll(),a.timelineSender&&a.timelineSender.send(a.connection.isUsingTLS())})),this.connection.bind("message",(function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=a.channel(t.channel);n&&n.handleEvent(t)}e||a.global_emitter.emit(t.event,t.data)})),this.connection.bind("connecting",(function(){a.channels.disconnect()})),this.connection.bind("disconnected",(function(){a.channels.disconnect()})),this.connection.bind("error",(function(t){V.warn(t)})),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.getClientFeatures=function(){return O(L({ws:Oe.Transports.ws},(function(t){return t.isSupported({})})))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),e=this.timelineSender;this.timelineSenderTimer=new E(6e4,(function(){e.send(t)}))}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e,n){return this.global_emitter.bind(t,e,n),this},t.prototype.unbind=function(t,e,n){return this.global_emitter.unbind(t,e,n),this},t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},t.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&"connected"===this.connection.state&&e.unsubscribe()},t.prototype.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},t.prototype.shouldUseTLS=function(){return this.config.useTLS},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=Oe,t.ScriptReceivers=Oe.ScriptReceivers,t.DependenciesReceivers=Oe.DependenciesReceivers,t.auth_callbacks=Oe.auth_callbacks,t}(),qe=ze;Oe.setup(ze);var Ke,We=n(2),Je=(Ke=function(t,e){return(Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ke(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xe=function(t){function e(n,r){return qe.logToConsole=e.logToConsole,qe.log=e.log,(r=r||{}).nacl=We,t.call(this,n,r)||this}return Je(e,t),e}(qe);e.default=Xe}])},"object"===a(e)&&"object"===a(t)?t.exports=o():(r=[],void 0===(i="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=i))}).call(this,n(5)(t))},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"shimGetUserMedia",(function(){return R})),n.d(r,"shimGetDisplayMedia",(function(){return A})),n.d(r,"shimMediaStream",(function(){return D})),n.d(r,"shimOnTrack",(function(){return x})),n.d(r,"shimGetSendersWithDtmf",(function(){return L})),n.d(r,"shimGetStats",(function(){return M})),n.d(r,"shimSenderReceiverGetStats",(function(){return j})),n.d(r,"shimAddTrackRemoveTrackWithNative",(function(){return U})),n.d(r,"shimAddTrackRemoveTrack",(function(){return F})),n.d(r,"shimPeerConnection",(function(){return V})),n.d(r,"fixNegotiationNeeded",(function(){return B}));var i={};n.r(i),n.d(i,"shimGetUserMedia",(function(){return z})),n.d(i,"shimGetDisplayMedia",(function(){return q})),n.d(i,"shimPeerConnection",(function(){return K})),n.d(i,"shimReplaceTrack",(function(){return W}));var o={};n.r(o),n.d(o,"shimGetUserMedia",(function(){return X})),n.d(o,"shimGetDisplayMedia",(function(){return Y})),n.d(o,"shimOnTrack",(function(){return Z})),n.d(o,"shimPeerConnection",(function(){return Q})),n.d(o,"shimSenderGetStats",(function(){return tt})),n.d(o,"shimReceiverGetStats",(function(){return et})),n.d(o,"shimRemoveStream",(function(){return nt})),n.d(o,"shimRTCDataChannel",(function(){return rt})),n.d(o,"shimAddTransceiver",(function(){return it})),n.d(o,"shimCreateOffer",(function(){return ot})),n.d(o,"shimCreateAnswer",(function(){return at}));var a={};n.r(a),n.d(a,"shimLocalStreamsAPI",(function(){return ct})),n.d(a,"shimRemoteStreamsAPI",(function(){return ut})),n.d(a,"shimCallbacksAPI",(function(){return ht})),n.d(a,"shimGetUserMedia",(function(){return ft})),n.d(a,"shimConstraints",(function(){return lt})),n.d(a,"shimRTCIceServerUrls",(function(){return pt})),n.d(a,"shimTrackEventTransceiver",(function(){return dt})),n.d(a,"shimCreateOfferLegacy",(function(){return vt})),n.d(a,"shimAudioContext",(function(){return mt}));var s={};n.r(s),n.d(s,"shimRTCIceCandidate",(function(){return wt})),n.d(s,"shimMaxMessageSize",(function(){return St})),n.d(s,"shimSendThrowTypeError",(function(){return Tt})),n.d(s,"shimConnectionState",(function(){return _t})),n.d(s,"removeAllowExtmapMixed",(function(){return Ct}));var c=n(6),u=(n(11),n(7)),h=n.n(u);function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common",n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:"client-");f(this,t),this.pusher=void 0,this.channel=void 0,this.onmessage=void 0,this.pusher=new h.a("9627d07a9c6ddb39f270",{cluster:"us2",encrypted:!0,authEndpoint:"pusher/auth"}),this.channel=this.pusher.subscribe(n+e),this.pusher.bind_global((function(t,e){this.onmessage&&this.onmessage(e)}))}var e,n,r;return e=t,(n=[{key:"send",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"common";return this.channel.trigger(e,JSON.parse(t))}}])&&l(e.prototype,n),r&&l(e,r),t}();function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var v=!0,m=!0;function y(t,e,n){var r=t.match(e);return r&&r.length>=n&&parseInt(r[n],10)}function g(t,e,n){if(t.RTCPeerConnection){var r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(t,r){if(t!==e)return i.apply(this,arguments);var o=function(t){var e=n(t);e&&r(e)};return this._eventMap=this._eventMap||{},this._eventMap[r]=o,i.apply(this,[t,o])};var o=r.removeEventListener;r.removeEventListener=function(t,n){if(t!==e||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[t,r])},Object.defineProperty(r,"on"+e,{get:function(){return this["_on"+e]},set:function(t){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),t&&this.addEventListener(e,this["_on"+e]=t)},enumerable:!0,configurable:!0})}}function b(t){return"boolean"!=typeof t?new Error("Argument type: "+d(t)+". Please use a boolean."):(v=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function w(t){return"boolean"!=typeof t?new Error("Argument type: "+d(t)+". Please use a boolean."):(m=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function S(){if("object"===("undefined"==typeof window?"undefined":d(window))){if(v)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function T(t,e){m&&console.warn(t+" is deprecated, please use "+e+" instead.")}function _(t){var e=t.navigator,n={browser:null,version:null};if(void 0===t||!t.navigator)return n.browser="Not a browser.",n;if(e.mozGetUserMedia)n.browser="firefox",n.version=y(e.userAgent,/Firefox\/(\d+)\./,1);else if(e.webkitGetUserMedia||!1===t.isSecureContext&&t.webkitRTCPeerConnection&&!t.RTCIceGatherer)n.browser="chrome",n.version=y(e.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.mediaDevices&&e.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=y(e.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!t.RTCPeerConnection||!e.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=y(e.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype}return n}function C(t){return"[object Object]"===Object.prototype.toString.call(t)}function E(t){return C(t)?Object.keys(t).reduce((function(e,n){var r=C(t[n]),i=r?E(t[n]):t[n],o=r&&!Object.keys(i).length;return void 0===i||o?e:Object.assign(e,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,i))}),{}):t}function k(t,e,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===e)return i;var o=[];return t.forEach((function(t){"track"===t.type&&t.trackIdentifier===e.id&&o.push(t)})),o.forEach((function(e){t.forEach((function(n){n.type===r&&n.trackId===e.id&&function t(e,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach((function(i){i.endsWith("Id")?t(e,e.get(n[i]),r):i.endsWith("Ids")&&n[i].forEach((function(n){t(e,e.get(n),r)}))})))}(t,n,i)}))})),i}function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var P=S;function R(t){var e=t&&t.navigator;if(e.mediaDevices){var n=_(t),r=function(t){if("object"!==I(t)||t.mandatory||t.optional)return t;var e={};return Object.keys(t).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===I(t[n])?t[n]:{ideal:t[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(t,e){return t?t+e.charAt(0).toUpperCase()+e.slice(1):"deviceId"===e?"sourceId":e};if(void 0!==r.ideal){e.optional=e.optional||[];var o={};"number"==typeof r.ideal?(o[i("min",n)]=r.ideal,e.optional.push(o),(o={})[i("max",n)]=r.ideal,e.optional.push(o)):(o[i("",n)]=r.ideal,e.optional.push(o))}void 0!==r.exact&&"number"!=typeof r.exact?(e.mandatory=e.mandatory||{},e.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(t){void 0!==r[t]&&(e.mandatory=e.mandatory||{},e.mandatory[i(t,n)]=r[t])}))}})),t.advanced&&(e.optional=(e.optional||[]).concat(t.advanced)),e},i=function(t,i){if(n.version>=61)return i(t);if((t=JSON.parse(JSON.stringify(t)))&&"object"===I(t.audio)){var o=function(t,e,n){e in t&&!(n in t)&&(t[n]=t[e],delete t[e])};o((t=JSON.parse(JSON.stringify(t))).audio,"autoGainControl","googAutoGainControl"),o(t.audio,"noiseSuppression","googNoiseSuppression"),t.audio=r(t.audio)}if(t&&"object"===I(t.video)){var a=t.video.facingMode;a=a&&("object"===I(a)?a:{ideal:a});var s,c=n.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!e.mediaDevices.getSupportedConstraints||!e.mediaDevices.getSupportedConstraints().facingMode||c))if(delete t.video.facingMode,"environment"===a.exact||"environment"===a.ideal?s=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(s=["front"]),s)return e.mediaDevices.enumerateDevices().then((function(e){var n=(e=e.filter((function(t){return"videoinput"===t.kind}))).find((function(t){return s.some((function(e){return t.label.toLowerCase().includes(e)}))}));return!n&&e.length&&s.includes("back")&&(n=e[e.length-1]),n&&(t.video.deviceId=a.exact?{exact:n.deviceId}:{ideal:n.deviceId}),t.video=r(t.video),P("chrome: "+JSON.stringify(t)),i(t)}));t.video=r(t.video)}return P("chrome: "+JSON.stringify(t)),i(t)},o=function(t){return n.version>=64?t:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[t.name]||t.name,message:t.message,constraint:t.constraint||t.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(e.getUserMedia=function(t,n,r){i(t,(function(t){e.webkitGetUserMedia(t,n,(function(t){r&&r(o(t))}))}))}.bind(e),e.mediaDevices.getUserMedia){var a=e.mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(t){return i(t,(function(t){return a(t).then((function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((function(t){t.stop()})),new DOMException("","NotFoundError");return e}),(function(t){return Promise.reject(o(t))}))}))}}}}function A(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&("function"==typeof e?t.navigator.mediaDevices.getDisplayMedia=function(n){return e(n).then((function(e){var r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),t.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function x(t){if("object"===N(t)&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});var e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(e){e.stream.addEventListener("addtrack",(function(r){var i;i=t.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(t){return t.track&&t.track.id===r.track.id})):{track:r.track};var o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[e.stream],n.dispatchEvent(o)})),e.stream.getTracks().forEach((function(r){var i;i=t.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(t){return t.track&&t.track.id===r.id})):{track:r};var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[e.stream],n.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else g(t,"track",(function(t){return t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t}))}function L(t){if("object"===N(t)&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){var e=function(t,e){return{track:e,get dtmf(){return void 0===this._dtmf&&("audio"===e.kind?this._dtmf=t.createDTMFSender(e):this._dtmf=null),this._dtmf},_pc:t}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,r){var i=n.apply(this,arguments);return i||(i=e(this,t),this._senders.push(i)),i};var r=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){r.apply(this,arguments);var e=this._senders.indexOf(t);-1!==e&&this._senders.splice(e,1)}}var i=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){var n=this;this._senders=this._senders||[],i.apply(this,[t]),t.getTracks().forEach((function(t){n._senders.push(e(n,t))}))};var o=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){var e=this;this._senders=this._senders||[],o.apply(this,[t]),t.getTracks().forEach((function(t){var n=e._senders.find((function(e){return e.track===t}));n&&e._senders.splice(e._senders.indexOf(n),1)}))}}else if("object"===N(t)&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){var a=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){var t=this,e=a.apply(this,[]);return e.forEach((function(e){return e._pc=t})),e},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function M(t){if(t.RTCPeerConnection){var e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){var t=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],o=n[2];if(arguments.length>0&&"function"==typeof r)return e.apply(this,arguments);if(0===e.length&&(0===arguments.length||"function"!=typeof r))return e.apply(this,[]);var a=function(t){var e={};return t.result().forEach((function(t){var n={id:t.id,timestamp:t.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[t.type]||t.type};t.names().forEach((function(e){n[e]=t.stat(e)})),e[n.id]=n})),e},s=function(t){return new Map(Object.keys(t).map((function(e){return[e,t[e]]})))};if(arguments.length>=2){var c=function(t){i(s(a(t)))};return e.apply(this,[c,r])}return new Promise((function(n,r){e.apply(t,[function(t){n(s(a(t)))},r])})).then(i,o)}}}function j(t){if("object"===N(t)&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver){if(!("getStats"in t.RTCRtpSender.prototype)){var e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){var t=this,n=e.apply(this,[]);return n.forEach((function(e){return e._pc=t})),n});var n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){var t=n.apply(this,arguments);return t._pc=this,t}),t.RTCRtpSender.prototype.getStats=function(){var t=this;return this._pc.getStats().then((function(e){return k(e,t.track,!0)}))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){var r=t.RTCPeerConnection.prototype.getReceivers;r&&(t.RTCPeerConnection.prototype.getReceivers=function(){var t=this,e=r.apply(this,[]);return e.forEach((function(e){return e._pc=t})),e}),g(t,"track",(function(t){return t.receiver._pc=t.srcElement,t})),t.RTCRtpReceiver.prototype.getStats=function(){var t=this;return this._pc.getStats().then((function(e){return k(e,t.track,!1)}))}}if("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype){var i=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){var e,n,r,o=arguments[0];return this.getSenders().forEach((function(t){t.track===o&&(e?r=!0:e=t)})),this.getReceivers().forEach((function(t){return t.track===o&&(n?r=!0:n=t),t.track===o})),r||e&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}}function U(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(e){return t._shimmedLocalStreams[e][0]}))};var e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,n){if(!n)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=e.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){var e=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},t.getTracks().forEach((function(t){if(e.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError")}));var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter((function(t){return-1===r.indexOf(t)}));this._shimmedLocalStreams[t.id]=[t].concat(i)};var r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[t.id],r.apply(this,arguments)};var i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},t&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=e._shimmedLocalStreams[n].indexOf(t);-1!==r&&e._shimmedLocalStreams[n].splice(r,1),1===e._shimmedLocalStreams[n].length&&delete e._shimmedLocalStreams[n]})),i.apply(this,arguments)}}function F(t){if(t.RTCPeerConnection){var e=_(t);if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return U(t);var n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this,e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((function(e){return t._reverseStreams[e.id]}))};var r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(e){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},e.getTracks().forEach((function(t){if(n.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[e.id]){var i=new t.MediaStream(e.getTracks());this._streams[e.id]=i,this._reverseStreams[i.id]=e,e=i}r.apply(this,[e])};var i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[t.id]||t]),delete this._reverseStreams[this._streams[t.id]?this._streams[t.id].id:t.id],delete this._streams[t.id]},t.RTCPeerConnection.prototype.addTrack=function(e,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(t){return t===e})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var o=this.getSenders().find((function(t){return t.track===e}));if(o)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var a=this._streams[n.id];if(a)a.addTrack(e),Promise.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var s=new t.MediaStream([e]);this._streams[n.id]=s,this._reverseStreams[s.id]=n,this.addStream(s)}return this.getSenders().find((function(t){return t.track===e}))},["createOffer","createAnswer"].forEach((function(e){var n=t.RTCPeerConnection.prototype[e],r=O({},e,(function(){var t=this,e=arguments,r=arguments.length&&"function"==typeof arguments[0];return r?n.apply(this,[function(n){var r=s(t,n);e[0].apply(null,[r])},function(t){e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((function(e){return s(t,e)}))}));t.RTCPeerConnection.prototype[e]=r[e]}));var o=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=c(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};var a=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get:function(){var t=a.get.apply(this);return""===t.type?t:s(this,t)}}),t.RTCPeerConnection.prototype.removeTrack=function(t){var e,n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!t._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(t._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(r){n._streams[r].getTracks().find((function(e){return t.track===e}))&&(e=n._streams[r])})),e&&(1===e.getTracks().length?this.removeStream(this._reverseStreams[e.id]):e.removeTrack(t.track),this.dispatchEvent(new Event("negotiationneeded")))}}function s(t,e){var n=e.sdp;return Object.keys(t._reverseStreams||[]).forEach((function(e){var r=t._reverseStreams[e],i=t._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:e.type,sdp:n})}function c(t,e){var n=e.sdp;return Object.keys(t._reverseStreams||[]).forEach((function(e){var r=t._reverseStreams[e],i=t._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:e.type,sdp:n})}}function V(t){var e=_(t);if(!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection){var n=0===t.RTCPeerConnection.prototype.addIceCandidate.length;e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var n=t.RTCPeerConnection.prototype[e],r=O({},e,(function(){return arguments[0]=new("addIceCandidate"===e?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));t.RTCPeerConnection.prototype[e]=r[e]}));var r=t.RTCPeerConnection.prototype.addIceCandidate;t.RTCPeerConnection.prototype.addIceCandidate=function(){return n||arguments[0]?e.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}function B(t){g(t,"negotiationneeded",(function(t){if("stable"===t.target.signalingState)return t}))}var H=n(8),G=n.n(H);function z(t){var e=t&&t.navigator,n=e.mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(t){return n(t).catch((function(t){return Promise.reject(function(t){return{name:{PermissionDeniedError:"NotAllowedError"}[t.name]||t.name,message:t.message,constraint:t.constraint,toString:function(){return this.name}}}(t))}))}}function q(t){"getDisplayMedia"in t.navigator&&t.navigator.mediaDevices&&(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||(t.navigator.mediaDevices.getDisplayMedia=t.navigator.getDisplayMedia.bind(t.navigator)))}function K(t){var e=_(t);if(t.RTCIceGatherer&&(t.RTCIceCandidate||(t.RTCIceCandidate=function(t){return t}),t.RTCSessionDescription||(t.RTCSessionDescription=function(t){return t}),e.version<15025)){var n=Object.getOwnPropertyDescriptor(t.MediaStreamTrack.prototype,"enabled");Object.defineProperty(t.MediaStreamTrack.prototype,"enabled",{set:function(t){n.set.call(this,t);var e=new Event("enabled");e.enabled=t,this.dispatchEvent(e)}})}t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)&&Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new t.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),t.RTCDtmfSender&&!t.RTCDTMFSender&&(t.RTCDTMFSender=t.RTCDtmfSender);var r=G()(t,e.version);t.RTCPeerConnection=function(t){var n,i;return t&&t.iceServers&&(t.iceServers=(n=t.iceServers,e.version,i=!1,(n=JSON.parse(JSON.stringify(n))).filter((function(t){if(t&&(t.urls||t.url)){var e=t.urls||t.url;t.url&&!t.urls&&T("RTCIceServer.url","RTCIceServer.urls");var n="string"==typeof e;return n&&(e=[e]),e=e.filter((function(t){if(0===t.indexOf("stun:"))return!1;var e=t.startsWith("turn")&&!t.startsWith("turn:[")&&t.includes("transport=udp");return e&&!i?(i=!0,!0):e&&!i})),delete t.url,t.urls=n?e[0]:e,!!e.length}}))),S("ICE servers after filtering:",t.iceServers)),new r(t)},t.RTCPeerConnection.prototype=r.prototype}function W(t){t.RTCRtpSender&&!("replaceTrack"in t.RTCRtpSender.prototype)&&(t.RTCRtpSender.prototype.replaceTrack=t.RTCRtpSender.prototype.setTrack)}function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t){var e=_(t),n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(t,e,r){T("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(t).then(e,r)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var i=function(t,e,n){e in t&&!(n in t)&&(t[n]=t[e],delete t[e])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(t){return"object"===J(t)&&"object"===J(t.audio)&&(t=JSON.parse(JSON.stringify(t)),i(t.audio,"autoGainControl","mozAutoGainControl"),i(t.audio,"noiseSuppression","mozNoiseSuppression")),o(t)},r&&r.prototype.getSettings){var a=r.prototype.getSettings;r.prototype.getSettings=function(){var t=a.apply(this,arguments);return i(t,"mozAutoGainControl","autoGainControl"),i(t,"mozNoiseSuppression","noiseSuppression"),t}}if(r&&r.prototype.applyConstraints){var s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(t){return"audio"===this.kind&&"object"===J(t)&&(t=JSON.parse(JSON.stringify(t)),i(t,"autoGainControl","mozAutoGainControl"),i(t,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[t])}}}}function Y(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:e}:n.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(n)})}function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t){"object"===$(t)&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Q(t){var e=_(t);if("object"===$(t)&&(t.RTCPeerConnection||t.mozRTCPeerConnection)){if(!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var n,r,i,o=t.RTCPeerConnection.prototype[e],a=(i=function(){return arguments[0]=new("addIceCandidate"===e?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)},(r=e)in(n={})?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n);t.RTCPeerConnection.prototype[e]=a[e]})),e.version<68){var n=t.RTCPeerConnection.prototype.addIceCandidate;t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){var t=Array.prototype.slice.call(arguments),n=t[0],o=t[1],a=t[2];return i.apply(this,[n||null]).then((function(t){if(e.version<53&&!o)try{t.forEach((function(t){t.type=r[t.type]||t.type}))}catch(e){if("TypeError"!==e.name)throw e;t.forEach((function(e,n){t.set(n,Object.assign({},e,{type:r[e.type]||e.type}))}))}return t})).then(o,a)}}}function tt(t){if("object"===$(t)&&t.RTCPeerConnection&&t.RTCRtpSender&&(!t.RTCRtpSender||!("getStats"in t.RTCRtpSender.prototype))){var e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){var t=this,n=e.apply(this,[]);return n.forEach((function(e){return e._pc=t})),n});var n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){var t=n.apply(this,arguments);return t._pc=this,t}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function et(t){if("object"===$(t)&&t.RTCPeerConnection&&t.RTCRtpSender&&(!t.RTCRtpSender||!("getStats"in t.RTCRtpReceiver.prototype))){var e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){var t=this,n=e.apply(this,[]);return n.forEach((function(e){return e._pc=t})),n}),g(t,"track",(function(t){return t.receiver._pc=t.srcElement,t})),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function nt(t){t.RTCPeerConnection&&!("removeStream"in t.RTCPeerConnection.prototype)&&(t.RTCPeerConnection.prototype.removeStream=function(t){var e=this;T("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&t.getTracks().includes(n.track)&&e.removeTrack(n)}))})}function rt(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function it(t){if("object"===$(t)&&t.RTCPeerConnection){var e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var t=arguments[1],n=t&&"sendEncodings"in t;n&&t.sendEncodings.forEach((function(t){if("rid"in t){if(!/^[a-z0-9]{0,16}$/i.test(t.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in t&&!(parseFloat(t.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in t&&!(parseFloat(t.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var r=e.apply(this,arguments);if(n){var i=r.sender,o=i.getParameters();"encodings"in o||(o.encodings=t.sendEncodings,this.setParametersPromises.push(i.setParameters(o).catch((function(){}))))}return r})}}function ot(t){if("object"===$(t)&&t.RTCPeerConnection){var e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){var t=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return e.apply(n,t)})).finally((function(){n.setParametersPromises=[]})):e.apply(this,arguments)}}}function at(t){if("object"===$(t)&&t.RTCPeerConnection){var e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){var t=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return e.apply(n,t)})).finally((function(){n.setParametersPromises=[]})):e.apply(this,arguments)}}}function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t){if("object"===st(t)&&t.RTCPeerConnection){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){var e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(t){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(t)||this._localStreams.push(t),t.getAudioTracks().forEach((function(r){return e.call(n,r,t)})),t.getVideoTracks().forEach((function(r){return e.call(n,r,t)}))},t.RTCPeerConnection.prototype.addTrack=function(t){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i&&i.forEach((function(t){n._localStreams?n._localStreams.includes(t)||n._localStreams.push(t):n._localStreams=[t]})),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){var e=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(t);if(-1!==n){this._localStreams.splice(n,1);var r=t.getTracks();this.getSenders().forEach((function(t){r.includes(t.track)&&e.removeTrack(t)}))}})}}function ut(t){if("object"===st(t)&&t.RTCPeerConnection&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(t){var e=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=t),this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!e._remoteStreams.includes(t)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))})}});var e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var t=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!(t._remoteStreams.indexOf(e)>=0)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))}),e.apply(t,arguments)}}}function ht(t){if("object"===st(t)&&t.RTCPeerConnection){var e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,o=e.setRemoteDescription,a=e.addIceCandidate;e.createOffer=function(t,e){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return e?(i.then(t,e),Promise.resolve()):i},e.createAnswer=function(t,e){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return e?(i.then(t,e),Promise.resolve()):i};var s=function(t,e,n){var r=i.apply(this,[t]);return n?(r.then(e,n),Promise.resolve()):r};e.setLocalDescription=s,s=function(t,e,n){var r=o.apply(this,[t]);return n?(r.then(e,n),Promise.resolve()):r},e.setRemoteDescription=s,s=function(t,e,n){var r=a.apply(this,[t]);return n?(r.then(e,n),Promise.resolve()):r},e.addIceCandidate=s}}function ft(t){var e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){var n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=function(t){return r(lt(t))}}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(t,n,r){e.mediaDevices.getUserMedia(t).then(n,r)}.bind(e))}function lt(t){return t&&void 0!==t.video?Object.assign({},t,{video:E(t.video)}):t}function pt(t){var e=t.RTCPeerConnection;t.RTCPeerConnection=function(t,n){if(t&&t.iceServers){for(var r=[],i=0;i<t.iceServers.length;i++){var o=t.iceServers[i];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(T("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,r.push(o)):r.push(t.iceServers[i])}t.iceServers=r}return new e(t,n)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in t.RTCPeerConnection&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:function(){return e.generateCertificate}})}function dt(t){"object"===st(t)&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function vt(t){var e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(t){if(t){void 0!==t.offerToReceiveAudio&&(t.offerToReceiveAudio=!!t.offerToReceiveAudio);var n=this.getTransceivers().find((function(t){return"audio"===t.receiver.track.kind}));!1===t.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==t.offerToReceiveAudio||n||this.addTransceiver("audio"),void 0!==t.offerToReceiveVideo&&(t.offerToReceiveVideo=!!t.offerToReceiveVideo);var r=this.getTransceivers().find((function(t){return"video"===t.receiver.track.kind}));!1===t.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==t.offerToReceiveVideo||r||this.addTransceiver("video")}return e.apply(this,arguments)}}function mt(t){"object"!==st(t)||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}var yt=n(1),gt=n.n(yt);function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t){if(!(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)){var e=t.RTCIceCandidate;t.RTCIceCandidate=function(t){if("object"===bt(t)&&t.candidate&&0===t.candidate.indexOf("a=")&&((t=JSON.parse(JSON.stringify(t))).candidate=t.candidate.substr(2)),t.candidate&&t.candidate.length){var n=new e(t),r=gt.a.parseCandidate(t.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(t)},t.RTCIceCandidate.prototype=e.prototype,g(t,"icecandidate",(function(e){return e.candidate&&Object.defineProperty(e,"candidate",{value:new t.RTCIceCandidate(e.candidate),writable:"false"}),e}))}}function St(t){if(t.RTCPeerConnection){var e=_(t);"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=function(t){if(!t||!t.sdp)return!1;var e=gt.a.splitSections(t.sdp);return e.shift(),e.some((function(t){var e=gt.a.parseMLine(t);return e&&"application"===e.kind&&-1!==e.protocol.indexOf("SCTP")}))},r=function(t){var e=t.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===e||e.length<2)return-1;var n=parseInt(e[1],10);return n!=n?-1:n},i=function(t){var n=65536;return"firefox"===e.browser&&(n=e.version<57?-1===t?16384:2147483637:e.version<60?57===e.version?65535:65536:2147483637),n},o=function(t,n){var r=65536;"firefox"===e.browser&&57===e.version&&(r=65535);var i=gt.a.matchPrefix(t.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===e.browser&&-1!==n&&(r=2147483637),r},a=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===e.browser&&e.version>=76){var t=this.getConfiguration(),s=t.sdpSemantics;"plan-b"===s&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){var c,u=r(arguments[0]),h=i(u),f=o(arguments[0],u);c=0===h&&0===f?Number.POSITIVE_INFINITY:0===h||0===f?Math.max(h,f):Math.min(h,f);var l={};Object.defineProperty(l,"maxMessageSize",{get:function(){return c}}),this._sctp=l}return a.apply(this,arguments)}}}function Tt(t){if(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype){var e=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){var t=e.apply(this,arguments);return n(t,this),t},g(t,"datachannel",(function(t){return n(t.channel,t.target),t}))}function n(t,e){var n=t.send;t.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===t.readyState&&e.sctp&&i>e.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+e.sctp.maxMessageSize+" bytes)");return n.apply(t,arguments)}}}function _t(t){if(t.RTCPeerConnection&&!("connectionState"in t.RTCPeerConnection.prototype)){var e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(t){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),t&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=t)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(t){var n=e[t];e[t]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(t){var e=t.target;if(e._lastConnectionState!==e.connectionState){e._lastConnectionState=e.connectionState;var n=new Event("connectionstatechange",t);e.dispatchEvent(n)}return t},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}}function Ct(t){if(t.RTCPeerConnection){var e=_(t);if(!("chrome"===e.browser&&e.version>=71)){var n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(t){return t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")&&(t.sdp=t.sdp.split("\n").filter((function(t){return"a=extmap-allow-mixed"!==t.trim()})).join("\n")),n.apply(this,arguments)}}}}!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},c=S,u=_(e),h={browserDetails:u,commonShim:s,extractVersion:y,disableLog:b,disableWarnings:w};switch(u.browser){case"chrome":if(!r||!V||!n.shimChrome)return c("Chrome shim is not included in this adapter release."),h;if(null===u.version)return c("Chrome shim can not determine version, not shimming."),h;c("adapter.js shimming chrome."),h.browserShim=r,R(e),D(e),V(e),x(e),F(e),L(e),M(e),j(e),B(e),wt(e),_t(e),St(e),Tt(e),Ct(e);break;case"firefox":if(!o||!Q||!n.shimFirefox)return c("Firefox shim is not included in this adapter release."),h;c("adapter.js shimming firefox."),h.browserShim=o,X(e),Q(e),Z(e),nt(e),tt(e),et(e),rt(e),it(e),ot(e),at(e),wt(e),_t(e),St(e),Tt(e);break;case"edge":if(!i||!K||!n.shimEdge)return c("MS edge shim is not included in this adapter release."),h;c("adapter.js shimming edge."),h.browserShim=i,z(e),q(e),K(e),W(e),St(e),Tt(e);break;case"safari":if(!a||!n.shimSafari)return c("Safari shim is not included in this adapter release."),h;c("adapter.js shimming safari."),h.browserShim=a,pt(e),vt(e),ht(e),ct(e),ut(e),dt(e),ft(e),mt(e),wt(e),St(e),Tt(e),Ct(e);break;default:c("Unsupported browser!")}}({window:window});function Et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return kt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}c.initializeApp({apiKey:"AIzaSyBUFv7G204gWKh4xGecnrPmS6cwSrDIjcQ",authDomain:"carri-umn.firebaseapp.com",databaseURL:"https://carri-umn.firebaseio.com",projectId:"carri-umn",storageBucket:"carri-umn.appspot.com",messagingSenderId:"309483421375",appId:"1:309483421375:web:c49a9da5eeef77833e900a"});var It,Pt=document.getElementById("remoteview");((It=function(t,e){var n,r,i=e,o=new RTCPeerConnection(t),a=function(t){return o.onerror&&o.onerror(t)},s=function(t){return new Promise((function(e){return o.addEventListener(t,e)}))},c=function(t){return o.setLocalDescription(t).then((function(){return i.send(JSON.stringify({sdp:t}))}))},u=function(t){t.sdp&&o.setRemoteDescription(t.sdp).then((function(){return"stable"==o.signalingState||o.createAnswer().then(c)})).catch(a)||t.ice&&o.addIceCandidate(t.ice).catch(a)};i.onmessage=function(t){return u(JSON.parse(t.data))};var h=function(){n.onopen=function(t){(i=n).onmessage=function(t){return u(JSON.parse(t.data))},o.addEventListener("negotiationneeded",(function(t){return o.createOffer().then(c).catch(a)}))},r.onopen=function(t){return(r.onmessage=function(t){return o.onmessage&&o.onmessage(t)})&&o.onopen&&o.onopen(t)}},f=o.createOffer.bind(o);return o.createOffer=function(t){var e,i;return(n||!h((e=["signaling","chat"].map((function(t){return o.createDataChannel(t)})),i=Et(e,2),n=i[0],r=i[1])))&&f(t)},s("datachannel").then((function(t){return(n=t.channel)&&s("datachannel").then((function(t){return r=t.channel}))})).then(h),o.addEventListener("icecandidate",(function(t){return i.send(JSON.stringify({ice:t.candidate}))})),o.connect=function(){return o.createOffer().then(c).catch(a)},o.send=function(t){return r&&r.send(t)},o}({offerToReceiveAudio:!0,offerToReceiveVideo:!0},new p)).onopen=function(t){},void(It.onaddstream=function(t){Pt.srcObject=t.stream})).connect()}]);